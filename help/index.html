<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Viking Manual</title><link rel="stylesheet" type="text/css" href="viking.css"><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><meta name="description" content="Viking is a free/open source program to manage GPS data."><link rel="home" href="index.html" title="Viking Manual"><link rel="next" href="re01.html" title="viking"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"><span class="application">Viking</span> Manual</th></tr><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="re01.html">Next</a></td></tr></table><hr></div><div lang="en" class="article"><div class="titlepage"><div><div><h2 class="title"><a name="index"></a><span class="application">Viking</span> Manual</h2></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Guilhem</span> <span class="surname">Bonnefille</span></h3></div><div class="author"><h3 class="author"><span class="firstname">Rob</span> <span class="surname">Norris</span></h3></div><div class="author"><h3 class="author"><span class="firstname">username:</span> <span class="surname">Alexxy</span></h3></div><div class="author"><h3 class="author"><span class="firstname">username:</span> <span class="surname">Vikingis</span></h3></div><div class="author"><h3 class="author"><span class="firstname">username:</span> <span class="surname">Tallguy</span></h3></div><div class="author"><h3 class="author"><span class="firstname">username:</span> <span class="surname">EliotB</span></h3></div><div class="author"><h3 class="author"><span class="firstname">Alex</span> <span class="surname">Foobarian</span></h3></div></div></div><div><p class="releaseinfo">This manual describes version 1.10 of Viking.</p></div><div><p class="copyright">Copyright © 2020 Guilhem Bonnefille, Rob Norris</p></div><div><div class="legalnotice"><a name="legalnotice"></a><p>
           Permission is granted to copy, distribute and/or modify this
           document under the terms of the GNU Free Documentation
           License (GFDL), Version 1.1 or any later version published
           by the Free Software Foundation with no Invariant Sections,
           no Front-Cover Texts, and no Back-Cover Texts.  You can find
           a copy of the GFDL at this <a class="ulink" href="help:fdl" target="_top">link</a> or in the file COPYING-DOCS
           distributed with this manual.
          </p><p>
           Document and modified versions of the document are provided
           under the terms of the <span class="bold"><strong>GNU Free Documentation License</strong></span>
           with the further understanding that:
 
           </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>document is provided on an "as is" basis,
                     <span class="bold"><strong>without warranty</strong></span>
                     of any kind, either expressed or
                     implied, including, without limitation, warranties
                     that the document or modified version of the
                     document is free of defects merchantable, fit for
                     a particular purpose or non-infringing. The entire
                     risk as to the quality, accuracy, and performance
                     of the document or modified version of the
                     document is with you. Should any document or
                     modified version prove defective in any respect,
                     you (not the initial writer, author or any
                     contributor) assume the cost of any necessary
                     servicing, repair or correction. This disclaimer
                     of warranty constitutes an essential part of this
                     license. No use of any document or modified
                     version of the document is authorized hereunder
                     except under this disclaimer; and
                     under no circumstances and under no legal
                     theory, whether in tort (including negligence),
                     contract, or otherwise, shall the author,
                     initial writer, any contributor, or any
                     distributor of the document or modified version
                     of the document, or any supplier of any of such
                     parties, be liable to any person for any
                     direct, indirect, special, incidental, or
                     consequential damages of any character
                     including, without limitation, damages for loss
                     of goodwill, work stoppage, computer failure or
                     malfunction, or any and all other damages or
                     losses arising out of or relating to use of the
                     document and modified versions of the document,
                     even if such party shall have been informed of
                     the possibility of such damages.
                   </p></li></ol></div><p>
         </p></div></div><div><div class="legalnotice"><a name="idm57"></a><p class="legalnotice-title"><b>Feedback</b></p><p>To report a bug or make a suggestion regarding the <span class="application">Viking</span> application or
      this manual, follow the directions in the
      <a class="ulink" href="https://sourceforge.net/projects/viking/" target="_top">Project Website</a>.
      </p></div></div><div><div class="revhistory"><table style="border-style:solid; width:100%;" summary="Revision History"><tr><th align="left" valign="top" colspan="2"><b>Revision History</b></th></tr><tr><td align="left">Revision Viking Manual V1.10</td><td align="left">November 2021</td></tr><tr><td align="left" colspan="2">
          <p class="author">Guilhem Bonnefille <code class="email">&lt;<a class="email" href="mailto:guilhem.bonnefille@gmail.com">guilhem.bonnefille@gmail.com</a>&gt;</code></p>
          <p class="author">Rob Norris <code class="email">&lt;<a class="email" href="mailto:rw_norris@hotmail.com">rw_norris@hotmail.com</a>&gt;</code></p>
          <p class="publisher">GNOME Documentation Project</p>
          <p>This document was generated on 2023-12-29.</p>    
        </td></tr></table></div></div><div><div class="abstract"><p class="title"><b>Abstract</b></p><p><span class="application">Viking</span> is a free/open source program to manage GPS data.</p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="index.html#Introduction">1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#Flatpak">1.1. Flatpak Version</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#GeneralConcepts">2. General Concepts</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#gc_layers">2.1. Layers</a></span></dt><dt><span class="section"><a href="index.html#gc_layers_panel">2.2. Layers Panel</a></span></dt><dt><span class="section"><a href="index.html#viewport">2.3. Viewport</a></span></dt><dt><span class="section"><a href="index.html#idm152">2.4. Track Graphs</a></span></dt><dt><span class="section"><a href="index.html#Statusbar">2.5. Statusbar</a></span></dt><dt><span class="section"><a href="index.html#toolbar">2.6. Toolbar</a></span></dt><dt><span class="section"><a href="index.html#projection">2.7. Projections</a></span></dt><dt><span class="section"><a href="index.html#zoom">2.8. Zoom Level</a></span></dt><dt><span class="section"><a href="index.html#mapcache">2.9. Map Cache</a></span></dt><dt><span class="section"><a href="index.html#shortcut_keys">2.10. Shortcut Keys</a></span></dt><dt><span class="section"><a href="index.html#idm339">2.11. Keyboard Configuration</a></span></dt><dt><span class="section"><a href="index.html#idm355">2.12. Tracks vs Routes</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#FileTypes">3. File Types and the Main Window</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#idm385">3.1. New</a></span></dt><dt><span class="section"><a href="index.html#idm393">3.2. Open</a></span></dt><dt><span class="section"><a href="index.html#idm417">3.3. Open Recent File</a></span></dt><dt><span class="section"><a href="index.html#idm426">3.4. Save</a></span></dt><dt><span class="section"><a href="index.html#idm437">3.5. Save As</a></span></dt><dt><span class="section"><a href="index.html#idm447">3.6. Append File</a></span></dt><dt><span class="section"><a href="index.html#open_gpx_external">3.7. Open GPX as External Layer</a></span></dt><dt><span class="section"><a href="index.html#idm466">3.8. Properties</a></span></dt><dt><span class="section"><a href="index.html#idm473">3.9. Export All</a></span></dt><dt><span class="section"><a href="index.html#acquire">3.10. Acquire</a></span></dt><dt><span class="section"><a href="index.html#idm605">3.11. Print</a></span></dt><dt><span class="section"><a href="index.html#idm616">3.12. Generate Image File</a></span></dt><dt><span class="section"><a href="index.html#idm628">3.13. Generate Directory of Images</a></span></dt><dt><span class="section"><a href="index.html#idm636">3.14. KMZ Map File Overview</a></span></dt><dt><span class="section"><a href="index.html#idm644">3.15. Import KMZ Map File</a></span></dt><dt><span class="section"><a href="index.html#idm651">3.16. Generate KMZ Map File</a></span></dt><dt><span class="section"><a href="index.html#Calendar">3.17. Calendar</a></span></dt><dt><span class="section"><a href="index.html#Goto">3.18. Goto</a></span></dt><dt><span class="section"><a href="index.html#PanelStats">3.19. Track/Route Statistics</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#EditViewMenu">4. Edit and View Menus</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#idm692">4.1. Standard Edit Entries</a></span></dt><dt><span class="section"><a href="index.html#idm697">4.2. Map/Position Edit Entries</a></span></dt><dt><span class="section"><a href="index.html#idm717">4.3. Viking Configuration Edit Entries</a></span></dt><dt><span class="section"><a href="index.html#idm724">4.4. Mode View Entries</a></span></dt><dt><span class="section"><a href="index.html#idm728">4.5. Go to View Entries</a></span></dt><dt><span class="section"><a href="index.html#idm736">4.6. Colour View Entries</a></span></dt><dt><span class="section"><a href="index.html#idm739">4.7. Zoom View Entries</a></span></dt><dt><span class="section"><a href="index.html#idm744">4.8. Show View Entries</a></span></dt><dt><span class="section"><a href="index.html#idm748">4.9. Dialog View Entries</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#Layers">5. Layers</a></span></dt><dt><span class="section"><a href="index.html#TrackWaypoint">6. TrackWaypoint Layer</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#idm845">6.1. Layer Properties</a></span></dt><dt><span class="section"><a href="index.html#idm880">6.2. Layer Operations</a></span></dt><dt><span class="section"><a href="index.html#idm1036">6.3. Track and Route Sublayer Options</a></span></dt><dt><span class="section"><a href="index.html#track_properties">6.4. Track and Route Properties</a></span></dt><dt><span class="section"><a href="index.html#idm1154">6.5. Track and Route Operations</a></span></dt><dt><span class="section"><a href="index.html#idm1354">6.6. Waypoint Sublayer Options</a></span></dt><dt><span class="section"><a href="index.html#WptProps">6.7. Waypoint Properties</a></span></dt><dt><span class="section"><a href="index.html#idm1447">6.8. Waypoint Operations</a></span></dt><dt><span class="section"><a href="index.html#geotagging">6.9. Version1.3+: Geotag Images</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#GPS">7. GPS Layer</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#idm1513">7.1. Download</a></span></dt><dt><span class="section"><a href="index.html#idm1517">7.2. Upload</a></span></dt><dt><span class="section"><a href="index.html#idm1521">7.3. Realtime Tracking</a></span></dt><dt><span class="section"><a href="index.html#idm1528">7.4. Empty <span class="emphasis"><em>Item</em></span></a></span></dt></dl></dd><dt><span class="section"><a href="index.html#Map">8. Map Layer</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#map_props">8.1. Map Layer Properties</a></span></dt><dt><span class="section"><a href="index.html#idm1724">8.2. Layer Operations</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#Aggregate">9. Aggregate Layer</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#idm1774">9.1. Tracks Area Coverage</a></span></dt><dt><span class="section"><a href="index.html#idm1794">9.2. Heatmap</a></span></dt><dt><span class="section"><a href="index.html#idm1806">9.3. Layer Properties: Tracks Area Coverage</a></span></dt><dt><span class="section"><a href="index.html#idm1809">9.4. Layer Properties: TAC Advanced</a></span></dt><dt><span class="section"><a href="index.html#idm1814">9.5. Layer Properties: Heatmap</a></span></dt><dt><span class="section"><a href="index.html#idm1819">9.6. Layer Operations</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#DEM">10. DEM (Digital Elevation Model) Layer</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#idm2110">10.1. Layer Properties</a></span></dt><dt><span class="section"><a href="index.html#idm2187">10.2. Layer Operations</a></span></dt><dt><span class="section"><a href="index.html#idm2190">10.3. Screenshot</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#GeoRef">11. GeoRef Layer</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#idm2210">11.1. Layer Properties</a></span></dt><dt><span class="section"><a href="index.html#idm2222">11.2. Layer Operations</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#GeoClue">12. GeoClue Layer</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#idm2245">12.1. Layer Properties</a></span></dt><dt><span class="section"><a href="index.html#idm2279">12.2. Layer Operations</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#MapnikRendering">13. Mapnik Rendering Layer</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#idm2310">13.1. Layer Properties</a></span></dt><dt><span class="section"><a href="index.html#idm2328">13.2. Layer Operations</a></span></dt><dt><span class="section"><a href="index.html#idm2340">13.3. Viewport Tools</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#Coordinate">14. Coordinate Layer</a></span></dt><dt><span class="section"><a href="index.html#tools">15. Tools</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#selecttool">15.1. Select (Version1.9+)</a></span></dt><dt><span class="section"><a href="index.html#pantool">15.2. Pan</a></span></dt><dt><span class="section"><a href="index.html#zoomtool">15.3. Zoom</a></span></dt><dt><span class="section"><a href="index.html#rulertool">15.4. Ruler</a></span></dt><dt><span class="section"><a href="index.html#trw_tools">15.5. TrackWaypoint Layer Tools</a></span></dt><dt><span class="section"><a href="index.html#georef_tools">15.6. Georef Map Layer Tools</a></span></dt><dt><span class="section"><a href="index.html#map_tool_dl">15.7. Map Download</a></span></dt><dt><span class="section"><a href="index.html#dem_tool_dl">15.8. DEM Download</a></span></dt><dt><span class="section"><a href="index.html#idm2641">15.9. Webtools</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#prefs">16. Preferences</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#idm2652">16.1. General</a></span></dt><dt><span class="section"><a href="index.html#prefs_external">16.2. Export/External</a></span></dt><dt><span class="section"><a href="index.html#prefs_advanced">16.3. Advanced</a></span></dt><dt><span class="section"><a href="index.html#prefs_osm">16.4. OpenStreetMap Traces</a></span></dt><dt><span class="section"><a href="index.html#prefs_mapnik">16.5. Mapnik</a></span></dt><dt><span class="section"><a href="index.html#prefs_routing">16.6. Routing</a></span></dt><dt><span class="section"><a href="index.html#prefs_startup">16.7. Startup</a></span></dt><dt><span class="section"><a href="index.html#prefs_dem_server">16.8. DEM Server</a></span></dt><dt><span class="section"><a href="index.html#prefs_toolbar">16.9. Toolbar</a></span></dt><dt><span class="section"><a href="index.html#prefs_trackprops">16.10. Track Properties Dialog</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#Howto">17. Howto's</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#howto_start">17.1. Getting Started</a></span></dt><dt><span class="section"><a href="index.html#idm3096">17.2. From 1st startup to GPS track (including offline maps)</a></span></dt><dt><span class="section"><a href="index.html#idm3271">17.3. OpenStreetMap project</a></span></dt><dt><span class="section"><a href="index.html#idm3310">17.4. Geotagging</a></span></dt><dt><span class="section"><a href="index.html#gpsd">17.5. GPS Real Time Location</a></span></dt><dt><span class="section"><a href="index.html#idm3389">17.6. What to Do if Viking Does Not Seem to Work</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#extend_viking">18. Extending Viking</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#map_source">18.1. Map Sources</a></span></dt><dt><span class="section"><a href="index.html#search_provider">18.2. Go-to Search Engines</a></span></dt><dt><span class="section"><a href="index.html#idm3671">18.3. External Tools</a></span></dt><dt><span class="section"><a href="index.html#idm3702">18.4. Routing Engines</a></span></dt><dt><span class="section"><a href="index.html#idm3774">18.5. Remote File Datasources</a></span></dt><dt><span class="section"><a href="index.html#idm3830">18.6. System Extension File Locations</a></span></dt><dt><span class="section"><a href="index.html#config_file_loc">18.7. User Configuration File Location</a></span></dt><dt><span class="section"><a href="index.html#misc_settings">18.8. Miscellaneous Settings</a></span></dt><dt><span class="section"><a href="index.html#config_keys">18.9. Keyboard Shortcuts (Accelerator) Settings</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#recommends">19. Recommended Programs</a></span></dt><dt><span class="section"><a href="index.html#commandline">20. Command Line</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#idm4177">20.1. Overview</a></span></dt><dt><span class="section"><a href="index.html#idm4244">20.2. Details</a></span></dt></dl></dd><dt><span class="section"><a href="index.html#attrib">21. Attributions</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#idm4347">21.1. coords.c + coords.h</a></span></dt><dt><span class="section"><a href="index.html#idm4352">21.2. strtod.c</a></span></dt><dt><span class="section"><a href="index.html#idm4359">21.3. kdtree - 0.5.6</a></span></dt><dt><span class="section"><a href="index.html#idm4369">21.4. fpconv</a></span></dt><dt><span class="section"><a href="index.html#idm4379">21.5. GtkHTML 4.10.0</a></span></dt><dt><span class="section"><a href="index.html#idm4388">21.6. libheatmap</a></span></dt><dt><span class="section"><a href="index.html#idm4398">21.7. Data: cities15000.txt</a></span></dt><dt><span class="section"><a href="index.html#idm4408">21.8. Data: Response to online request made in vikgoto.c</a></span></dt><dt><span class="section"><a href="index.html#idm4414">21.9. Artwork: Icons</a></span></dt></dl></dd></dl></div><a class="indexterm" name="idm62"></a><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Introduction"></a>1. Introduction</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#Flatpak">1.1. Flatpak Version</a></span></dt></dl></div><p>
Viking aims to be easy to use, yet powerful in accomplishing a wide
variety of tasks. Some of the things you can use Viking for are:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: opencircle; "><li class="listitem" style="list-style-type: circle"><p>
Uploading and downloading waypoints, tracks and routes to/from GPS.
</p></li><li class="listitem" style="list-style-type: circle"><p>Preparing tracks, routes and waypoints for trips using maps from services such as OpenStreetMap (OSM).
The data is only needed to be uploaded to your GPS before you leave.
The maps together with your tracks, routes and waypoints can also be printed and used during the trip.
</p></li><li class="listitem" style="list-style-type: circle"><p>
After trips, tracks and waypoints from GPS can be downloaded, stored, managed and reused in your (or your friends') later trips.
</p></li><li class="listitem" style="list-style-type: circle"><p>
Analyzing Off Highway Vehicle (OHV) and hiking trips, understanding where you went and how far you were from something.
</p></li><li class="listitem" style="list-style-type: circle"><p>Making waypoints, tracks and routes to follow to easily get some place
you've never been before or don't have GPS data for but online
maps exist for it.
</p></li><li class="listitem" style="list-style-type: circle"><p>
Making maps with using <a class="ulink" href="https://mapnik.org/" target="_top">Mapnik</a>.
Not on <span class="trademark">Windows</span>™ at the moment.
</p></li><li class="listitem" style="list-style-type: circle"><p>
Grouping data from multiple trips using a hierarchical data manager.
</p></li><li class="listitem" style="list-style-type: circle"><p>
Analyzing speed at different places (to some degree), adding waypoints where you forgot to mark one but did slow down or stop.
</p></li><li class="listitem" style="list-style-type: circle"><p>
Downloading and storing OpenStreetMap and/or other map types on your hard drive and looking at them later.
</p></li><li class="listitem" style="list-style-type: circle"><p>
Editing routes or tracks and their trackpoints, joining and splitting up tracks and routes.
</p></li><li class="listitem" style="list-style-type: circle"><p>
Show the live GPS position on the map (for use on a mobile device - e.g. a laptop). Not <span class="trademark">Windows</span>™ at the moment.
</p></li><li class="listitem" style="list-style-type: circle"><p>
Import and export track, route and waypoint files of various types via <span class="application">GPSBabel</span>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
Previously on <span class="trademark">Windows</span>™, <span class="application">GPSBabel</span> was distributed with Viking, but this no longer the case.
</p><p>
It can be downloaded from its website <a class="ulink" href="https://www.gpsbabel.org" target="_top">https://www.gpsbabel.org</a>.
</p></td></tr></table></div></li><li class="listitem" style="list-style-type: circle"><p>
View, create and update Geotagged Images (using EXIF data).
</p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
Viking is under continual improvement: see the  the <a class="ulink" href="https://sourceforge.net/p/viking/wikiallura/Main_Page/#todo-ideas" target="_top"><em class="citetitle">Roadmap / Wishlist</em></a>:
</p></td></tr></table></div><div class="figure"><a name="idm109"></a><p class="title"><b>Figure 1. Screenshot: OSM Cycle Map and Many Tracks</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/Viking-OSM-CycleMap-ManyTracks.jpg" alt="Screenshot: OSM Cycle Map and Many Tracks"></div></div><div class="informalexample"><p>
Here the toolbar is on the same line as the Menubar.
This is set via the <a class="xref" href="index.html#prefs" title="16. Preferences">Preferences</a> <span class="guimenu">Toolbar</span> → <span class="guisubmenu">Append to Menu</span> setting.
</p></div></div></div><br class="figure-break"><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Flatpak"></a>1.1. Flatpak Version</h3></div></div></div><p>
  Viking is now available for use in Linux as a Flatpak, however since Viking is running in a sandbox some system integration features no longer work properly in the Flatpak runtime.
</p><p>
  See the file <code class="filename">FLATPAK.md</code> in the top level of the source distribution for more detail.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="GeneralConcepts"></a>2. General Concepts</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#gc_layers">2.1. Layers</a></span></dt><dt><span class="section"><a href="index.html#gc_layers_panel">2.2. Layers Panel</a></span></dt><dt><span class="section"><a href="index.html#viewport">2.3. Viewport</a></span></dt><dt><span class="section"><a href="index.html#idm152">2.4. Track Graphs</a></span></dt><dt><span class="section"><a href="index.html#Statusbar">2.5. Statusbar</a></span></dt><dt><span class="section"><a href="index.html#toolbar">2.6. Toolbar</a></span></dt><dt><span class="section"><a href="index.html#projection">2.7. Projections</a></span></dt><dt><span class="section"><a href="index.html#zoom">2.8. Zoom Level</a></span></dt><dt><span class="section"><a href="index.html#mapcache">2.9. Map Cache</a></span></dt><dt><span class="section"><a href="index.html#shortcut_keys">2.10. Shortcut Keys</a></span></dt><dt><span class="section"><a href="index.html#idm339">2.11. Keyboard Configuration</a></span></dt><dt><span class="section"><a href="index.html#idm355">2.12. Tracks vs Routes</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="gc_layers"></a>2.1. Layers</h3></div></div></div><p>
<span class="emphasis"><em>Layers</em></span> is concept one may know from powerful graphics editors such as <span class="application">Photoshop</span> or <span class="application">GIMP</span>.
Instead of putting all the data on the same level, it is stacked (i.e. layered) with different data over one another.
This can be useful for analysis and general handling of various sets of data.
</p><p>
Unfortunately the downside of this complexity is remembering how differing layers of data can obscure other data.
</p><p><a name="Alpha"></a>
The Map layers and various other image features have <a class="ulink" href="https://en.wikipedia.org/wiki/Alpha_compositing" target="_top"><em class="citetitle">Alpha Compositing</em></a>,
to create the appearance of partial transparency.
This is a value between 0 and 255 with the default being 255 for a fully solid image, whereas 0 is fully transparent.
By controlling this value one can see data below it in the layer hierarchy for interesting effects. A value of around 160 can be useful for blending views.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="gc_layers_panel"></a>2.2. Layers Panel</h3></div></div></div><p>
The panel on the left is called the <span class="bold"><strong>layers panel</strong></span>.
It determines which layers and sublayers (such as tracks and waypoints)
are shown, and the order in which they are drawn. Layers on the
top of the layers panel list are drawn last. You can change the order by
drag and drop, or by selecting a layer and using the up and down
buttons at the bottom of the layers panel.
</p><p>
  The panel also contains tabs for <a class="xref" href="index.html#Calendar" title="3.17. Calendar">Section 3.17, “Calendar”</a>, <a class="xref" href="index.html#Goto" title="3.18. Goto">Section 3.18, “Goto”</a> and <a class="xref" href="index.html#PanelStats" title="3.19. Track/Route Statistics">Section 3.19, “Track/Route Statistics”</a> features.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="viewport"></a>2.3. Viewport</h3></div></div></div><p>
The main Viking area where the layer data is drawn, is called the <span class="bold"><strong>viewport</strong></span>.
</p><p>
This will typically include a <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a> layer with a default map created as standard.
</p><p>
Using the mouse (and keyboard) you can move and zoom the viewport or select items on view.
See the <a class="xref" href="index.html#tools" title="15. Tools">Tools</a> section for further details about different modes and the various control options supported.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm152"></a>2.4. Track Graphs</h3></div></div></div><p>
Below the viewport can be shown track (and route) elevation/distance and time/speed (tracks only) graphs of the selected item.
These are the same graphs as shown in <a class="xref" href="index.html#track_properties" title="6.4. Track and Route Properties">Track and Route Properties</a>.
The graphs will automatically hide itself when nothing or no suitable item is selected.
</p><p>
Moving the mouse pointer over the graphs will show a tooltip readout of the nearest trackpoint.
Similarly to the track properties graphs, left clicking will center the viewport on the trackpoint.
A right click menu offers controls of the drawing options, a subset of track operations and access to further information dialogs.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Statusbar"></a>2.5. Statusbar</h3></div></div></div><p>This provides a readout of various information:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The currently selected (mouse pointer) tool</p></li><li class="listitem"><p>The number of items to process in the background - normally this the number in the map tile download queue</p></li><li class="listitem"><p>The zoom level</p></li><li class="listitem"><p>The location of the mouse pointer (and potentially height information if <a class="xref" href="index.html#DEM" title="10. DEM (Digital Elevation Model) Layer">DEM</a> data is available)</p></li><li class="listitem"><p>The number of log messages</p></li><li class="listitem"><p>A general feedback area, such as the result of an operation or information about the selected item</p></li></ul></div><p>E.g. when creating a track/route, the general feedback area displays some information about the track/route.</p><div class="figure"><a name="idm175"></a><p class="title"><b>Figure 2. Statusbar</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/trw_statusbar.png" alt="Statusbar"></div></div></div></div><br class="figure-break"><p>This part of the statusbar displays:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The total distance of the track/route (including currently edited segment).</p></li><li class="listitem"><p>The bearing of the currently edited segment.</p></li><li class="listitem"><p>The distance of the currently edited segment.</p></li></ul></div><p>
</p><p>Left clicking on the number of background processes opens a dialog from which the processes can be inspected and cancelled.</p><p>Left clicking on the number of log messages opens a dialog from which the messages can be viewed, filtered, copied and cleared.
Newest messages are put at the top of the list.</p><p>For convenience, a zoom selector can be opened from the status bar. Simply left-click on the zoom level.</p><div class="figure"><a name="idm190"></a><p class="title"><b>Figure 3. The zoom selector available from status bar</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/zoom_status_popup.png" alt="The zoom selector available from status bar"></div></div></div></div><br class="figure-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="toolbar"></a>2.6. Toolbar</h3></div></div></div><p>The toolbar is an area for buttons that perform common actions.</p><p>Some actions are modal, so the appropriate layer needs selected before these toolbar buttons are enabled. See <a class="xref" href="index.html#tools" title="15. Tools">Tools</a> more detail.</p><p>The display of the toolbar is influenced by the <a class="xref" href="index.html#prefs_toolbar" title="16.9. Toolbar">Toolbar Preferences</a></p><p>Right clicking on the toolbar and selecting <span class="guimenu">Customize</span> allows jumping to the <a class="xref" href="index.html#prefs_toolbar_customize" title="16.9.4. Customize">Customize Toolbar</a> directly.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="projection"></a>2.7. Projections</h3></div></div></div><p>
Viking supports different projections:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>UTM</p></li><li class="listitem"><p>LatLon (also called EPSG:4326)</p></li><li class="listitem"><p>Mercator (also called Spherical Mercator)</p></li></ul></div><p>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="zoom"></a>2.8. Zoom Level</h3></div></div></div><p>
Viking uses a zoom level measured as a pixel factor in Metres Per Pixel (MPP), hence this may also be referred to as a zoom factor. By default in this document the zoom level refers to Viking's MPP definition unless otherwise stated.
</p><p>
This is in contrast to Tiled Web Map systems such as OpenStreetMap which use the <a class="ulink" href="https://wiki.openstreetmap.org/wiki/Zoom_levels" target="_top">Zoom Level</a> as a measure of how much of the world is visible on the map.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mapcache"></a>2.9. Map Cache</h3></div></div></div><p>
Viking stores downloaded map tiles to disk for a couple of reasons:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Enables off line usage</p></li><li class="listitem"><p>Reduces loading on the map tile provider</p></li></ul></div><p>
The Viking automatic caching strategy is two fold:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
  If the age of the tile on disk is less than the specified tile age (see <a class="xref" href="index.html#prefs" title="16. Preferences">Preferences</a>),
  it will <span class="emphasis"><em>not</em></span> attempt to contact the server to get a new version of the tile.
</p></li><li class="listitem"><p>
  When the tile age has expired Viking will attempt a <span class="emphasis"><em>refresh</em></span> update, so that it provides the cached tile generation timestamp so the server can determine if a new tile image needs to be returned. Not all map types support this refresh method.
</p></li></ul></div><p>
  You can override the caching scheme by using right-click on the Map on the layers panel and selecting <span class="guimenuitem">Redownload All Onscreen Maps</span>, or <span class="keycap"><strong>Ctrl+F5</strong></span> for the top most map displayed. This will get the latest version held by the server.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
  This can be useful if you contribute to OpenStreetMap and wish to see your modifications (of course give time for the server to have processed your changes - see <a class="ulink" href="https://help.openstreetmap.org/questions/102/i-have-made-edits-but-they-dont-show-up-on-the-map" target="_top">I have made edits but they don't show up on the map</a>)
</p></td></tr></table></div><p>
The layout of the cache on disk itself can be controlled via a per Map Layer property.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Viking - Legacy default in a private cache layout scheme</p></li><li class="listitem"><p>OSM - Newer available default (1.6+)</p><p>
This is to increase the compatibility between Viking and similar applications that cache tiles on disk so that the tiles can be shared.
</p></li></ul></div><p>

</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="shortcut_keys"></a>2.10. Shortcut Keys</h3></div></div></div><p>
Viking has several shortcut keys or key combinations for commands as listed in the main window along side the command.
</p><p>
By default some function keys follow standard GUI behaviour:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="keycap"><strong>F1</strong></span> Help (view this manual)</p></li><li class="listitem"><p><span class="keycap"><strong>F5</strong></span> or <span class="keycap"><strong>Ctrl+R</strong></span> Refresh the maps on screen</p></li><li class="listitem"><p><span class="keycap"><strong>F10</strong></span> Select the Menubar (in built behaviour)</p></li><li class="listitem"><p><span class="keycap"><strong>F11</strong></span> Full Screen</p></li><li class="listitem"><p><span class="keycap"><strong>Ctrl+F5</strong></span> or <span class="keycap"><strong>Ctrl+Shift+R</strong></span> Redownload the maps on screen</p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
Refresh attempts to get new maps only if the local tile cache time period has expired for any particular map tile.
Redownload gets all on screen maps from the server, ignoring the local tile cache.
</p></td></tr></table></div><p>
Other function keys control turn on/off visibility of various elements:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="keycap"><strong>F3</strong></span> Toggle visibility of the Toolbar</p></li><li class="listitem"><p><span class="keycap"><strong>F4</strong></span> Toggle visibility of the Menubar</p></li><li class="listitem"><p><span class="keycap"><strong>Shift+F5</strong></span> Toggle visibility of the Scale indicator on the viewport</p></li><li class="listitem"><p><span class="keycap"><strong>F6</strong></span> Toggle visibility of the Center Crosshairs on the viewport</p></li><li class="listitem"><p><span class="keycap"><strong>F7</strong></span> Toggle showing selected items (e.g. tracks or waypoints) in the highlight colour in the viewport</p></li><li class="listitem"><p><span class="keycap"><strong>Shift+F8</strong></span> Toggle visibility of the calendar</p></li><li class="listitem"><p><span class="keycap"><strong>Shift+F9</strong></span> Toggle visibility of the Layers Panel buttons</p></li><li class="listitem"><p><span class="keycap"><strong>F9</strong></span> Toggle visibility of the Layers Panel</p></li><li class="listitem"><p><span class="keycap"><strong>F12</strong></span> Toggle visibility of the Statusbar</p></li><li class="listitem"><p><span class="keycap"><strong>Shift+F12</strong></span> Toggle visibility of the Track Graphs</p></li></ul></div><p>
Standard shortcuts are provided for normal GUI operations: such as creating new files, opening, saving and exiting.
Then there are shortcuts specific to Viking to switch projection modes, zoom in/out, create layers, switch the active tool mode and move the map:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="keycap"><strong>Ctrl+Up</strong></span> Pan the viewport North</p></li><li class="listitem"><p><span class="keycap"><strong>Ctrl+Right</strong></span> Pan the viewport East</p></li><li class="listitem"><p><span class="keycap"><strong>Ctrl+Down</strong></span> Pan the viewport South</p></li><li class="listitem"><p><span class="keycap"><strong>Ctrl+Left</strong></span> Pan the viewport West</p></li><li class="listitem"><p><span class="keycap"><strong>Ctrl+Keypad+</strong></span> Zoom In</p></li><li class="listitem"><p><span class="keycap"><strong>Ctrl+Keypad-</strong></span> Zoom Out</p></li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>These work irrespective of the <a class="xref" href="index.html#tools" title="15. Tools">Tools</a> mode selected</p></td></tr></table></div><p>
  <span class="keycap"><strong>Up</strong></span>,<span class="keycap"><strong>Left</strong></span>,<span class="keycap"><strong>Right</strong></span> and <span class="keycap"><strong>Down</strong></span> also pan the viewport in the respective direction when any of the primary window tools is active (<a class="xref" href="index.html#selecttool" title="15.1. Select (Version1.9+)">Select</a> (when nothing is selected), <a class="xref" href="index.html#pantool" title="15.2. Pan">Pan</a>, <a class="xref" href="index.html#zoomtool" title="15.3. Zoom">Zoom</a> or <a class="xref" href="index.html#rulertool" title="15.4. Ruler">Ruler</a>)
</p><p>
For other combinations see the menu entry themselves.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm339"></a>2.11. Keyboard Configuration</h3></div></div></div><p>Keyboard configuration is supported by the standard GTK+ way of changing shortcuts for menu entries.</p><p>Hover over the menu option with the mouse pointer and press the keyboard shortcut you want to bind it to.</p><p>To delete a keyboard assignment, press <span class="keycap"><strong>Backspace</strong></span> whilst over the menu entry.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
	If the keyboard shortcut is already in use you will not receive any notification that new action replaces the old action.
	This is probably why most distributions have this facility disabled by default.
	Thus you will need to enable <span class="emphasis"><em>Editable menu accelerators</em></span> for your system.
	Check the Desktop Menu and Toolbar Control or other User Interface preferences for this setting.
</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
	For Windows systems this can be done by adding the line <span class="emphasis"><em>gtk-can-change-accels=1</em></span> to <code class="filename">%USERPROFILE%\.gtkrc-3.0</code> (create the file if it does not exist).
</p></td></tr></table></div><p>From <span class="application">Viking</span> 1.6+ the keyboard configuration is automatically loaded and saved between sessions in the <a class="xref" href="index.html#config_keys" title="18.9. Keyboard Shortcuts (Accelerator) Settings">Keyboard Shortcuts File</a></p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm355"></a>2.12. Tracks vs Routes</h3></div></div></div><p>
In theory a route is path you are planning to follow and a track is of where you have actually been. The GPX specification splits these into two separate categories, although tracks contain everything a route may have.
</p><p>
Q. When planning a <span class="emphasis"><em>route</em></span> what difference does it make if it's a route or a track?
</p><p>
A. One difference is in how a GPS device navigates following the route or track.
The capability, the options and data on a particular device also effect how the navigation is performed.
Often the how a device actually works doesn't seem to be formally documented by the manufacturer (and can be firmware dependent too).
Web searches can reveal people's experiences with specific devices on blogs and various forums.
For some devices it will attempt to navigate between route points, which may then suggest various roads and tracks between the points using an internal routing algorithm with some kind of transport profile.
However this is limited to the quality of data available and how well the profile matches ones actual need.
If the points are close enough then the 'best' route for any form of transport will typically be the straight line between the points.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
There are often restrictions on the numbers of route (or track) points the GPS Device can handle - may be 250 or as little as 50.
This generally not a problem for shorter routes, but needs managing for longer or detailed routes.
The number of track points is normally alot higher (e.g. 500 or typically with latest devices 10,000 or more) and less of a problem.
</p><p>
  See <a class="xref" href="index.html#gpx_simplify" title="16.2.11. Auto Device GPX Simplify">Auto GPX Simplify</a> for help to manage this.
</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="FileTypes"></a>3. File Types and the Main Window</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#idm385">3.1. New</a></span></dt><dt><span class="section"><a href="index.html#idm393">3.2. Open</a></span></dt><dt><span class="section"><a href="index.html#idm417">3.3. Open Recent File</a></span></dt><dt><span class="section"><a href="index.html#idm426">3.4. Save</a></span></dt><dt><span class="section"><a href="index.html#idm437">3.5. Save As</a></span></dt><dt><span class="section"><a href="index.html#idm447">3.6. Append File</a></span></dt><dt><span class="section"><a href="index.html#open_gpx_external">3.7. Open GPX as External Layer</a></span></dt><dt><span class="section"><a href="index.html#idm466">3.8. Properties</a></span></dt><dt><span class="section"><a href="index.html#idm473">3.9. Export All</a></span></dt><dt><span class="section"><a href="index.html#acquire">3.10. Acquire</a></span></dt><dt><span class="section"><a href="index.html#idm605">3.11. Print</a></span></dt><dt><span class="section"><a href="index.html#idm616">3.12. Generate Image File</a></span></dt><dt><span class="section"><a href="index.html#idm628">3.13. Generate Directory of Images</a></span></dt><dt><span class="section"><a href="index.html#idm636">3.14. KMZ Map File Overview</a></span></dt><dt><span class="section"><a href="index.html#idm644">3.15. Import KMZ Map File</a></span></dt><dt><span class="section"><a href="index.html#idm651">3.16. Generate KMZ Map File</a></span></dt><dt><span class="section"><a href="index.html#Calendar">3.17. Calendar</a></span></dt><dt><span class="section"><a href="index.html#Goto">3.18. Goto</a></span></dt><dt><span class="section"><a href="index.html#PanelStats">3.19. Track/Route Statistics</a></span></dt></dl></div><p>
Viking has it's own file type traditionally marked by the <span class="emphasis"><em>.vik</em></span> file extension.
This is a plain text file saving all information of the current window including the view location, zoom level, projection type and then all the layer information (aggregates, maps, tracks, waypoints, etc...).
</p><p>
Besides it's own file type, Viking can open (and save to via export methods) GPX, TCX and KML file types.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
Extensions from GPX 1.1 are supported in a read/write only fashion; with viewing of the raw data (i.e. no editing).
The arbitrary extension information is not saved in .vik format files.
</p><p>
Specific GPX 1.1 extensions such as heart rate, cadence, temperature and power are supported for viewing (including overview graphs) and these values will also be saved in .vik format files.
</p></td></tr></table></div><p>
By default Viking opens a window centered on the home location with the default <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a>. This behaviour can be changed by the <a class="xref" href="index.html#prefs_startup" title="16.7. Startup">Startup Preferences</a>.
Each window contains menus, a toolbar, a viewport, layers panel and a statusbar.
Each section (apart from the viewport) can be hidden using the <a class="xref" href="index.html#shortcut_keys" title="2.10. Shortcut Keys">Shortcut Keys</a> or from the
<span class="guimenu">View</span> → <span class="guisubmenu">Show</span> choices.
</p><p>
One may consider each Viking window to be a separate project - each with it's project <span class="emphasis"><em>Viking</em></span> file.
However generally one window is enough for most purposes!
</p><p>
  To indicate when changes have been made the name is preceded by an '*'.
</p><p>
Several operations apply at the window level as follows next.
Also see <a class="xref" href="index.html#tools" title="15. Tools">Tools</a> for the operational modes that generally work in conjunction with a selected layer.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm385"></a>3.1. New</h3></div></div></div><p>
Located on the <span class="guimenu">File</span> → <span class="guisubmenu">New</span> menu and on the toolbar <span class="guibutton">New</span>.
</p><p>
This creates a new window with the default settings.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm393"></a>3.2. Open</h3></div></div></div><p>
Located on the <span class="guimenu">File</span> → <span class="guisubmenu">Open</span> menu and on the toolbar <span class="guibutton">Open</span>.
</p><p>
This opens a file chooser dialog to select one (or more) files of the supported GPS data file types:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Viking</p></li><li class="listitem"><p>GPX</p></li><li class="listitem"><p>TCX</p></li><li class="listitem"><p>KML</p></li><li class="listitem"><p>JPG</p></li></ul></div><p>
</p><p>
GPX, TCX, KML and JPG files will be loaded into the existing Viking view. A <span class="emphasis"><em>Viking</em></span> file will be given a new window if the current window is already assigned.
</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>
Viking handles more file types via the <a class="link" href="index.html#acquire" title="3.10. Acquire">Acquire</a> methods below.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm417"></a>3.3. Open Recent File</h3></div></div></div><p>
Located on the <span class="guimenu">File</span> → <span class="guisubmenu">Open Recent File</span> menu only.
</p><p>
The most recently opened files are available for opening again.
The number of files remembered is controlled by a value in the <a class="xref" href="index.html#prefs_advanced" title="16.3. Advanced">Advanced Preferences</a>.
</p><p>
Note that files imported via the Acquire mechanism are not available in this list.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm426"></a>3.4. Save</h3></div></div></div><p>
Located on the <span class="guimenu">File</span> → <span class="guisubmenu">Save</span> menu and on the toolbar <span class="guibutton">Save</span>.
</p><p>
If the current opened file is <span class="emphasis"><em>Viking</em></span> file, this save will simply update it.
If it is a new file or the file loaded was an external type (i.e. GPX or KML), then this will ask for a <span class="emphasis"><em>new name</em></span> to save as a <span class="emphasis"><em>Viking</em></span> file.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm437"></a>3.5. Save As</h3></div></div></div><p>
Located on the <span class="guimenu">File</span> → <span class="guisubmenu">Save As</span> menu only.
</p><p>
This will ask for a <span class="emphasis"><em>new name</em></span> to save as a <span class="emphasis"><em>Viking</em></span> file (even it was already a <span class="emphasis"><em>Viking</em></span> file).
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm447"></a>3.6. Append File</h3></div></div></div><p>
Located on the <span class="guimenu">File</span> → <span class="guisubmenu">Append File...</span> menu only.
</p><p>
Selecting a <span class="emphasis"><em>Viking</em></span> file from this method will join the file contents to the current window (instead of creating a new one).
</p><p>
GPX and KML files may also be appended, whereby the file contents are added to the currently selected  <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> or <a class="xref" href="index.html#Aggregate" title="9. Aggregate Layer">Aggregate</a> layer. Otherwise they are loaded in the normal file open method when no layer is selected.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="open_gpx_external"></a>3.7. Open GPX as External Layer</h3></div></div></div><p>
Located on the <span class="guimenu">File</span> → <span class="guisubmenu">Open GPX as External Layer...</span> menu only.
</p><p>
Selecting a GPX file from this method will create an external <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> Layer that loads from the specified file.
The layer is marked as a "no write" external layer, which means any changes made will not be written back to the GPX file.
To enable changes to be written, you can change the layer to a standard external layer in the layer properties dialog.
This is in contrast to importing the data and storing it in the Viking file.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm466"></a>3.8. Properties</h3></div></div></div><p>
Located on the <span class="guimenu">File</span> → <span class="guisubmenu">Properties</span> menu only.
</p><p>
Displays some simple properties about the loaded Viking project file (if any), such as full filename including the path, the filesize and the date/time of the file.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm473"></a>3.9. Export All</h3></div></div></div><p>
Located on the <span class="guimenu">File</span> → <span class="guisubmenu">Export All</span> menu only.
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">GPX</span>, </span><span class="term"><span class="guilabel">KML</span></span></dt><dd><p>This allows converting every <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layer from the existing project into files of the type choosen.
You will be prompted for a directory into which a new file for each layer will be saved.
</p><p>
The KML option uses <span class="application">GPSBabel</span> and so will not be available if <span class="application">GPSBabel</span> can not be detected.
</p></dd><dt><span class="term"><span class="guilabel">Single GPX File</span></span></dt><dd><p>This allows exporting all visible <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layers into a single GPX file.
</p></dd></dl></div><p>
Note that some data properties are not supported by the target export file type. Such as item visibility or track colours.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="acquire"></a>3.10. Acquire</h3></div></div></div><p>
Available on the <span class="guimenu">File</span> → <span class="guisubmenu">Acquire</span> menu and from the <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layer menu.
</p><p>
If used from the <span class="guimenu">File</span> menu these methods place the results in a new TrackWaypoint layer.
</p><p>
If used from the <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layer menu these methods place the results in that TrackWaypoint layer.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm509"></a>3.10.1. From GPS</h4></div></div></div><p>
<span class="guimenu">File</span> → <span class="guimenuitem">Acquire</span> → <span class="guimenuitem">From GPS</span>
A way of getting information from GPS Devices using <span class="application">GPSBabel</span> to perform the transfer, typically via serial link connections.
</p><p>
Select the GPS Device communication settings and then hit <span class="guibutton">OK</span>.
See the <a class="link" href="index.html#method_b">Getting Started</a> section for more info about the settings.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
  Only a limited number of devices are supported this way (e.g. Garmin Etrex Legend devices first available ~2003).
</p><p>
  For the majority of current (circa 2010-2020) Garmin handheld devices and many other consumer handheld GPS devices (including SatNav style devices such as the <span class="trademark">Garmin Nuvi 255</span>™) only support a native file system and write information to a <code class="filename">Current.gpx</code> file or similar. You will have to browse the file system on the device, opening it directly via <span class="guimenu">File</span> → <span class="guimenuitem">Open</span>.
</p><p>
  For modern (circa 2015 onwards) wearable devices such as Garmin Forerunner, Fitbit, Suuntu etc...,
  often have their own propriety binary (often wireless) protocols - not compatibile with GPSBabel and thus not Viking directly either.
  You would need to use their programs / apps to export to an open standard (such as GPX) for use with Viking.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm529"></a>3.10.2. Import File With GPSBabel</h4></div></div></div><p>
<span class="guimenu">File</span> → <span class="guimenuitem">Acquire</span> → <span class="guimenuitem">Import File With GPSBabel</span>
</p><p>
Other formats can be imported that are supported by GPSBabel.
</p><p>
You need to select the file <span class="emphasis"><em>and</em></span> the type of the file that is going to be opened,
since there is no automatic detection of the file kind.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm539"></a>3.10.3. OSM Traces</h4></div></div></div><p>
<span class="guimenu">File</span> → <span class="guimenuitem">Acquire</span> → <span class="guimenuitem">OSM Traces</span>
</p><p>
See <a class="xref" href="index.html#osm_dl" title="17.3.2. Downloading Traces from OpenStreetMap">OpenStreetMap Traces Download</a> section for more information.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm548"></a>3.10.4. My OSM Traces</h4></div></div></div><p>
<span class="guimenu">File</span> → <span class="guimenuitem">Acquire</span> → <span class="guimenuitem">My OSM Traces</span>
</p><p>
See <a class="xref" href="index.html#osm_my_dl" title="17.3.3. Downloading Your Own Traces from OpenStreetMap">OpenStreetMap My Traces Download</a> section for more information.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm557"></a>3.10.5. From Geotagged Images</h4></div></div></div><p>
<span class="guimenu">File</span> → <span class="guimenuitem">Acquire</span> → <span class="guimenuitem">From Geotagged Images</span>
Enables automatic creation of waypoints from geotagged images.
</p><p>
This menu opens a dialog to select such image files.
If the image files have geotag information in them, then a <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layer with named waypoints positioned at the location of each image with a thumbnail of that image is created.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm566"></a>3.10.6. From Wikipedia Waypoints</h4></div></div></div><p>
<span class="guimenu">File</span> → <span class="guimenuitem">Acquire</span> → <span class="guimenuitem">From Wikipedia Waypoints</span>
</p><p>
This gets <span class="emphasis"><em>interesting</em></span> points from Wikipedia for the specified view: either within the extent of layer bounds or within the current viewport boundary.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm575"></a>3.10.7. From Routing</h4></div></div></div><p>
<span class="guimenu">File</span> → <span class="guimenuitem">Acquire</span> → <span class="guimenuitem">From Directions</span>
</p><p>
This gets a route from given directions.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm583"></a>3.10.8. From URL</h4></div></div></div><p>
<span class="guimenu">File</span> → <span class="guimenuitem">Acquire</span> → <span class="guimenuitem">From URL</span>
</p><p>
This gets a file from the entered URL.
File formats that can be opened are those supported by GPSBabel.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
You need to select the type of the file that is going to be returned, since there is no automatic detection of the file kind.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm593"></a>3.10.9. Import GeoJSON File</h4></div></div></div><p>
<span class="guimenu">File</span> → <span class="guimenuitem">Acquire</span> → <span class="guimenuitem">Import GeoJSON File</span>
</p><p>
This uses the program <a class="ulink" href="https://github.com/tyrasd/togpx" target="_top">togpx</a> to load .geojson files.
If the program is not detected on your system, then this option will not be available.
See <a class="ulink" href="https://www.npmjs.org/package/togpx" target="_top">here</a> for the installation method.
</p><p>
Versions prior to 1.6.0 of GPSBabel did not support the <a class="ulink" href="https://geojson.org/" target="_top">GeoJSON</a> file format.
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm605"></a>3.11. Print</h3></div></div></div><p>
Located on the <span class="guimenu">File</span> → <span class="guisubmenu">Print</span> menu and on the toolbar <span class="guibutton">Print</span>.
</p><p>
Print uses what is displayed on the current <a class="xref" href="index.html#viewport" title="2.3. Viewport">Section 2.3, “Viewport”</a> for printing: i.e. what ever map, tracks and waypoints that are in view, including the
cross hairs and the scale.
</p><p>
It uses a standard system print dialog using an image the size of the current viewport in pixel terms.
On the <span class="emphasis"><em>Image Settings</em></span> you can move the image around the page and scale the image up / or down.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm616"></a>3.12. Generate Image File</h3></div></div></div><p>
Located on the <span class="guimenu">File</span> → <span class="guisubmenu">Generate Image File</span> menu only.
</p><p>
Allows generation of larger (pixel) area images than the standard Print method above.
From the generated image you can use the facilities of the <span class="application">Operating System</span> to print the image
or perform other actions.
</p><p>
You should have previously downloaded the tile images for the chosen zoom level,
otherwise the image produced will have missing sections.
</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>
Using large areas takes some time to process and due to the method used it may run out of memory to complete the operation.
Unfortunately under <span class="trademark">Windows</span>™ systems it can not detect this failure and may crash the program.
So the maximum size is dependent on the capabilities of your system.
For instance the largest successful image generated on my (RN) Debian system is a pixel area of 20,000 x 20,000.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm628"></a>3.13. Generate Directory of Images</h3></div></div></div><p>
Located on the <span class="guimenu">File</span> → <span class="guisubmenu">Generate Directory of Images</span> menu only.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
This is only available in UTM mode.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm636"></a>3.14. KMZ Map File Overview</h3></div></div></div><p>
A <a class="ulink" href="https://developers.google.com/kml/documentation/kmzarchives" target="_top">KMZ file</a> is a compressed version of a KML file and associated supporting files.
</p><p>
A <a class="ulink" href="https://garminbasecamp.wikispaces.com/Custom+Maps" target="_top">KMZ Map file</a> is a KMZ file with an image overlay often for use as a Custom Map on Garmin GPSr devices.
</p><p>
Viking only supports basic properties in KMZ Map files, primarily intended for use with Garmin GPSr devices although KMZ exports are known to work with <span class="application">Google Earth</span>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm644"></a>3.15. Import KMZ Map File</h3></div></div></div><p>
Located on the <span class="guimenu">File</span> menu only.
</p><p>
Enables loading of a selected KMZ map file.
This generates a new <a class="xref" href="index.html#GeoRef" title="11. GeoRef Layer">GeoRef</a> map layer using the overlay image contained within the KMZ file.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm651"></a>3.16. Generate KMZ Map File</h3></div></div></div><p>
Located on the <span class="guimenu">File</span> menu only.
</p><p>
Enables exporting the current <a class="xref" href="index.html#viewport" title="2.3. Viewport">Section 2.3, “Viewport”</a> as a KMZ map file.
The area and zoom level covered by the KMZ map can be adjusted before saving.
</p><p>
Note that Garmin GPSr devices have limits in using images if they are too large (e.g. over 3Mb big) in KMZ files.
Viking does not enforce any limits on the KMZ files it generates.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Calendar"></a>3.17. Calendar</h3></div></div></div><p>
The calendar marks days when any activity in Tracks occurred. Hovering the mouse pointer over a marked day shows the name of the corresponding <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> Layer. Double clicking on a marked day moves the <a class="xref" href="index.html#viewport" title="2.3. Viewport">Section 2.3, “Viewport”</a> to view the first track of that day.
</p><p>
Right clicking on the calendar offers further options to navigate in time, including moving the calendar to the next or previous track by date or to move to todays date.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Goto"></a>3.18. Goto</h3></div></div></div><p>
This offers to search locations using the selected online providers, by default either <a class="ulink" href="https://nominatim.org/" target="_top">OSM Nominatim</a> or <a class="ulink" href="https://www.geonames.org/" target="_top">Geonames</a>.
One may click on the an entry in the list of returned results to move the <a class="xref" href="index.html#viewport" title="2.3. Viewport">Section 2.3, “Viewport”</a> to that location.
</p><p>
See the section <a class="xref" href="index.html#search_provider" title="18.2. Go-to Search Engines">Section 18.2, “Go-to Search Engines”</a> to configure additional search providers.
</p><div class="figure"><a name="idm673"></a><p class="title"><b>Figure 4. Screenshot: Goto Tab</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/Goto_Main_Window.png" alt="Screenshot: Goto Tab"></div></div></div></div><br class="figure-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="PanelStats"></a>3.19. Track/Route Statistics</h3></div></div></div><p>
  This offers a compact view of statistics of the selected Track or Route.
  Currently this does not refresh if the Track/Route changes but there is a right click menu on the tab,
  which offers a way to manually refresh the values.
</p><div class="figure"><a name="idm680"></a><p class="title"><b>Figure 5. Screenshot: Stats Tab</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/Panel_Stats_Tab.png" alt="Screenshot: Stats Tab"></div></div></div></div><br class="figure-break"><p>
  Also available is a tab to shows <a class="xref" href="index.html#track_time_splits" title="6.4.4. Track Time Splits">Track Time Splits</a>.
  Since this is a more detailed display that is of interest only to a subset of users and takes up more space, the tab is hidden by default.
  Use <span class="guimenu">View</span> → <span class="guimenuitem">Show</span> → <span class="guimenuitem">Show Side Panel Splits</span> to enable it.
  </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="EditViewMenu"></a>4. Edit and View Menus</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#idm692">4.1. Standard Edit Entries</a></span></dt><dt><span class="section"><a href="index.html#idm697">4.2. Map/Position Edit Entries</a></span></dt><dt><span class="section"><a href="index.html#idm717">4.3. Viking Configuration Edit Entries</a></span></dt><dt><span class="section"><a href="index.html#idm724">4.4. Mode View Entries</a></span></dt><dt><span class="section"><a href="index.html#idm728">4.5. Go to View Entries</a></span></dt><dt><span class="section"><a href="index.html#idm736">4.6. Colour View Entries</a></span></dt><dt><span class="section"><a href="index.html#idm739">4.7. Zoom View Entries</a></span></dt><dt><span class="section"><a href="index.html#idm744">4.8. Show View Entries</a></span></dt><dt><span class="section"><a href="index.html#idm748">4.9. Dialog View Entries</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm692"></a>4.1. Standard Edit Entries</h3></div></div></div><p>
  Besides the standard edit entries (Cut, Copy, Paste, Delete) that operate on the currently selected item,
  there is also the <span class="guilabel">Delete All</span> which removes <span class="emphasis"><em>ALL</em></span> layers
  (including the automatically created Default Map).
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm697"></a>4.2. Map/Position Edit Entries</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">Copy Center Location</span></span></dt><dd><p>This will copy the current center of the viewport as coordinate lat/lon pair in plain text, such that it can be then be pasted into other applications.</p></dd><dt><span class="term"><span class="guilabel">Flush Map Cache</span></span></dt><dd><p>This will empty the in memory map cache, hence it should reduce the amount of memory that Viking is using.</p></dd><dt><span class="term"><span class="guilabel">Set Default Location</span></span></dt><dd><p>This will set the Default Location (AKA the Home Location) to current center position of the viewport.</p><p>See <a class="xref" href="index.html#GoHome" title="17.1.4. Set Your Home Location">Home Location</a>.</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm717"></a>4.3. Viking Configuration Edit Entries</h3></div></div></div><p>
  Allows access to Viking <a class="xref" href="index.html#prefs" title="16. Preferences">Preferences</a>.
</p><p>
  Allows access to the <a class="xref" href="index.html#Layers" title="5. Layers">Section 5, “Layers”</a> defaults.
  When creating a new layer it will start with the default values as specified here.
</p><p>
  Access to show the messages that are being suppressed and the ability to reset back to the default of no messages being suppressed.
  Some warning style messages can be selected to be ignored, since if they repeatedly come up in your work flow they could otherwise become tiresome.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm724"></a>4.4. Mode View Entries</h3></div></div></div><p>
  Allows selection of the <a class="xref" href="index.html#projection" title="2.7. Projections">Projection</a> mode.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm728"></a>4.5. Go to View Entries</h3></div></div></div><p>
  Offers a selection of methods to jump to a position in the world.
</p><p>
  The Go to Lat/Lon dialog method allows manually specifying the coordinates to move to.
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
      The latitude entry (although a spin button) can accept any text and will be attempted to be used as a <a class="xref" href="index.html#LatLonInput">Lat/Lon Pair</a>.
    </p></td></tr></table></div><p>
</p><p>
  Additionally there is method to move the calendar view to todays date.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm736"></a>4.6. Colour View Entries</h3></div></div></div><p>
  These entries allow setting the default background colour (i.e. when there are no maps) and the highlight colour for selected tracks and waypoints.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm739"></a>4.7. Zoom View Entries</h3></div></div></div><p>
  Offers a selection of methods to zoom the viewport, including not only <span class="guilabel">In</span> and <span class="guilabel">Out</span> but also to any specific level.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm744"></a>4.8. Show View Entries</h3></div></div></div><p>
  Offers a selection of methods to control visibility of various screen elements.
  Most of these can also be accessed via <a class="xref" href="index.html#shortcut_keys" title="2.10. Shortcut Keys">Shortcut Keys</a>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm748"></a>4.9. Dialog View Entries</h3></div></div></div><p>
  Offers alternative access to additional informational dialogs. Otherwise these can be accessed from the <a class="xref" href="index.html#Statusbar" title="2.5. Statusbar">Section 2.5, “Statusbar”</a>.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Layers"></a>5. Layers</h2></div></div></div><p>
Layers supported by Viking are:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="index.html#Aggregate" title="9. Aggregate Layer">Aggregate</a></p></li><li class="listitem"><p><a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a></p></li><li class="listitem"><p><a class="xref" href="index.html#GPS" title="7. GPS Layer">GPS</a></p></li><li class="listitem"><p><a class="xref" href="index.html#DEM" title="10. DEM (Digital Elevation Model) Layer">DEM</a></p></li><li class="listitem"><p><a class="xref" href="index.html#Coordinate" title="14. Coordinate Layer">Coordinate</a></p></li><li class="listitem"><p><a class="xref" href="index.html#Map" title="8. Map Layer">Map</a></p></li><li class="listitem"><p><a class="xref" href="index.html#GeoRef" title="11. GeoRef Layer">GeoRef</a></p></li><li class="listitem"><p><a class="xref" href="index.html#MapnikRendering" title="13. Mapnik Rendering Layer">Mapnik Rendering</a></p></li><li class="listitem"><p><a class="xref" href="index.html#GeoClue" title="12. GeoClue Layer">GeoClue</a></p></li></ul></div><p>
For each layer there are a few standard options:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Properties - Layer setup / configuration settings dialog:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>OK: Applies the new values and closes the dialog</p></li><li class="listitem"><p>Cancel: Dismiss the changes and closes the dialog</p></li><li class="listitem"><p>Apply: Applies the new values and keeps the dialog open - thus you can see the effect of the new values.</p></li><li class="listitem"><p>Reset to Defaults: Change the values back to the Layer Defaults. You will still need to then Apply/OK these changed values to take effect.</p></li></ul></div></li><li class="listitem"><p>Cut</p></li><li class="listitem"><p>Copy</p></li><li class="listitem"><p>Paste</p></li><li class="listitem"><p>Delete</p></li><li class="listitem"><p>Visibility - This checkbox on the Layers Panel controls whether the layer is shown in the viewport or not</p></li></ul></div><p>
The cut/copy/paste options can be accessed in a variety of ways once the layer has been selected:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Standard keys: <span class="keycap"><strong>Ctrl+x|c|v</strong></span></p></li><li class="listitem"><p>Main menu <span class="guimenuitem">Edit</span></p></li><li class="listitem"><p>From the right click menu</p></li><li class="listitem"><p>Buttons at the bottom of the Layers Panel</p></li></ul></div><p>
Default values used for each layer's properties can be altered via the <span class="guimenu">Edit</span> → <span class="guisubmenu">Layer Defaults</span> menu options.
These 'User' Defaults settings themselves can be reset back to the original Viking default values via the <span class="guibutton">Reset to Default</span> button for each layer.
</p><p>
See the individual section for detail about each layer.
</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="TrackWaypoint"></a>6. TrackWaypoint Layer</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#idm845">6.1. Layer Properties</a></span></dt><dt><span class="section"><a href="index.html#idm880">6.2. Layer Operations</a></span></dt><dt><span class="section"><a href="index.html#idm1036">6.3. Track and Route Sublayer Options</a></span></dt><dt><span class="section"><a href="index.html#track_properties">6.4. Track and Route Properties</a></span></dt><dt><span class="section"><a href="index.html#idm1154">6.5. Track and Route Operations</a></span></dt><dt><span class="section"><a href="index.html#idm1354">6.6. Waypoint Sublayer Options</a></span></dt><dt><span class="section"><a href="index.html#WptProps">6.7. Waypoint Properties</a></span></dt><dt><span class="section"><a href="index.html#idm1447">6.8. Waypoint Operations</a></span></dt><dt><span class="section"><a href="index.html#geotagging">6.9. Version1.3+: Geotag Images</a></span></dt></dl></div><p>
TrackWaypoint layers display GPS data (tracks, routes and waypoints).
</p><p>One way to create new waypoints is to copy a
latitude/longitude coordinate pair, such as the one shown on most
geocaches, and paste it into an active TrackWaypoint layer. Viking can
automatically recognize several variations of the lat/lon format.
</p><p>
By right-clicking on tracks, routes or waypoints in the <a class="xref" href="index.html#gc_layers_panel" title="2.2. Layers Panel">Layers Panel</a>, you can access many commands on them.
You can easily find a specific track, route or waypoint by expanding the appropriate containing Tracks, Routes or Waypoints sublayer in the
layers panel to show all the individual items and then typing the name of the track, route or waypoint.
</p><p>
The containing Tracks, Routes or Waypoints sublayers are only shown when items of that type exist.
To start creating them enter into a create mode via either the <span class="guibutton">Create</span> toolbar commands or the <span class="guimenuitem">New</span> menu commands.
</p><p>
The new TrackWaypoint layer dialog allows the layer to be specified as external.
In this case the layer is exported as GPX to the file specified instead of stored in the Viking file itself.
It is also possible to specify the layer as "no write".
This means that Viking does not write the layer to the GPX file specified; instead, Viking only reads the file.
No-write layers are primarily intended to be used with the <a class="xref" href="index.html#open_gpx_external" title="3.7. Open GPX as External Layer">Section 3.7, “Open GPX as External Layer”</a> option in the File menu.
</p><p>
External layers are loaded only when they are displayed or selected.
Hence, they will not appear in any summary statistics if they have not been loaded.
It is possible to load all external layers contained in an <a class="xref" href="index.html#Aggregate" title="9. Aggregate Layer">Aggregate</a> layer by selecting <span class="guimenu">File</span> → <span class="guisubmenu">Load External Layers</span> from the Aggregate Layer context menu.
Note, Viking specific options may not be saved if not supported by the GPX export.
</p><p>
The sublayers also offer right click menu options.
These are the same as those available at the TrackWaypoint level, but only those that relate to the sublayer type.
</p><p>
By default routes are coloured red. Tracks are automatically assigned a spread of colours.
</p><p>
Most operations available on tracks are available on routes, except for functionality that relies on having timestamps - since routes by definition have no timing information. Thus for example, uploading a route to OpenStreetMap Traces is not available nor is Geotagging on a route.
It is possible to convert between Tracks and Routes, although converting from a Track to a Route may involve a loss of information (hence you are required to confirm this operation before it happens).
</p><p>
Also see <a class="xref" href="index.html#trw_tools" title="15.5. TrackWaypoint Layer Tools">Section 15.5, “TrackWaypoint Layer Tools”</a> for use in conjunction with this layer.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm845"></a>6.1. Layer Properties</h3></div></div></div><p>
This layer has many configurable properties split into several parts:
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm848"></a>6.1.1. Waypoints</h4></div></div></div><p>Options that effect the drawing of waypoints.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm851"></a>6.1.2. Tracks</h4></div></div></div><p>Basic options that effect the drawing of tracks and routes.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm854"></a>6.1.3. Tracks Advanced</h4></div></div></div><p>More detailed options that effect the drawing and processing of tracks and routes.</p><p>Options that effect the processing of tracks and routes are:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">Apply DEM Automatically</span></span></dt><dd><p>Mainly intended for use with External layers, such that elevations values from DEM supercede those in the source file. This needs a DEM layer with a DEM file covering the area of the track for this to take affect.</p></dd><dt><span class="term"><span class="guilabel">Remove Duplicate Trackpoint</span></span></dt><dd><p>Mainly intended for use with External layers, remove duplicate trackpoints when loading in from the source file.</p></dd><dt><span class="term"><span class="guilabel">Prefer GPS Speed</span></span></dt><dd><p>Mainly for Maximum speed calculations: use speed from the .</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm874"></a>6.1.4. Metadata</h4></div></div></div><p>Metadata such as Description, Author and Keywords for this TrackWaypoint Layer.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm877"></a>6.1.5. Filesystem</h4></div></div></div><p>Shows the GPX version of the TrackWaypoint Layer and External Layer type information.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm880"></a>6.2. Layer Operations</h3></div></div></div><p>
The layer has a context menu with several operations.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm883"></a>6.2.1. View Layer</h4></div></div></div><p>
Version1.1+: This will automatically move the viewport and select the best zoom level to see the whole layer (i.e. all tracks, routes and waypoints).
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm886"></a>6.2.2. View</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="track_view_all"></a>6.2.2.1. View All Tracks</h5></div></div></div><p>
Version1.1+: This will automatically move the viewport and select the best zoom level to see the all the tracks in the layer (ignoring positions of any routes or waypoints).
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="route_view_all"></a>6.2.2.2. View All Routes</h5></div></div></div><p>
Version1.4+: This will automatically move the viewport and select the best zoom level to see the all the routes in the layer (ignoring positions of any tracks or waypoints).
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="wp_view_all"></a>6.2.2.3. View All Waypoints</h5></div></div></div><p>
Version1.1+: This will automatically move the viewport and select the best zoom level to see the all the waypoints in the layer (ignoring positions of any tracks or routes).
</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm897"></a>6.2.3. Goto Center of Layer</h4></div></div></div><p>
This will automatically move the viewport to see the whole layer (i.e. tracks, routes and waypoints). It does not adjust the zoom level.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="wp_goto"></a>6.2.4. Goto Waypoint</h4></div></div></div><p>
This opens a dialog box to enter a name of waypoint to search for. If it is found the viewport is centred on it.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
Note this search is not very clever and only finds exact matches.
You are probably better off expanding the waypoint list and directly start typing, as mentioned above, which finds a match based on each letter typed.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm905"></a>6.2.5. Export Layer</h4></div></div></div><p>
The layer (all tracks, routes and waypoints) can be exported to following file formats:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>GPX</p></li><li class="listitem"><p>GPSPoint</p></li><li class="listitem"><p>GPSMapper</p></li><li class="listitem"><p>Google's KML</p></li><li class="listitem"><p>Any GPSBabel <a class="ulink" href="https://www.gpsbabel.org/capabilities.html" target="_top">File Formats</a></p><p>If necessary you can specify any additional format save options as required.</p></li><li class="listitem"><p>GeoJSON. Via the program <a class="ulink" href="https://github.com/mapbox/togeojson" target="_top">togeojson</a></p><p>This option will not be available if the program is not detected on your system.
		See <a class="ulink" href="https://www.npmjs.org/package/togeojson" target="_top">here</a> for the installation method.</p></li></ol></div><p>
Version1.1+: An individual track can be exported to a GPX file via the track menu.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="finish_track"></a>6.2.6. Finish Track or Route</h4></div></div></div><p>
Selecting this option ends the creation of that individual track or route.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
This is only available when a track or route is being created by the <a class="xref" href="index.html#track_edit" title="15.5.2. Create/Edit Track">Edit Track</a> or <a class="xref" href="index.html#route_edit" title="15.5.3. Edit Route">Edit Route</a> tools.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm934"></a>6.2.7. New</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="new_wp"></a>6.2.7.1. New Waypoint</h5></div></div></div><p>
This opens a dialog (see <a class="xref" href="index.html#WptProps" title="6.7. Waypoint Properties">Section 6.7, “Waypoint Properties”</a>) to create a new waypoint. A default name will be suggested and the default position is the center of the viewport.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="new_track"></a>6.2.7.2. New Track</h5></div></div></div><p>
This turns on the <a class="xref" href="index.html#track_edit" title="15.5.2. Create/Edit Track">Edit Track</a> tool.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="new_route"></a>6.2.7.3. New Route</h5></div></div></div><p>
This turns on the <a class="xref" href="index.html#route_edit" title="15.5.3. Edit Route">Edit Route</a> tool.
</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm948"></a>6.2.8. Geotag Images</h4></div></div></div><p>
This starts the Geotagging Images dialog against all tracks in the layer.
See <a class="link" href="index.html#geotagging" title="6.9. Version1.3+: Geotag Images">Geotagging</a> for further detail.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm952"></a>6.2.9. Acquire</h4></div></div></div><p>
This offers the same choice from <a class="xref" href="index.html#acquire" title="3.10. Acquire">acquire</a> methods as on the <span class="guimenu">File</span> menu.
However when invoked from here, the results will be stored in this layer (instead of creating a new one).
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm957"></a>6.2.10. Upload</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="gps_upload"></a>6.2.10.1. Upload to GPS</h5></div></div></div><p>
This opens a dialog to select the GPS Device and port to which the layer information will be transferred.
</p><p>
The types of GPS information (tracks, routes or waypoints) to be transferred can be selected.
</p><p>
Tracks, Routes or Waypoints that are invisible will not be transferred.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="osm_upload"></a>6.2.10.2. Upload To OSM</h5></div></div></div><p>
This opens a dialog to upload all tracks and waypoints to <a class="ulink" href="https://openstreetmap.org/" target="_top">OpenStreetMap</a> traces.
Useful if you are an OpenStreetMap contributor, access details are stored in Viking <a class="xref" href="index.html#prefs_osm" title="16.4. OpenStreetMap Traces">OpenStreetMap Traces Preferences</a>
</p><p>
 Viking allows you to edit a track, e.g. remove duplicate points, perhaps remove track points leading to your home and then upload it to OpenStreetMap.
</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm970"></a>6.2.11. Delete</h4></div></div></div><p>Offers deletion of various parts of a TrackWaypoint layer:</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="delete_all_tracks"></a>6.2.11.1. Delete All Tracks</h5></div></div></div><p>Deletes all the tracks in this layer.</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="delete_selection_tracks"></a>6.2.11.2. Delete Tracks from Selection</h5></div></div></div><p>Opens a dialog with list of all the tracks from this layer to choose the ones to delete.</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="delete_all_routes"></a>6.2.11.3. Delete All Routes</h5></div></div></div><p>Deletes all the routes in this layer.</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="delete_selection_routes"></a>6.2.11.4. Delete Routes from Selection</h5></div></div></div><p>Opens a dialog with list of all the routes from this layer to choose the ones to delete.</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="delete_all_waypoints"></a>6.2.11.5. Delete All Waypoints</h5></div></div></div><p>Deletes all the waypoints in this layer.</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="delete_selection_waypoints"></a>6.2.11.6. Delete Waypoints from Selection</h5></div></div></div><p>Opens a dialog with list of all the waypoints from this layer to choose the ones to delete.</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="delete_duplicate_waypoints"></a>6.2.11.7. Delete Duplicate Waypoints</h5></div></div></div><p>
  Deletes duplicate waypoints in this layer.
  Waypoints are considered duplicate if they have the same location and symbol.
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If other properties are different such as name, comment, altitude, etc... they will still be considered a duplicate.
    </p></td></tr></table></div><p>
</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="filter"></a>6.2.12. Filter</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm998"></a>6.2.12.1. Simplify All Tracks</h5></div></div></div><p>
This opens dialog to request the number of points each track will be simplified using <span class="application">GPSBabel</span>. The result is put into a new layer. The simplification method removes points considered to be in a 'near straight line', thus reducing the number of points and attempting to keep the most important turning points.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1002"></a>6.2.12.2. Compress Tracks</h5></div></div></div><p>
Enables compression of tracks and routes via <span class="application">GPSBabel</span>'s <span class="emphasis"><em>Crosstrack</em></span> simplify method.
It opens a dialog to request the Error factor value which is the maximum allowable error that may be introduced by removing a single point.
It is expressed a distance in units as specified by the <a class="xref" href="index.html#prefs" title="16. Preferences">Preferences</a> distance option.
Thus a higher value will remove more points.
The result is put into a new layer.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1008"></a>6.2.12.3. Remove Duplicate Waypoints</h5></div></div></div><p>
Remove Duplicate Waypoints - fairly self explanatory, with the results created in a new layer.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
However it only considers a precise position (waypoints only 1 metre away from each other are considered different) and also doesn't consider if the waypoints have different comments, symbols or images.
</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="filter_with_track"></a>6.2.13. Filter With <span class="emphasis"><em>Trackname</em></span></h4></div></div></div><p>
This runs <span class="application">GPSBabel</span> on the layer using information from a previously selected track (select via the track menu "Use With Filter" option) with the following command types:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Waypoints Inside This</p></li><li class="listitem"><p>Waypoints Outside This</p></li></ul></div><p>
The result is generated in a new Track/Waypoint layer.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1024"></a>6.2.14. Geotag Images</h4></div></div></div><p>
This starts the Geotagging Images dialog using the specific track.
See <a class="link" href="index.html#geotagging" title="6.9. Version1.3+: Geotag Images">Geotagging</a> for further detail.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1028"></a>6.2.15. List Tracks or Routes</h4></div></div></div><p>
Opens a new dialog with the list. As described in the Aggregate layer <a class="xref" href="index.html#track_list" title="9.6.5. Track List">Track List</a>
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1032"></a>6.2.16. List Waypoints</h4></div></div></div><p>
Opens a new dialog with the list. As described in the Aggregate layer <a class="xref" href="index.html#waypoint_list" title="9.6.6. Waypoint List">Waypoint List</a>
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1036"></a>6.3. Track and Route Sublayer Options</h3></div></div></div><p>Repeats options available at the TrackWaypoint level, but only those for tracks and routes:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">Finish Track or Route</span></span></dt><dd><p>Same as the layer <a class="link" href="index.html#finish_track" title="6.2.6. Finish Track or Route">Finish Track or Route</a></p></dd><dt><span class="term"><span class="guilabel">New Track or Route</span></span></dt><dd><p>Same as the layer <a class="link" href="index.html#new_track" title="6.2.7.2. New Track">New Track</a> or <a class="link" href="index.html#new_route" title="6.2.7.3. New Route">New Route</a></p></dd><dt><span class="term"><span class="guilabel">View All Tracks or Routes</span></span></dt><dd><p>Same as the layer <a class="link" href="index.html#track_view_all" title="6.2.2.1. View All Tracks">View All Tracks</a> or <a class="link" href="index.html#route_view_all" title="6.2.2.2. View All Routes">View All Routes</a></p></dd><dt><span class="term"><span class="guilabel">Delete All Tracks or Routes</span></span></dt><dd><p>Same as the layer <a class="link" href="index.html#delete_all_tracks" title="6.2.11.1. Delete All Tracks">Delete All Tracks</a> or <a class="link" href="index.html#delete_all_routes" title="6.2.11.3. Delete All Routes">Delete All Routes</a></p></dd><dt><span class="term"><span class="guilabel">Delete Tracks or Routes from Selection</span></span></dt><dd><p>Same as the layer <a class="link" href="index.html#delete_selection_tracks" title="6.2.11.2. Delete Tracks from Selection">Delete Tracks from Selection</a> or <a class="link" href="index.html#delete_selection_routes" title="6.2.11.4. Delete Routes from Selection">Delete Routes from Selection</a></p></dd><dt><span class="term"><span class="guilabel">List Tracks or Routes</span></span></dt><dd><p>Opens a new dialog with the list. As described in the Aggregate layer <a class="xref" href="index.html#track_list" title="9.6.5. Track List">Track List</a></p></dd></dl></div><p>Also gives other options for handling multiple items:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">Sort</span></span></dt><dd><p>Gives the ability to sort the items in the treeview alphabetically, by date or track/route number.</p></dd><dt><span class="term"><span class="guilabel">Visibility</span></span></dt><dd><p>Offers options to quickly control the visibility of all items within the sublayer, as per <a class="xref" href="index.html#vis_options" title="9.6.7. Visibility Options">Visibility Options</a></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="track_properties"></a>6.4. Track and Route Properties</h3></div></div></div><p>
This shows several tabs for properties and useful statistics about a track or a route, including elevation, speed, heart rate, cadence, temperature and power graphs (if the data is available and the graph has not been disabled via <a class="xref" href="index.html#prefs_trackprops" title="16.10. Track Properties Dialog">Track Properties Dialog Preferences</a>).
</p><p>
The tabs can be reordered via drag 'n' drop of the tab label. The ordering is retained between new invocations of the properties dialog.
</p><p>
Moving the mouse pointer over the graph displays values related to that point along the track.
You can click on these graphs to jump to the point in the track.
You can reverse it, delete duplicates, split at marked position or split a track from its component segments (discontinuous breaks in a track) into separate tracks.
</p><p>
For the elevation related graphs the <span class="guibutton">Show DEM</span> check button is only enabled if a suitable <a class="xref" href="index.html#DEM" title="10. DEM (Digital Elevation Model) Layer">DEM</a> is available that overlaps the track.
</p><p>
Graphs either have a <span class="guibutton">Show GPS Speed</span> or <span class="guibutton">Show Speed</span> button.
Each of these overlays relative speed markers along the graph.
The difference between Speed vs GPS Speed is that GPS Speed is taken directly from a field reporting the speed value in the source data.
Typically speeds used in Viking are calculated between the points time and position differences.
This is due to the reporting of speed values in source data is not mandatory and often not present.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1105"></a>6.4.1. Track and Route Properties Tab</h4></div></div></div><p>
</p><div class="figure"><a name="idm1108"></a><p class="title"><b>Figure 6. Properties Tab: Example (Tabs at side option and reordered)</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/Track_properties.png" alt="Properties Tab: Example (Tabs at side option and reordered)"></div></div></div></div><p><br class="figure-break">
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="track_statistics"></a>6.4.2. Track and Route Statistics Tab</h4></div></div></div><p>
</p><div class="figure"><a name="idm1115"></a><p class="title"><b>Figure 7. Statistics Tab: Example</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/Track_statistics.png" alt="Statistics Tab: Example"></div></div></div></div><p><br class="figure-break">
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="track_elev_graphs"></a>6.4.3. Track Elevation Graph</h4></div></div></div><p>
</p><div class="figure"><a name="idm1122"></a><p class="title"><b>Figure 8. Elevation Distance Tab: Example</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/Track_elevation_graph.png" alt="Elevation Distance Tab: Example"></div></div></div></div><p><br class="figure-break">
</p><p>
The following colors are used in the elevation-distance graph:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="emphasis"><em>Main</em></span> colour - this is dependent on your Desktop theme - often blue by default</span></dt><dd><p>elevation data in graph</p></dd><dt><span class="term">Yellow</span></dt><dd><p>no elevation data</p></dd><dt><span class="term">Green</span></dt><dd><p>elevation data from <a class="xref" href="index.html#DEM" title="10. DEM (Digital Elevation Model) Layer">DEM</a></p></dd><dt><span class="term">Red</span></dt><dd><p>speed</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="track_time_splits"></a>6.4.4. Track Time Splits</h4></div></div></div><p>
</p><div class="figure"><a name="idm1149"></a><p class="title"><b>Figure 9. Splits Tab: Example</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/Track_time_splits.png" alt="Splits Tab: Example"></div></div></div></div><p><br class="figure-break">
</p><p>
This tab displays timing splits on tracks with timing information.
A few different values of split lengths are available, each having it's own tab display.
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1154"></a>6.5. Track and Route Operations</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1156"></a>6.5.1. Finish Track</h4></div></div></div><p>
Selecting this option ends the creation of the individual track.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
This is only available when a track is being created by the <a class="xref" href="index.html#track_edit" title="15.5.2. Create/Edit Track">Edit Track</a> tool.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1162"></a>6.5.2. Goto</h4></div></div></div><p>
This centers the viewport on the selected position on the track:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Startpoint</p></li><li class="listitem"><p>"Center" - the notional center from the bounds of the track</p></li><li class="listitem"><p>Endpoint</p></li><li class="listitem"><p>Version1.1+: Highest Altitude</p></li><li class="listitem"><p>Version1.1+: Lowest Altitude</p></li><li class="listitem"><p>Version1.1+: Maximum Speed (Not Available on Routes)</p></li><li class="listitem"><p>Version1.9+: Maximum Heart Rate (Not Available on Routes)</p></li><li class="listitem"><p>Version1.9+: Maximum Cadence (Not Available on Routes)</p></li><li class="listitem"><p>Version1.9+: Maximum Power (Not Available on Routes)</p></li><li class="listitem"><p>Version1.9+: Minimum Temperature (Not Available on Routes)</p></li><li class="listitem"><p>Version1.9+: Maximum Temperature (Not Available on Routes)</p></li><li class="listitem"><p>Version1.8+: Previous trackpoint</p></li><li class="listitem"><p>Version1.8+: Next trackpoint</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1192"></a>6.5.3. View</h4></div></div></div><p>
Version1.1+: This centers the viewport on the track and selects the best zoom level to see it.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1195"></a>6.5.4. Combine</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1197"></a>6.5.4.1. Merge By Time</h5></div></div></div><p>
This operation repeatedly tries to merge the right-clicked track
with tracks in the same TrackWaypoint layer. The tracks which are
merged are those which have at least one trackpoint less than some
threshold time away. This way, if you somehow end up with lots of small
segments (say, caused by turning the GPS on and off) you can merge them
easily into one track.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
This is not available on routes as they have no timestamps.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1202"></a>6.5.4.2. Merge With Other Tracks</h5></div></div></div><p>
  This opens a dialog listing the other tracks in the same TrackWaypoint layer, from which one can select the other tracks to merge with.
  Tracks are merged in order of time.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1205"></a>6.5.4.3. Merge Segments</h5></div></div></div><p>
Combines track segments. Effectively removing track segment markers to leave one segment for the whole track.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1208"></a>6.5.4.4. Append Track or Route</h5></div></div></div><p>
Enable joining of a single track to the end of the current track.
This opens a dialog listing the other tracks in the same TrackWaypoint layer from which one can make the selection.
</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1211"></a>6.5.5. Split</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1213"></a>6.5.5.1. Split By Time</h5></div></div></div><p>
This operation will split a single track into segments wherever the
time interval between successive trackpoints is larger than some
threshold. This is useful when processing raw NMEA GPS data, especially
taken over a long time.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
This is not available on routes as they have no timestamps.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1218"></a>6.5.5.2. Split By Number of Points</h5></div></div></div><p>
Version1.2+: This operation will split a single track into segments by the number of points specified.
This can be useful with devices which may have limits on the number of points it supports.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1221"></a>6.5.5.3. Split Segments</h5></div></div></div><p>
Splits track segments into new tracks.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
This is not available on routes as they do not have route segments.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="trkpt_split"></a>6.5.5.4. Split at Trackpoint</h5></div></div></div><p>
Splits the track at the currently selected trackpoint.
</p><p>
The current track will finish at this trackpoint.
A new track will start from a copy of this trackpoint.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
This is only enabled when a trackpoint is selected.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1232"></a>6.5.5.5. Create Segments at Trackpoint</h5></div></div></div><p>
Creates a new track segment starting at the selected trackpoint.
</p><p>
This is not available on routes as route segments are not allowed.
</p><p>
This is only enabled when a trackpoint is selected.
</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1237"></a>6.5.6. Insert Points</h4></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
These options are only enabled when a trackpoint is selected.
</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1241"></a>6.5.6.1. Insert Point Before Selected Point</h5></div></div></div><p>
Inserts a track point halfway between the previous track point and the current track point.
All track point properties are interpolated between the two points.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1244"></a>6.5.6.2. Insert Point After Selected Point</h5></div></div></div><p>
Inserts a track point halfway between the current track point and the next track point.
All track point properties are interpolated between the two points.
</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1247"></a>6.5.7. Delete Points</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1249"></a>6.5.7.1. Delete Selected Point</h5></div></div></div><p>
Deletes the currently selected track point.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
This is only enabled when a trackpoint is selected.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1254"></a>6.5.7.2. Delete Points With the Same Position</h5></div></div></div><p>
Deletes subsequent points that have the same position (but have different timestamps).
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1257"></a>6.5.7.3. Delete Points With the Same Time</h5></div></div></div><p>
Deletes subsequent points that have the same time stamp (but may have different positions).
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
This is not available on routes as they have no timestamps.
</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="transform"></a>6.5.8. Transform</h4></div></div></div><p>
These options alter the data of trackpoints of a track but not add or remove trackpoints.
And don't seem to fit any other category :)
</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1265"></a>6.5.8.1. Apply DEM data</h5></div></div></div><p>
If any <a class="xref" href="index.html#DEM" title="10. DEM (Digital Elevation Model) Layer">DEM</a> data is loaded, this will apply the DEM data to give the track elevation data.
Two ways of applying DEM data are offered:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Keep. Retains the existing elevation data of trackpoints and only those missing an elevation value are set.</p></li><li class="listitem"><p>Overwrite. Elevation data are set on all trackpoints even if they already elevation values.</p></li></ol></div><p>
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1274"></a>6.5.8.2. Smooth Missing Elevation data</h5></div></div></div><p>
In various locations across the world, there are missing DEM values (AKA DEM Holes) from the SRTM data.
This is particularly noticeable in mountainous areas.
Two ways of applying elevation data to trackpoints that do not have elevation values are offered:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Interpolated. Missing elevation data is interpolated between the previous and next known values.</p></li><li class="listitem"><p>Flat. Elevation data is filled in from the last previously known value.</p></li></ol></div><p>
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1282"></a>6.5.8.3. Convert to Track or Route</h5></div></div></div><p>
If this is a Route then it will convert it to a Track.
</p><p>
If this is Track then convert it to a Route.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
Converting from a Track to a Route may involve a loss of information, in particular timestamp values (hence you are required to confirm this operation before it happens).
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1288"></a>6.5.8.4. Convert to Waypoints</h5></div></div></div><p>
Each track or route point will be converted into a waypoint.
The original track or route will be removed unless some information in the track would be lost
(e.g. If the track has a comment, this is not copied into every waypoint and the track is kept).
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1291"></a>6.5.8.5. Anonymize Times</h5></div></div></div><p>
Timestamp information of a track can be shifted to be all offset from 1901-01-01.
</p><p>
Thus the timestamps themselves will no longer reveal exactly when a track was taken.
However the relative difference between the timestamps is kept thus one is still able to calculate some properties such as speeds along the track.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
This is not available for routes, as they have no timestamps.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1297"></a>6.5.8.6. Interpolate Times</h5></div></div></div><p>
Trackpoint timestamps between the first and last points are calculated such that track is travelled at equal speed.
This is mostly useful when tracks don't have timestamps and you wish to recreate your trip (e.g. you've forgotten to turn on your GPS or the batteries have run out)
Thus edit the first and last trackpoints to set the approximate times of your trip and then use this to give approximate times along the track.
When used on tracks with timestamps this will overwrite the existing timestamps.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
This is not available for routes, as they have no timestamps.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1302"></a>6.5.8.7. Rotate</h5></div></div></div><p>
"Rotate" the track or route by shifting the specified number of points from the start to end
(or if a negative number it moves end points to the start).
This is particularly intended for circular routes were you want to adjust where the start/end point is.
If the start and end points are considered to be far apart, you are required to confirm you want to apply this.
If a track has timestamps then rotating the track is not allowed as it would otherwise break trackpoint time ordering.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1305"></a>6.5.8.8. Rename</h5></div></div></div><p>
  Rename a track according using the timestamp of the first point in a <a class="ulink" href="https://devhints.io/strftime" target="_top">strftime format</a>.
  Use the <span class="guibutton">Preview</span> button to see what the result of applying this format will be.
  The default format is "%d %b %y %H:%M", however after a successful rename the format used is saved for subsequent reuse.
  To restore the default apply a blank format.
</p><p>
  This is not available for routes, as they have no timestamps.
</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1311"></a>6.5.9. Export Track as GPX</h4></div></div></div><p>
Version1.1+: This allows exporting the track as a GPX file by opening a file save dialog.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1314"></a>6.5.10. Extend Track End</h4></div></div></div><p>
Changes the current tool to add trackpoints to the end of the track.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1317"></a>6.5.11. Extend Using Route Finder</h4></div></div></div><p>
Enables the Route Finder tool. Thus on a subsequent left click in the viewport, a route is calculated from the end of track to that point using the default route service and applied to the track.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1320"></a>6.5.12. Upload</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1322"></a>6.5.12.1. Upload to GPS</h5></div></div></div><p>
Same as the layer <a class="link" href="index.html#gps_upload" title="6.2.10.1. Upload to GPS">Upload to GPS</a> command, but only applies to the track.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm1326"></a>6.5.12.2. Upload to OSM</h5></div></div></div><p>
Same as the layer <a class="link" href="index.html#osm_upload" title="6.2.10.2. Upload To OSM">Upload to OSM</a> command, but only applies to the track.
</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1330"></a>6.5.13. Use With Filter</h4></div></div></div><p>
This selects the track to be used in the <a class="link" href="index.html#filter_with_track" title="6.2.13. Filter With Trackname">Filter With <span class="emphasis"><em>Trackname</em></span></a> feature.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
This is not available on routes.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1337"></a>6.5.14. Edit Trackpoint</h4></div></div></div><p>
This opens the Trackpoint edit dialog. See <a class="xref" href="index.html#Trackpoint_edit" title="15.5.7.1. Edit Trackpoint Dialog">Edit Trackpoint Dialog</a>.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
This is only enabled when a trackpoint is selected.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1343"></a>6.5.15. Refine Route...</h4></div></div></div><p>
This function allows one to request a Routing Engine in order to refine a given route.
By "refining" we mean computing all real intermediates points between some given major points.
This could be useful to compute a trip giving only the wished important steps.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
This is only available on routes.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1348"></a>6.5.16. View Google Directions</h4></div></div></div><p>
This option is only available on a track created using the Route Finder tool.
</p><p>
Launch a web browser to see the Google directions page which yielded the route.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
The record of the Google route is stored in the track's comment, so if the comment is changed (or the route was created by something other than the Route Finder tool) this will not work correctly.
</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1354"></a>6.6. Waypoint Sublayer Options</h3></div></div></div><p>Repeats options available at the TrackWaypoint level, but only those for waypoints:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">New Waypoint</span></span></dt><dd><p>Same as the layer <a class="link" href="index.html#new_wp" title="6.2.7.1. New Waypoint">New Waypoint</a></p></dd><dt><span class="term"><span class="guilabel">View All Waypoints</span></span></dt><dd><p>Same as the layer <a class="link" href="index.html#wp_view_all" title="6.2.2.3. View All Waypoints">View All Waypoints</a></p></dd><dt><span class="term"><span class="guilabel">Goto Waypoint</span></span></dt><dd><p>Same as the layer <a class="link" href="index.html#wp_goto" title="6.2.4. Goto Waypoint">Goto Waypoint</a></p></dd><dt><span class="term"><span class="guilabel">Delete All Waypoints</span></span></dt><dd><p>Same as the layer <a class="link" href="index.html#delete_all_waypoints" title="6.2.11.5. Delete All Waypoints">Delete All Waypoints</a></p></dd><dt><span class="term"><span class="guilabel">Delete Waypoints from Selection</span></span></dt><dd><p>Same as the layer <a class="link" href="index.html#delete_selection_waypoints" title="6.2.11.6. Delete Waypoints from Selection">Delete Waypoints from Selection</a></p></dd><dt><span class="term"><span class="guilabel">Delete Duplicate Waypoints</span></span></dt><dd><p>Same as the layer <a class="link" href="index.html#delete_duplicate_waypoints" title="6.2.11.7. Delete Duplicate Waypoints">Delete Duplicate Waypoints</a></p></dd><dt><span class="term"><span class="guilabel">List Waypoints</span></span></dt><dd><p>Opens a new dialog with the list. As described in the Aggregate layer <a class="xref" href="index.html#waypoint_list" title="9.6.6. Waypoint List">Waypoint List</a></p></dd></dl></div><p>Also gives other options for handling multiple items:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">Sort</span></span></dt><dd><p>Gives the ability to sort the items in the treeview alphabetically or by date.</p></dd><dt><span class="term"><span class="guilabel">Visibility</span></span></dt><dd><p>Offers options to quickly control the visibility of all items within the sublayer, as per <a class="xref" href="index.html#vis_options" title="9.6.7. Visibility Options">Visibility Options</a></p></dd><dt><span class="term"><span class="guilabel">Transform</span></span></dt><dd><p>Options to set the altitude value from <a class="xref" href="index.html#DEM" title="10. DEM (Digital Elevation Model) Layer">DEM</a> data. Also see track <a class="xref" href="index.html#transform" title="6.5.8. Transform">Transform</a>.</p><p>An option to set the time from the comment field. First tries ISO8601 formats and then a fallback of a custom format, see "gpx_comment_time_format" in <a class="xref" href="index.html#misc_settings" title="18.8. Miscellaneous Settings">Miscellaneous Settings</a>.</p><p>An option to convert the (visible) waypoints into a track. The points will be ordered according to the layers Waypoint sort order property. Note that some information such as associated images, symbols, comments etc... are lost in this conversion.</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="WptProps"></a>6.7. Waypoint Properties</h3></div></div></div><p>
This shows a dialog with detailed information for the (possibly new) waypoint. Many properties of the waypoint can set or changed here, such as the comment, the symbol used in drawing or the image (normally a photograph taken at this position) associated with it. When a waypoint has an image, a thumbnail of it is drawn in the viewport for the waypoint (in preference to the symbol).
</p><p>
If the waypoint has an associated image, then the Geotag information may be updated, either with updating the file's modification timestamp or not.
This can be useful when the waypoint has been moved.
</p><p>
Clicking on the time opens the time edit dialog from which the time can be adjusted (or added if the waypoint did not have a time).
When the waypoint has a time, right clicking on the button opens a menu from which there are options to copy the time value as text or remove the time value.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p><a name="LatLonInput"></a>
    The latitude entry can accept any text and will attempt to decode the text as a lat/lon pair.
    If successfully decoded then this will take precedence over the longitude value.
    In the case entering e.g. "54.32 -1.098", the latitude will become 54.32 and the longitude -1.098 (when the dialog is accepted).
    This takes a few various lat/lon format strings, including:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>"12, 34": Commas are ignored</p></li><li class="listitem"><p>"S12 W34": With cardinal indicators at begining</p></li><li class="listitem"><p>"12 S 34 W": With cardinal indicators after (must have space between the number and letter)</p></li><li class="listitem"><p>"12.34 56.67": DDD format</p></li><li class="listitem"><p>"S034° 12.3456 W003° 45.6789": DMM format. Equals DDD "-34.20576 -3.76131"</p></li><li class="listitem"><p>"S034° 12 34 W003° 45 54": DMS format. Equals DDD "-34.20944 -3.76500"</p></li></ul></div><p>
  </p></td></tr></table></div><div class="figure"><a name="idm1443"></a><p class="title"><b>Figure 10. Waypoint Properties: Example</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/WaypointProperties.png" alt="Waypoint Properties: Example"></div></div></div></div><br class="figure-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1447"></a>6.8. Waypoint Operations</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1449"></a>6.8.1. Goto</h4></div></div></div><p>
This centers the viewport on the selected waypoint.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1452"></a>6.8.2. Geotag Images...</h4></div></div></div><p>
This opens the <a class="link" href="index.html#geotagging" title="6.9. Version1.3+: Geotag Images">Geotag Dialog</a> to allow Geotagging multiple images to the position of this waypoint.
In this circumstance creation of waypoint options are disabled and only the options related to writing the EXIF information are available.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1456"></a>6.8.3. Transform</h4></div></div></div><p>
Offers a subset of the track <a class="xref" href="index.html#transform" title="6.5.8. Transform">Transform</a> utilities.
Setting the altitude from <a class="xref" href="index.html#DEM" title="10. DEM (Digital Elevation Model) Layer">DEM</a> data and Time from Comment methods are available.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1461"></a>6.8.4. Visit Webpage</h4></div></div></div><p>
If the waypoint's comment (or description) starts with <code class="literal">http:</code> then this option is available and allows launching a web browser to go to the webpage.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1465"></a>6.8.5. Visit Geocache Webpage</h4></div></div></div><p>
If the waypoint's name is in Geocache form (GCXXXXX) then this option is available and allows launching a web browser to go to the Geocache page.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1468"></a>6.8.6. New Waypoint</h4></div></div></div><p>
Same as the layer <a class="link" href="index.html#new_wp" title="6.2.7.1. New Waypoint">New Waypoint</a>.
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="geotagging"></a>6.9. Version1.3+: Geotag Images</h3></div></div></div><p>
This dialog allows geotagging images (normally taken with a digital camera) against a specific waypoint or via interpolation against a specific track or all tracks in the TrackWaypoint layer - depending on how it is invoked.
</p><p>
When geotagging against tracks, images need to have an EXIF DATE_TIME_ORIGINAL (nearly always set by a camera). This timestamp is then used to find the location when the image(s) was taken by searching through the track(s) to find the nearest time - interpolating between points if necessary to set the location.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
Generally it is good policy to synchronize your camera's clock with your GPS clock before taking photographs. However the times can be adjusted afterwards (if necessary) to take into consideration clock differences.
</p></td></tr></table></div><p>
Various options allow control of how the geotagging process is performed:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Images - Add the images used for geotagging</p></li><li class="listitem"><p>Create Waypoints</p></li><li class="listitem"><p>Overwrite Existing Waypoints</p></li><li class="listitem"><p>Write EXIF</p></li><li class="listitem"><p>Overwrite Existing GPS Information</p></li><li class="listitem"><p>Keep File Modification Timestamp</p></li><li class="listitem"><p>Automatic Image Direction - Assumes the direction will be in line with the track heading</p></li><li class="listitem"><p>Interpolate Between Track Segments</p></li><li class="listitem"><p>Image Time Offset - The number of seconds to ADD to the photos time to make it match the GPS data. Calculate this with (GPS - Photo). Can be negative or positive. Useful to adjust times when a camera's timestamp was incorrect.</p></li><li class="listitem"><p>Image Time is Local - Are the timestamps in the image local time or otherwise in UTC.</p></li><li class="listitem"><p>Image Timezone - The timezone adjustment factor.</p></li></ul></div><p>
Typically timestamps in images are either in local time or UTC but there is no way of automatically knowing which; so you need to specify which is the case.
<span class="emphasis"><em>Image Time Offset</em></span> is best used for accounting for camera's clock drift, so normally of the order of a few seconds or minutes.
Whereas <span class="emphasis"><em>Image Timezone</em></span> is more for adjusting for a camera's timezone difference, or perhaps differences in your current timezone and the timezone the images where taken.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="GPS"></a>7. GPS Layer</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#idm1513">7.1. Download</a></span></dt><dt><span class="section"><a href="index.html#idm1517">7.2. Upload</a></span></dt><dt><span class="section"><a href="index.html#idm1521">7.3. Realtime Tracking</a></span></dt><dt><span class="section"><a href="index.html#idm1528">7.4. Empty <span class="emphasis"><em>Item</em></span></a></span></dt></dl></div><p>
The GPS layer is responsible for uploading and downloading GPS data from a GPS device via a serial port connection.
It uses <span class="application">GPSBabel</span> in the background to perform the low level transfer.
Modern GPS devices don't support serial connections any more and typically expose a file system interface and you can simply use the standard File-&gt;Open and Export to GPX File methods to transfer data.
</p><p>
  This layer is also responsible for realtime GPS tracking using <a class="ulink" href="https://gpsd.gitlab.io/gpsd" target="_top">GPSD</a>
</p><p>
Expand the GPS layer in the layers panel to see the two <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layers it
uses for uploading and downloading. To upload, download, or use
realtime tracking, right-click the GPS layer and click the appropriate
menu item.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1513"></a>7.1. Download</h3></div></div></div><p>
To download data from the GPS, right-click the GPS layer and click <span class="guimenuitem">Download from GPS</span>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1517"></a>7.2. Upload</h3></div></div></div><p>
To upload data to the GPS, first populate the GPS Upload child
layer of the GPS layer (either by creating waypoints/tracks/routes in it, or
copying and pasting or dragging waypoints/tracks/routes from another layer).
Then right-click the GPS layer and click <span class="guimenuitem">Upload to GPS</span>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1521"></a>7.3. Realtime Tracking</h3></div></div></div><p>
  You must put the correct information to connect to an instance of GPSD in the GPS Layer properties - Realtime Tracking Mode tab.
</p><p>
By default Viking will automatically continually attempt to connect to GPSD using the specified host and port values,
otherwise if necessary use right-click on the layer and select <span class="guimenuitem">Start Realtime Tracking</span>.
</p><p>
  See <a class="xref" href="index.html#gpsd" title="17.5. GPS Real Time Location">Section 17.5, “GPS Real Time Location”</a> for more detail.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1528"></a>7.4. Empty <span class="emphasis"><em>Item</em></span></h3></div></div></div><p>
There are several options to quickly delete a subsection of data:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Empty Realtime</p></li><li class="listitem"><p>Empty Upload</p></li><li class="listitem"><p>Empty Download</p></li><li class="listitem"><p>Empty All</p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Map"></a>8. Map Layer</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#map_props">8.1. Map Layer Properties</a></span></dt><dt><span class="section"><a href="index.html#idm1724">8.2. Layer Operations</a></span></dt></dl></div><p>
This layer provides a single map resource, you may have multiple map layers but only top one (if enabled) will be visible (subject to the <a class="xref" href="index.html#Alpha">Alpha</a> compositing property).
</p><p>
Some maps are continually improving over time (e.g. OpenStreetMap) thus Viking employs a caching mechanism to avoid redownloading data (see <a class="xref" href="index.html#mapcache" title="2.9. Map Cache">Map Cache</a>).
However a forced refresh for the current view can be made via the <span class="guilabel">Reload All Onscreen Maps</span> option or <span class="keycap"><strong>Ctrl+F5</strong></span>.
</p><p><a name="cache_location"></a>
The default root location for the map cache is searched for in this order (including the legacy locations), using the first existing directory location found to exist. Thus on upgrading <span class="application">Viking</span> it will still continue to use the previous location if it is available.
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Environment Override</span></dt><dd><p><code class="envar">$VIKING_MAPS</code></p></dd><dt><span class="term">Global Map Directory</span></dt><dd><p><span class="trademark">UNIX</span>™: <code class="filename">/var/cache/maps</code></p><p><span class="trademark">Windows</span>™: <code class="filename">C:\VIKING-MAPS</code></p><p><span class="trademark">Mac</span>™: <code class="filename">/Library/cache/Viking/maps</code></p></dd><dt><span class="term">Local Map Directory - Legacy - v1.8 and earlier</span></dt><dd><p><span class="trademark">UNIX</span>™: <code class="filename">~/.viking-maps</code></p><p><span class="trademark">Windows</span>™: <code class="filename">C:\Users\<em class="replaceable"><code>username</code></em>\VIKING-MAPS</code></p><p><span class="trademark">Mac</span>™: <code class="filename">/Library/Application Support/Viking/viking-maps</code></p></dd><dt><span class="term">Local Map Directory - Current - v1.9 onwards</span></dt><dd><p><span class="trademark">UNIX</span>™: <code class="filename"><code class="envar">$XDG_CACHE_HOME</code>/viking</code> - (typically <code class="filename">~/.cache/viking</code>)</p><p><span class="trademark">Windows</span>™: <code class="filename">C:\Users\<em class="replaceable"><code>username</code></em>\AppData\Local\Microsoft\Windows\INetCache\viking</code></p><p><span class="trademark">Mac</span>™: <code class="filename">/Library/Caches/viking</code></p></dd></dl></div><p>
You can modify this directory default by setting an explicit value in the <a class="xref" href="index.html#prefs" title="16. Preferences">Preferences</a> or in <span class="guimenu">Edit</span> → <span class="guisubmenu">Layer Defaults</span> for all new Maps. Or set an explicit Map Directory value for the particular Map Layer in the <a class="xref" href="index.html#map_props" title="8.1. Map Layer Properties">Section 8.1, “Map Layer Properties”</a>.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
  If you've upgraded <span class="application">Viking</span> to v1.9 and want it to use the new location, you need to perform these manual steps to ensure consistency in usage:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
      Manually move the existing directory (when <span class="application">Viking</span> is not running). e.g. in the command line: <span class="command"><strong>mv -p ~/.viking-maps ~/.cache/viking-maps</strong></span>
    </p></li><li class="listitem"><p>
      Update your <span class="emphasis"><em>.vik files</em></span> to use the new directory location.
One way would be to manually edit the files with a text editor to change the Map Layer setting from <span class="command"><strong>directory=/some/dir/ --&gt; directory=</strong></span> as a blank entry will use the default.
      Otherwise if you open .vik file with <span class="application">Viking</span> the maps may auto download and recreate the previous location, so even if you modify the map directory within <span class="application">Viking</span> and save the .vik file, the next time you open <span class="application">Viking</span> it would notice the old location exists (unless you remove it) and may use that in preference for new Map Layers.
    </p></li><li class="listitem"><p>
      This location is also used by DEM files, so you need to update your <span class="emphasis"><em>.vik files</em></span> appropriately use the new directory location of each file used.
  </p></li><li class="listitem"><p>
    You should also modify any existing explicit Map Directory default in the <a class="xref" href="index.html#prefs" title="16. Preferences">Preferences</a> and in <span class="guimenu">Edit</span> → <span class="guisubmenu">Layer Defaults</span> (or at least ensure they are blank, in order to use the defaults).
  </p></li><li class="listitem"><p>
    Finally you will need to fix any other absolute file references in .vik files if you have used files in the map cache location, such as Waypoint Images, Georef Images, External TrackWaypoint Layer references and so forth.
  </p></li></ol></div></td></tr></table></div><p>
Also see <a class="xref" href="index.html#map_tool_dl" title="15.7. Map Download">Map Download</a> tool for use in conjunction with this layer.
</p><p><b>Online Map Tile Providers. </b>
You will need an open internet connection when you are downloading these following map types, but once downloaded they are available from the hard disk cache. When maps are avaliable from the disk cache it is much faster and can be used offline.
Inbuilt maps include various <a class="ulink" href="https://openstreetmap.org/" target="_top">OpenStreetMap (OSM)</a> ones and more:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Bing Aerial Maps (Viking Version1.2+)</p></li><li class="listitem"><p><a class="ulink" href="https://opentopomap.org/about" target="_top">OpenTopoMap</a> - This is the default (Viking Version1.9+)</p><p>Thank you to the OpenTopoMap team for allowing Viking to use their tile service as default.</p></li><li class="listitem"><p>OpenStreetMap (Mapnik)</p></li><li class="listitem"><p>OpenStreetMap (Cycle)</p></li><li class="listitem"><p>OpenStreetMap (Transport) (Viking Version1.3+)</p></li><li class="listitem"><p>OpenStreetMap (Humanitarian) (Viking Version1.5+)</p></li><li class="listitem"><p>NASA BlueMarble</p></li></ul></div><p>
Viking can be configured to handle additional online map resources. See <a class="xref" href="index.html#extend_viking" title="18. Extending Viking">Extending Viking</a> for further detail.
</p><p><b>Offline Map Tilesets. </b>
Some map types supported are for on disk tile formats:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>On Disk OSM Tile Format</p><p>This is equivalent to any map set with <span class="emphasis"><em>OSM</em></span> Cache Layput.</p></li><li class="listitem"><p><a class="ulink" href="https://github.com/mapbox/mbtiles-spec" target="_top">MBTiles File</a></p></li><li class="listitem"><p><a class="ulink" href="https://wiki.openstreetmap.org/wiki/Meta_tiles" target="_top">OSM Metatiles</a></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>This file format is mostly aimed at being rendering cache feature and is <a class="ulink" href="https://en.wikipedia.org/wiki/Endianness" target="_top">Endian</a> dependent.</p><p>Thus to successfully view the file cache, the Metatile files and Viking must be of the same endian type (which they probably will be).</p></td></tr></table></div></li></ul></div><p>
Of course you need to have acquired or generated these tilesets yourself.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="map_props"></a>8.1. Map Layer Properties</h3></div></div></div><p>
Configurable properties:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">Map Type</span></span></dt><dd><p>The kind of map this layer displays.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Map types are dependent on the current <a class="xref" href="index.html#projection" title="2.7. Projections">Projection</a> mode.</p></td></tr></table></div></dd><dt><span class="term"><span class="guilabel">Maps Directory</span></span></dt><dd><p>Not applicable for MBTiles Map type since it is a single file.</p></dd><dt><span class="term"><span class="guilabel">Cache Layout</span></span></dt><dd><p>Viking or OSM. See <a class="xref" href="index.html#mapcache" title="2.9. Map Cache">Map Cache</a>. Only applies to maps from online tile providers.</p></dd><dt><span class="term"><span class="guilabel">Map File</span></span></dt><dd><p>Ony applicable for MBTiles Map type since it is a single file.</p></dd><dt><span class="term"><span class="guilabel">Alpha</span></span></dt><dd><p>Control the <a class="xref" href="index.html#Alpha">Alpha</a> value for transparency effects.</p></dd><dt><span class="term"><span class="guilabel">Autodownload Maps</span></span></dt><dd><p>This can be useful to turn off when you are not online to avoid pointless download requests or may be keep a map in a 'historical' state.
e.g. perhaps in case a current map rendering is broken.</p></dd><dt><span class="term"><span class="guilabel">Autodownload Only Gets Missing Maps</span></span></dt><dd><p>Using this option avoids attempting to update already acquired tiles.
This can be useful if you want to restrict the network usage, without having to resort to manual control. Only applies when <span class="emphasis"><em>Autodownload Maps</em></span> is on.</p></dd><dt><span class="term"><span class="guilabel">Zoom Level</span></span></dt><dd><p>Determines the method of displaying map tiles for the current zoom level.
<span class="emphasis"><em>Viking Zoom Level</em></span> uses the best matching level, otherwise setting a fixed value will always use map tiles of the specified value regardless of the actual zoom level.</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1724"></a>8.2. Layer Operations</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1726"></a>8.2.1. Download Missing Onscreen Maps</h4></div></div></div><p>
This requests map tiles for areas of the viewport that do not currently have one.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1729"></a>8.2.2. Download New Onscreen Maps</h4></div></div></div><p>
This requests map tiles only if the maps are older than the Tile Age preference.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1732"></a>8.2.3. Reload All Onscreen Maps</h4></div></div></div><p>
Force a refresh of all visible map tiles.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1735"></a>8.2.4. Download Maps in Zoom Levels</h4></div></div></div><p>
This opens a dialog to enable requesting the download of maps for the region in the viewport over a specified number of Tiled Web Map zoom levels.
The download method type can be specified to help limit the number of requests.
</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>
There are some inbuilt limits to prevent downloading large amounts of map tiles.
</p><p>
Please respect the usage policy of the tile set provider.
Such as <a class="ulink" href="https://operations.osmfoundation.org/policies/tiles/" target="_top"><em class="citetitle">OSM Tile Usage Policy</em></a>.
</p></td></tr></table></div><p>
</p><div class="figure"><a name="idm1744"></a><p class="title"><b>Figure 11. Maps Download Dialog: Example</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/Maps_download_region_dialog.png" alt="Maps Download Dialog: Example"></div></div></div></div><p><br class="figure-break">
</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Aggregate"></a>9. Aggregate Layer</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#idm1774">9.1. Tracks Area Coverage</a></span></dt><dt><span class="section"><a href="index.html#idm1794">9.2. Heatmap</a></span></dt><dt><span class="section"><a href="index.html#idm1806">9.3. Layer Properties: Tracks Area Coverage</a></span></dt><dt><span class="section"><a href="index.html#idm1809">9.4. Layer Properties: TAC Advanced</a></span></dt><dt><span class="section"><a href="index.html#idm1814">9.5. Layer Properties: Heatmap</a></span></dt><dt><span class="section"><a href="index.html#idm1819">9.6. Layer Operations</a></span></dt></dl></div><p>
This layer is a container layer to hold other layers. There is always an initial and controlling <span class="emphasis"><em>Top Layer</em></span> that can not be removed but it can be renamed.
</p><p>
This layer type is useful for grouping other layers, especially <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layers, in whatever categories are relevant to you: such as by activity, location or date.
Here are some suggestions:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Hiking</p></li><li class="listitem"><p>Mountain Biking</p></li><li class="listitem"><p>Road Cycling</p></li><li class="listitem"><p>Car Trips</p></li><li class="listitem"><p>Sailing</p></li><li class="listitem"><p>Holidays</p></li><li class="listitem"><p>UK Points of Interest</p></li><li class="listitem"><p>USA Points of Interest</p></li><li class="listitem"><p>etc...</p></li></ul></div><p>
</p><p>
Thus one can have a list of all your tracks, but groups can be shown or not using the relevant layers visibility checkbox.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1774"></a>9.1. Tracks Area Coverage</h3></div></div></div><p>
Tracks Area Coverage (TAC) is a feature to highlight areas with track coverage.
It is based on OpenStreetMap style tiles - as an approximation to a grid square system.
The size of the area can be changed, which is linked to the OSM Zoom level,
such that a higher Zoom level gives a smaller physical area and so more tiles.
This can be used for general curiousity or perhaps to plan routes to visit areas previously unexplored.
</p><p>
The calculations are performed in the background when deemed necessary (e.g. loading in a new file) and can also be manually requested.
</p><p>
Note that Viking can be slow in drawing hundreds or more tracks but this analysis is relatively quick and the resulting drawing is much faster.
Thus ATM is it recommended to turn off the visibility of the tracks themselves for this type of usage.
</p><p>
</p><div class="figure"><a name="idm1780"></a><p class="title"><b>Figure 12. Tracks Area Coverage: Example</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/Viking-TAC.png" alt="Tracks Area Coverage: Example"></div></div></div></div><p><br class="figure-break">
</p><p>
A concept of ignoring <span class="emphasis"><em>unreachable</em></span> tiles is supported. This allows marking individual tiles as inaccessible (e.g typically military use only, so no public access) so that the tile is still included for maximum square and clustering count purposes. These tiles are drawn in red on the viewport.
</p><p>
On startup Viking attempts to load the file <code class="filename">unreachable_tiles.txt</code> in your <a class="xref" href="index.html#config_file_loc" title="18.7. User Configuration File Location">User Configuration File Location</a>.</p><p>
The file should contain a list of tiles in the format of 3 numbers, with each line being "OSM_ZOOM TILE_X_ID TILE_Y_ID". e.g.
</p><pre class="screen">
14 8116 5474
14 8117 5474
</pre><p>
Any lines starting with a '#', '!' or ';' are ignored as intended for comments.
A fuller example covering the UK is in <code class="filename">/usr/share/viking/unreachable_tiles.txt</code> or <code class="filename">C:\Program Files\Viking\data\unreachable_tiles.txt</code> according to the operating system and typical install locations. You may wish to copy this file into your Viking home directory so that it is used.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1794"></a>9.2. Heatmap</h3></div></div></div><p>
The heatmap is another feature to analyse areas with track coverage.
It must be manually requested via right click on the Aggregate layer and choosing from the menu <span class="guimenu">Tracks Heatmap</span> → <span class="guisubmenu">Calculate</span>.
The heatmap covers the current area displayed on the viewport.
</p><p>
The calculations are performed in the background as depending on the number of tracks, the heatmap options and the speed of the computer the calculation may take a little time.
If the viewport size is changed then the heatmap is automatically invalidated and removed.
Panning the display leaves the heatmap image only covering the area already calculated.
Zooming in and out scales the heatmap image appropriately, but the image may get removed if the scaling operation is likely to be too slow.
</p><p>
</p><div class="figure"><a name="idm1802"></a><p class="title"><b>Figure 13. Heatmap: Example</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/Aggregate_heatmap.png" alt="Heatmap: Example"></div></div></div></div><p><br class="figure-break">
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1806"></a>9.3. Layer Properties: Tracks Area Coverage</h3></div></div></div><p>Offers basic controls whether it is enabled or not and includes the size of the tile.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1809"></a>9.4. Layer Properties: TAC Advanced</h3></div></div></div><p>Controls subsets of TAC drawing are calculated and shown with their colour and opacity.</p><p>Note for Max square coverage, ATM it will only draw the first square encountered, although there may be more than one such area.</p><p>Note for Cluster coverage, ATM it will only draw the first cluster encountered, although there may be more than one such area.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1814"></a>9.5. Layer Properties: Heatmap</h3></div></div></div><p>Offers controls over the heatmap image.</p><p>If there is an existing heatmap on display then changing these values and selecting <span class="guibutton">Apply</span> will cause the heatmap to be recalculated with the new settings.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1819"></a>9.6. Layer Operations</h3></div></div></div><p>
The following are available on Aggregate Layers:
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1822"></a>9.6.1. New Layer</h4></div></div></div><p>
Add a new layer of the selected type.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1825"></a>9.6.2. Visibility Options</h4></div></div></div><p>
This offers a quick way to set all the visibilities of each item within the aggregate, rather than having to change each one individually.
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">Show All</span></span></dt><dd><p>Ensures all items are set to be visible.</p></dd><dt><span class="term"><span class="guilabel">Hide All</span></span></dt><dd><p>Ensures all items are set to be invisible. This is useful for then turning on single items afterwards so the display is not cluttered.</p></dd><dt><span class="term"><span class="guilabel">Toggle</span></span></dt><dd><p>Inverts the visibility status of each item.</p></dd></dl></div><p>
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm1844"></a>9.6.3. View - All TrackWaypoint Layers</h4></div></div></div><p>
Automatically move the viewport and select the best zoom level to see all such <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layers within this aggregate.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="sort_items"></a>9.6.4. Sort</h4></div></div></div><p>
The list within the treeview can be sorted.
</p><p>
Alphabetical and Date sorts are available.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
Generally it is not useful to sort the Top most layer. Sort is mainly intended for Aggregate groups of <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layers.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="track_list"></a>9.6.5. Track List</h4></div></div></div><p>
Selecting this opens a dialog listing all the tracks in a table along side statistics such as track length and maximum speed.
Each column header is clickable and will reorder the list according to that particular column.
You can also rearrange the columns via dragging the column header to the new location.
</p><p>
This table may be invoked from a variety of different layer levels and will then list only the relevant tracks (and/or routes).
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Aggregate Layer</span></dt><dd><p>Lists Tracks and Routes and the <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> Layer they are in</p></dd><dt><span class="term">TrackWaypoint Layer</span></dt><dd><p>Lists Tracks and Routes</p></dd><dt><span class="term">TrackWaypoint Track sublayer</span></dt><dd><p>Lists Tracks only</p></dd><dt><span class="term">TrackWaypoint Route sublayer</span></dt><dd><p>Lists Routes only</p></dd></dl></div><p>
</p><p>
</p><div class="figure"><a name="idm1878"></a><p class="title"><b>Figure 14. Track List Dialog: Example</b></p><div class="figure-contents"><div class="blockquote"><blockquote class="blockquote"><p>
This is showing all tracks and routes (although there are no actual routes here!) in multiple <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layers, that has been sorted by height.
Note that routes will not have timestamps or speeds, but may have elevations and should have some distance!
</p></blockquote></div><div class="screenshot"><div><img src="figures/LayersTracksList.png" alt="Track List Dialog: Example"></div></div></div></div><p><br class="figure-break">
</p><p>
Hovering the mouse over an entry will show a tooltip of the comment or description if it is available.
</p><p>
Each entry in the track list can be selected and on mouse right click offers these options:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">View</span></span></dt><dd><p>Move the viewport to the area of the item and highlight it.</p></dd><dt><span class="term"><span class="guilabel">Statistics</span></span></dt><dd><p>Opens the Properties dialog on the <a class="xref" href="index.html#track_statistics" title="6.4.2. Track and Route Statistics Tab">Track and Route Statistics</a> tab. Note this will close the track list dialog.</p></dd><dt><span class="term"><span class="guilabel">Copy Data</span></span></dt><dd><p>Copy the data fields as text.</p></dd></dl></div><p>
</p><p>
If multiple entries are selected the only right click option is <span class="emphasis"><em>Copy Data</em></span>.
This copies the individual data fields as plain text separated by tab characters, ideal for pasting into other applications in particular spreadsheet programs.
Note that the order of the fields copied is the default column ordering (irrespective to how they may have been rearranged).
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="waypoint_list"></a>9.6.6. Waypoint List</h4></div></div></div><p>
Selecting this opens a dialog listing all the waypoints to give a overview of the waypoint information.
Each column header is clickable and will reorder the list according to that particular column.
You can also rearrange the columns via dragging the column header to the new location.
</p><p>
This table may be invoked from a variety of different layer levels and will then list only the relevant waypoints.
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Aggregate Layer</span></dt><dd><p>Lists Waypoints and the <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> Layer they are in</p></dd><dt><span class="term">TrackWaypoint Layer</span></dt><dd><p>Lists Waypoints</p></dd><dt><span class="term">TrackWaypoint Waypoint sublayer</span></dt><dd><p>Lists Waypoints</p></dd></dl></div><p>
</p><p>
</p><div class="figure"><a name="idm1925"></a><p class="title"><b>Figure 15. Waypoint List Dialog: Example</b></p><div class="figure-contents"><div class="blockquote"><blockquote class="blockquote"><p>
This was invoked on a <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layer and shows all waypoints from that single layer. It has been sorted by the symbols.
</p></blockquote></div><div class="screenshot"><div><img src="figures/WaypointsList.png" alt="Waypoint List Dialog: Example"></div></div></div></div><p><br class="figure-break">
</p><p>
Hovering the mouse over an entry will show a tooltip of the description if it is available.
</p><p>
Each entry in the list can be selected and on mouse right click offers these options:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">View</span></span></dt><dd><p>Move the viewport to the area of the item and highlight it.</p></dd><dt><span class="term"><span class="guilabel">Properties</span></span></dt><dd><p>This will open the properties dialog. Note this will close the waypoint list dialog.</p></dd><dt><span class="term"><span class="guilabel">Show Picture</span></span></dt><dd><p>If enabled, this will open the associated image in an external Image Viewer program.</p></dd><dt><span class="term"><span class="guilabel">Copy Data</span></span></dt><dd><p>Copy the data fields as text.</p></dd></dl></div><p>
</p><p>
If multiple entries are selected the only right click option is <span class="emphasis"><em>Copy Data</em></span>.
This copies the individual data fields as plain text separated by tab characters, ideal for pasting into other applications in particular spreadsheet programs.
Note that the order of the fields copied is the default column ordering (irrespective to how they may have been rearranged).
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="vis_options"></a>9.6.7. Visibility Options</h4></div></div></div><p>
This offers a quick way to set all the visibilities of each item within the containing layer, rather than having to change each one individually.
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">Show All</span></span></dt><dd><p>Ensures all items are set to be visible.</p></dd><dt><span class="term"><span class="guilabel">Hide All</span></span></dt><dd><p>Ensures all items are set to be invisible. This is useful for then turning on single items afterwards so the display is not cluttered.</p></dd><dt><span class="term"><span class="guilabel">Toggle</span></span></dt><dd><p>Inverts the visibility status of each item.</p></dd></dl></div><p>
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="search_date"></a>9.6.8. Search by Date</h4></div></div></div><p>
This opens calendar dialog to select a date to search by within this Aggregate layer.
The first item that is found on that date will be selected.
Tracks are searched first in preference over waypoints.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="agg_stats"></a>9.6.9. Statistics</h4></div></div></div><p>
This opens a dialog to display various statistics about all tracks contained within this Aggregate layer.
</p><div class="figure"><a name="idm1982"></a><p class="title"><b>Figure 16. Statistics Dialog: Totals</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/Aggregate_statistics.png" alt="Statistics Dialog: Totals"></div></div></div></div><br class="figure-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
    This currently generates a simplified <a class="ulink" href="https://en.wikipedia.org/wiki/Arthur_Eddington#Eddington_number_for_cycling" target="_top">Eddington number</a>.
    In that a per track length value is used, rather than trying to work out a length per day.
    (i.e. doesn't combine multiple tracks for a single day or split very long tracks into days).
    The Eddington number is in the current Unit distance <a class="xref" href="index.html#prefs" title="16. Preferences">Preferences</a>.
  </p></td></tr></table></div><div class="figure"><a name="idm1990"></a><p class="title"><b>Figure 17. Statistics Dialog: Years</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/Aggregate_statistics_years.png" alt="Statistics Dialog: Years"></div></div></div></div><br class="figure-break"><p>
  Each column can be sorted by clicking on the relevant column header.
</p><p>
  The right click menu offers an option to copy all the data as text in a CSV style format (using a tabbed separator).
</p><p>
  Selecting a year will update the information in the Months tab.
</p><div class="figure"><a name="idm1997"></a><p class="title"><b>Figure 18. Statistics Dialog: Months</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/Aggregate_statistics_months.png" alt="Statistics Dialog: Months"></div></div></div></div><br class="figure-break"><p>
  Each column can be sorted by clicking on the relevant column header.
</p><p>
  The right click menu offers an option to copy all the data as text in a CSV style format (using a tabbed separator).
</p><p>
  The right click menu offers an option to show the <a class="xref" href="index.html#track_list" title="9.6.5. Track List">Track List</a> for the relevant month.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2005"></a>9.6.10. File Options</h4></div></div></div><p>
Offers methods to manage loading and exporting to/from this specific Aggregate layer.
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">Load External Layers</span></span></dt><dd><p>
Using this forces External Layers in this Aggregate Layer to be loaded and so contribute to analysis, as otherwise they are loaded only when they are displayed or selected.
</p></dd><dt><span class="term"><span class="guilabel">Open GPX as External Layer...</span></span></dt><dd><p>This opens a dialog to select files to <a class="xref" href="index.html#open_gpx_external" title="3.7. Open GPX as External Layer">Section 3.7, “Open GPX as External Layer”</a> within this Aggregate Layer.</p></dd><dt><span class="term"><span class="guilabel">Save Layer As...</span></span></dt><dd><p>This opens a dialog to choose a name and location for a new Viking file containing data just this Aggregate Layer.</p></dd><dt><span class="term"><span class="guilabel">Append File...</span></span></dt><dd><p>This opens a dialog to select files to load within this Aggregate layer.</p></dd><dt><span class="term"><span class="guilabel">Export As GPX...</span></span></dt><dd><p>This opens a dialog choose a name and location for a new GPX file from all visible <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layers in this Aggregate Layer into a single GPX file.</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2036"></a>9.6.11. Tracks Area Coverage-&gt;Calculate</h4></div></div></div><p>
Start a new Tracks Area Coverage calculation.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2039"></a>9.6.12. Tracks Area Coverage-&gt;Remove</h4></div></div></div><p>
This clears the Tracks Area Coverage information, thus no grid colouring will be displayed.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2042"></a>9.6.13. Tracks Heatmap-&gt;Calculate</h4></div></div></div><p>
Start a new heatmap calculation for current area displayed on the viewport.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2045"></a>9.6.14. Tracks Heatmap-&gt;Remove</h4></div></div></div><p>
Clear the heatmap from the display.
</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="DEM"></a>10. DEM (Digital Elevation Model) Layer</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#idm2110">10.1. Layer Properties</a></span></dt><dt><span class="section"><a href="index.html#idm2187">10.2. Layer Operations</a></span></dt><dt><span class="section"><a href="index.html#idm2190">10.3. Screenshot</a></span></dt></dl></div><p>
This layer provides elevation data from the <a class="ulink" href="https://www2.jpl.nasa.gov/srtm/" target="_top">Shuttle Radar Topography Mission (SRTM)</a>
</p><p>
Elevation data can be useful in planning trips, as you many wish to avoid/minimise the hills encountered. [OSM Cyclemap is also useful this way too]
</p><p>
To download the data use the <a class="xref" href="index.html#dem_tool_dl" title="15.8. DEM Download">Section 15.8, “DEM Download”</a> tool (shown on the toolbar), and then click on a area of the viewport. Once files have been downloaded they can then be loaded from disk via the DEM properties in future application runs.
</p><p>
  The default data server is the official <a class="ulink" href="https://earthdata.nasa.gov/" target="_top">NASA site</a>,
  however (as of 2021) to download from NASA's Land Processes Distributed Active Archive Center (LP DAAC) you must
  <a class="ulink" href="https://urs.earthdata.nasa.gov/users/new/" target="_top">Register</a> and then provide your login details to Viking
  in the <a class="xref" href="index.html#prefs_dem_server" title="16.8. DEM Server">DEM Server</a> preferences.
</p><p>
  In order to support alternative DEM servers, the Downloads Property tab contains settings to change the URL and to configure how requests are made to the DEM since different servers store the files in different locations and names. The defaults in using NASA Earthdata are:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"></span></dt><dd><p>
        <span class="guilabel">Base URL</span> set to <strong class="userinput"><code>https://e4ftl01.cr.usgs.gov/MEASURES/SRTMGL1.003/2000.02.11</code></strong>
      </p></dd><dt><span class="term"></span></dt><dd><p>
        <span class="guilabel">Layout</span> set to <strong class="userinput"><code>None</code></strong>
      </p></dd><dt><span class="term"></span></dt><dd><p>
        <span class="guilabel">Filename Convention</span> set to <strong class="userinput"><code>SRTMGL1</code></strong>
      </p></dd></dl></div><p>
  One currently known alternative DEM server is provided by <a class="ulink" href="https://bailu.ch/" target="_top">Another Activity Tracker (AAT)</a>.
  This is supported by the following settings:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"></span></dt><dd><p>
      <span class="guilabel">Base URL</span> set to <strong class="userinput"><code>https://bailu.ch/dem3</code></strong>
    </p></dd><dt><span class="term"></span></dt><dd><p>
        <span class="guilabel">Layout</span> set to <strong class="userinput"><code>Latitude</code></strong>
      </p></dd><dt><span class="term"></span></dt><dd><p>
        <span class="guilabel">Filename Convention</span> set to <strong class="userinput"><code>Normal</code></strong>
      </p></dd></dl></div><p>
ATM Viking does not auto download DEM data. If you want to get lots of data blocks, you may wish to use some other program get such as <span class="application">curl</span> or <span class="application">wget</span> to download them for an area.
</p><p>
  The location for DEM files stored on local disk is under the <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a> Layer <a class="xref" href="index.html#cache_location">Cache Root Location</a>,
  using the <strong class="userinput"><code>Continent</code></strong> style as this was how the original DEM server (pre 2021) worked.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
Using many DEMs is memory intensive as every DEM block is loaded into memory. Depending on your computer's capability, it is probably unwise to attempt using too many blocks (perhaps 200+ it becomes an issue), so trying to use DEMs covering large countries/continents (USA, Australia etc...) is unlikely to work. In these conditions under Linux, Viking may be automatically stopped by the "<a class="ulink" href="https://en.wikipedia.org/wiki/Out_of_memory/" target="_top">OOM</a> Killer".
</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm2110"></a>10.1. Layer Properties</h3></div></div></div><p>
Configurable properties are split into several sections:
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2113"></a>10.1.1. Drawing</h4></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">Min Elev Colour</span></span></dt><dd><p>Explicit colour for those lower than the Min Elev.</p></dd><dt><span class="term"><span class="guilabel">Colour Scheme</span></span></dt><dd><p>Default or Delineate. Delineate allows selecting start and end colours, with in between colours automatically allocated.</p></dd><dt><span class="term"><span class="guilabel">Start Colour</span>, </span><span class="term"><span class="guilabel">End Colour</span></span></dt><dd><p>For the Delineate Colour Scheme.</p></dd><dt><span class="term"><span class="guilabel">Type</span></span></dt><dd><p>Absolute height or Height gradient.</p></dd><dt><span class="term"><span class="guilabel">Min Elev</span></span></dt><dd><p>The colourmap starts from this height.</p></dd><dt><span class="term"><span class="guilabel">Max Elev</span></span></dt><dd><p>The colourmap ends at this height.</p></dd><dt><span class="term"><span class="guilabel">Alpha</span></span></dt><dd><p>Control the <a class="xref" href="index.html#Alpha">Alpha</a> value for transparency effects.</p></dd></dl></div><p>
Colours for drawing the DEM are allocated in discrete units between the Min Elev and Max Elev heights.
Thus to see differences more clearly you may want to adjust these values to match the height variance around the area of interest.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2155"></a>10.1.2. Download</h4></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">Base URL</span></span></dt><dd><p>The server URL including the root location of the DEM files</p></dd><dt><span class="term"><span class="guilabel">Layout</span></span></dt><dd><p>Describes how the DEM file directory structure on the server is laid out.</p></dd><dt><span class="term"><span class="guilabel">Filename Convention</span></span></dt><dd><p><strong class="userinput"><code>Normal</code></strong> means the filenames on the server are named like <code class="filename">N12E034.hgt.zip</code></p><p><strong class="userinput"><code>SRTMGL1</code></strong> means the filenames on the server are named like <code class="filename">N12E034.SRTMGL1.hgt.zip</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2178"></a>10.1.3. Files</h4></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">DEM Files</span></span></dt><dd><p>The list of files in use.</p><p>Normally you do not need to manually edit this list.</p></dd></dl></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm2187"></a>10.2. Layer Operations</h3></div></div></div><p>
Other than the standard operations (Cut, Paste etc...), there are no further specific operations available.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm2190"></a>10.3. Screenshot</h3></div></div></div><div class="figure"><a name="idm2192"></a><p class="title"><b>Figure 19. Screenshot: DEM Example</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/DEM_Example.png" alt="Screenshot: DEM Example"></div></div><div class="informalexample"><p>
    An example with an alternative colour scheme.
  </p></div></div></div><br class="figure-break"></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="GeoRef"></a>11. GeoRef Layer</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#idm2210">11.1. Layer Properties</a></span></dt><dt><span class="section"><a href="index.html#idm2222">11.2. Layer Operations</a></span></dt></dl></div><p>
This layer allows one to use any image as a map. You will need to tell it how to align the map to a position in the world and the scale of map.
</p><p>
When a new image is selected the values from a <a class="ulink" href="https://en.wikipedia.org/wiki/World_file" target="_top">World File</a> will automatically be tried to be found. 
(subject to the setting in <a class="xref" href="index.html#prefs_external" title="16.2. Export/External">Export/External Preferences</a>)
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
Viking does not currently support skew values and since World Files do not contain what coordinate system the coordinate values are in - Viking assumes they are in UTM.
</p></td></tr></table></div><p>
If you do not know the scale of the map but know the coordinates of both upper left and lower right coordinates,
 you can enter these coordinates (Lat/Lon only) and then use the <span class="guibutton">Calculate MPP values from coordinates</span> button.
</p><p>
The map once loaded can be repositioned via <a class="xref" href="index.html#georef_tools" title="15.6. Georef Map Layer Tools">Section 15.6, “Georef Map Layer Tools”</a>, which may be easier than trying to edit the raw property values.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm2210"></a>11.1. Layer Properties</h3></div></div></div><p>
Configurable properties:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The map image file.</p></li><li class="listitem"><p>X + Y Scales in metres per pixel.</p></li><li class="listitem"><p>Coordinates of the upper left corner of the map (either UTM or Lat/Lon value).</p></li><li class="listitem"><p>Alpha. Control the Alpha value for transparency effects using a value between 0 and 255 with the default being 255 for a fully solid image, whereas 0 is transparent.</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm2222"></a>11.2. Layer Operations</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2224"></a>11.2.1. Zoom to Fit Map</h4></div></div></div><p>
Automatically set a zoom level to see the entire map coverage.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2227"></a>11.2.2. Goto Map Center</h4></div></div></div><p>
Center the viewport on this map.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2230"></a>11.2.3. Export to World File</h4></div></div></div><p>
Opens a file save dialog to save the scale and position information as a <a class="ulink" href="https://en.wikipedia.org/wiki/World_file" target="_top">World File</a>.
</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="GeoClue"></a>12. GeoClue Layer</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#idm2245">12.1. Layer Properties</a></span></dt><dt><span class="section"><a href="index.html#idm2279">12.2. Layer Operations</a></span></dt></dl></div><p>
  Enable following and/or creating a track from the position returned by the
  <a class="ulink" href="https://www.freedesktop.org/wiki/Software/GeoClue" target="_top">GeoClue</a> service.
</p><p>
  On some systems you will need to enable location services, otherwise Viking will encounter errors along the lines of <span class="italic">"GDBus.Error:org.freedesktop.DBus.Error.AccessDenied: Geolocation disabled for UID ..."</span>
</p><p>
 For the Ubuntu Linux distribution this is in the System Settings: Settings-&gt;Privacy-&gt;Location Services
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
  GeoClue runs using the <a class="ulink" href="https://www.freedesktop.org/wiki/Software/dbus/" target="_top">dbus</a> messaging service.
  This is currently disabled in the <span class="trademark">Windows</span>™ build of Viking due to system distribution complexities.
</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm2245"></a>12.1. Layer Properties</h3></div></div></div><p>
Configurable properties:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="guilabel">Auto Connect</span></span></dt><dd><p>Whether to automatically connect or not. </p></dd><dt><span class="term"><span class="guilabel">Recording tracks</span></span></dt><dd><p>Whether to form a track on the location updates.</p></dd><dt><span class="term"><span class="guilabel">Jump to current position on start</span></span></dt><dd><p>Whether to move the viewport on first location report.</p></dd><dt><span class="term"><span class="guilabel">Moving method</span></span></dt><dd><p>How the viewport is moved upon location updates: centered, keep the position in the viewport or none.</p></dd><dt><span class="term"><span class="guilabel">Update Statusbar</span></span></dt><dd><p>Whether the Statusbar is also updated on location updates.</p></dd><dt><span class="term"><span class="guilabel">Colour</span></span></dt><dd><p>Set the colour of the position indicator.</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm2279"></a>12.2. Layer Operations</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2281"></a>12.2.1. Start / Stop Tracking</h4></div></div></div><p>
Offers manual control over the start or stop tracking as appropriate.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2284"></a>12.2.2. Empty</h4></div></div></div><p>
Quick access to remove all data from the tracking layer.
</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="MapnikRendering"></a>13. Mapnik Rendering Layer</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#idm2310">13.1. Layer Properties</a></span></dt><dt><span class="section"><a href="index.html#idm2328">13.2. Layer Operations</a></span></dt><dt><span class="section"><a href="index.html#idm2340">13.3. Viewport Tools</a></span></dt></dl></div><p>
The Mapnik Rendering Layer uses the <a class="ulink" href="https://mapnik.org/" target="_top">Mapnik Library</a> to generate map images according to the Mapnik configuration.
</p><p>
When using this layer it is useful to review the <a class="xref" href="index.html#prefs_mapnik" title="16.5. Mapnik">Mapnik Preferences</a> to ensure the settings are correct for your system.
</p><p>
Mapnik configurations can be created via the CartoCSS Mapnik stylesheet pre-processor.
Viking will automatically invoke the <span class="emphasis"><em>carto</em></span> program when a carto project file is specified.
Currently Viking can not tell when an included file of the project has changed, so there is an option to manually run the carto command.
</p><p>
Viking will only (re)render tiles when it believes it is necessary - such as when there is no tile in the file cache,
when there is a new Mapnik configuration style or the tile is over a certain age.
To force Viking to (re)render all tiles - create the file <code class="filename">planet-import-complete</code> in your <a class="xref" href="index.html#config_file_loc" title="18.7. User Configuration File Location">User Configuration File Location</a> and/or update its timestamp. (e.g. using the <span class="emphasis"><em>touch</em></span> command).
</p><p>
Creating a Carto project or an initial Mapnik configuration file and maintaining the datasource is beyond the scope of this documentation.
There are various existing Carto projects such as <a class="ulink" href="https://github.com/gravitystorm/openstreetmap-carto" target="_top">OSM Carto</a>
or <a class="ulink" href="https://github.com/mapbox/osm-bright" target="_top">OSM Bright</a>. These use OSM data and contain guides on how to setup the datasource.
Further detail about using OSM data can be found on the <a class="ulink" href="https://switch2osm.org/" target="_top">Switch2OSM</a> website.
</p><p>
If you use a simple Mapnik configuration then the tile rendering time can be negligible and you can avoid having a tile cache.
However for most systems using a stylesheet of similar complexity to the OSM Carto styling,
rendering a tile (including reading/acquiring the data) can take some time and thus several seconds to generate a display screen's worth of tiles.
Hence Viking runs these tasks in the background and uses the tile cache to save this output.
</p><p>
Generated tiles are stored in the <span class="emphasis"><em>PNG</em></span> format in the standard <a class="ulink" href="https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames" target="_top">OSM Tile name</a> layout.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
Currently due to code build and dependency complexities, Mapnik Rendering is not available in the <span class="trademark">Windows</span>™ version of Viking
</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm2310"></a>13.1. Layer Properties</h3></div></div></div><p>
Configurable properties:
</p><p><b>Carto project file. </b>When specified, this is used to generate the mapnik configuration file.</p><p><b>Mapnik configuration file. </b>Specify the Mapnik configuration file or leave it blank when using a Carto project file.</p><p><b>Alpha. </b>Control the Alpha value for transparency effects using a value between 0 and 255 with the default being 255 for a fully solid image, whereas 0 is transparent.</p><p><b>Use File Cache. </b>The default is to use a file cache.</p><p><b>Tile cache directory. </b>The top level directory of where the generated tiles are stored.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm2328"></a>13.2. Layer Operations</h3></div></div></div><p>These extra options are available when right clicking on the Mapnik Rendering Layer in the Layers Panel.</p><p><b>Refresh. </b>Reload the Mapnik configuration.</p><p><b>Run Carto Command. </b>Force running the carto command and reload the generated Mapnik configuration.</p><p><b>About. </b>Show some information about the Mapnik version in use.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm2340"></a>13.3. Viewport Tools</h3></div></div></div><p>
When a Mapnik Rendering Layer is selected in the Layers Panel, the <span class="guilabel">Mapnik Features</span> tool can be selected from the toolbar.
This enables location dependent actions to be invoked by right clicking on the viewport and selecting an action from the drop down menu.
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Rerender Tile.</p></li><li class="listitem"><p>Tile Info</p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Coordinate"></a>14. Coordinate Layer</h2></div></div></div><p>
This layer is allows drawing of grid lines on the viewport.
</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tools"></a>15. Tools</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#selecttool">15.1. Select (Version1.9+)</a></span></dt><dt><span class="section"><a href="index.html#pantool">15.2. Pan</a></span></dt><dt><span class="section"><a href="index.html#zoomtool">15.3. Zoom</a></span></dt><dt><span class="section"><a href="index.html#rulertool">15.4. Ruler</a></span></dt><dt><span class="section"><a href="index.html#trw_tools">15.5. TrackWaypoint Layer Tools</a></span></dt><dt><span class="section"><a href="index.html#georef_tools">15.6. Georef Map Layer Tools</a></span></dt><dt><span class="section"><a href="index.html#map_tool_dl">15.7. Map Download</a></span></dt><dt><span class="section"><a href="index.html#dem_tool_dl">15.8. DEM Download</a></span></dt><dt><span class="section"><a href="index.html#idm2641">15.9. Webtools</a></span></dt></dl></div><p>
Viking's mouse actions on the viewport are controlled by which tool is active. Only one tool can be active at a time. The default mode is <span class="emphasis"><em>Select</em></span>. You can return to the default mode by pressing <span class="keycap"><strong>Escape</strong></span>. The default mode can be changed in <a class="xref" href="index.html#misc_settings" title="18.8. Miscellaneous Settings">Miscellaneous Settings</a>.
</p><p>
You can use the scroll wheel, the middle-click, the middle-click+drag to zoom, center map at position and pan respectively no matter what tool you are using.
</p><p>
<span class="keycap"><strong>Scroll</strong></span>: zoom in and out keeping the mouse over same location
</p><p>
<span class="keycap"><strong>Ctrl-scroll</strong></span>: pan north-south (also <span class="keycap"><strong>Ctrl-up</strong></span>, <span class="keycap"><strong>Ctrl-down</strong></span>)
</p><p>
<span class="keycap"><strong>Shift-scroll</strong></span>: pan east-west (also <span class="keycap"><strong>Ctrl-left</strong></span>, <span class="keycap"><strong>Ctrl-right</strong></span>)
</p><p>
<span class="keycap"><strong>Ctrl-shift-scroll</strong></span>: zoom in and out, without changing the center (also <span class="keycap"><strong>Ctrl+</strong></span>, <span class="keycap"><strong>Ctrl-</strong></span>)
</p><p>
<span class="keycap"><strong>Middle-click</strong></span>: make the clicked point on the map the center
</p><p>
<span class="keycap"><strong>Middle-click</strong></span> and drag: pan
</p><p>
Also see <a class="xref" href="index.html#prefs_advanced" title="16.3. Advanced">Advanced Preferences</a> for options that effect the scrolling behaviour.
</p><p>
  When any of the primary window tools is active (Select, Pan, Zoom or Ruler), the viewport can be moved by pressing the arrow keys: <span class="keycap"><strong>Up</strong></span>, <span class="keycap"><strong>Left</strong></span>, <span class="keycap"><strong>Right</strong></span> and <span class="keycap"><strong>Down</strong></span>.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="selecttool"></a>15.1. Select (Version1.9+)</h3></div></div></div><p>
This is the default mode of operation for Viking.
</p><p>
This mode can be entered by clicking on the toolbar icon: <span class="guiicon"><img src="figures/select_18.png"></span>
</p><p>
The select tool allows one to choose an item, discard the selection of an existing item or to move the viewport.
To select an item (waypoint, track or route) left click on it (or reasonably near) in the viewpoint.
ATM to select a track one must actually click on a trackpoint, which is also selected.
To deselect an item simply left click away from any item.
</p><p>
To move the viewport hold the left mouse button down whilst moving the mouse pointer around (as per the specific Pan mode).
Also if <span class="keycap"><strong>Right Alt</strong></span> (or <span class="trademark">Windows</span>™ <span class="keycap"><strong>Left Alt</strong></span>) is held down then the item selection/deselection is skipped and goes straight into pan mode; this may be useful if the item selection process is noticeably slow (and hence can be bypassed) or avoiding accidental deselection of the item of interest.
</p><p>
Once an item (waypoint or trackpoint) is selected it can be moved. The item must be clicked on again in order to start moving the it, this is to prevent accidental movement of item in the initial selection.
If <span class="keycap"><strong>Ctrl</strong></span> or <span class="keycap"><strong>Shift</strong></span> is held down at the same time, it will jump the item position to a nearby existing trackpoint or waypoint respectively.
Note that whole tracks cannot be moved.
</p><p>
  When a trackpoint is selected pressing <span class="keycap"><strong>Left</strong></span> or <span class="keycap"><strong>Right</strong></span> moves to the previous or next trackpoint respectively.
</p><p>
  <span class="keycap"><strong>[</strong></span> or <span class="keycap"><strong>Keypad-</strong></span> inserts a point before the selected trackpoint, whereas
  <span class="keycap"><strong>]</strong></span> or <span class="keycap"><strong>Keypad+</strong></span> inserts a point after the selected trackpoint.
</p><p>
  <span class="keycap"><strong>Ctrl+d</strong></span> will delete the selected trackpoint or waypoint without any additional confirmation of the action. Since there is no undo system - this shortcut is delibrately a two key operation.
</p><p>
  Currently these keyboard shortcuts are not configurable.
</p><p>
  By default double click zooming is disabled - see <a class="xref" href="index.html#prefs_advanced" title="16.3. Advanced">Advanced Preferences</a> to enable it.
Double clicking the left mouse button will zoom the map in.
<span class="keycap"><strong>Shift</strong></span> + double clicking the left mouse button will zoom the map out.
Double clicking the right mouse button will also zoom the map out.
</p><p>
This mode can also be entered by the keyboard shortcut <span class="keycap"><strong>Ctrl+Shift+C</strong></span> or now more simply just <span class="keycap"><strong>s</strong></span>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="pantool"></a>15.2. Pan</h3></div></div></div><p>
This mode is entered by clicking on the toolbar icon: <span class="guiicon"><img src="figures/mover_22.png"></span>
</p><p>
Pan moves the viewpoint. A single click centers the viewport at that point, whereas click and drag dynamically moves the view around.
</p><p>
This mode can also be entered by the keyboard shortcut <span class="keycap"><strong>Ctrl+Shift+P</strong></span> or now more simply just <span class="keycap"><strong>p</strong></span>.
</p><p>
The double click behaviour is the same as in the Select mode described above (i.e. zooms in or out), however it is always enabled.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="zoomtool"></a>15.3. Zoom</h3></div></div></div><p>
This mode is entered by clicking on the toolbar icon: <span class="guiicon"><img src="figures/zoom_18.png"></span>
</p><p>
Zooms in and out on the clicked part of the map or by the selected area.
</p><p>
This mode can also be entered by the keyboard shortcut <span class="keycap"><strong>Ctrl+Shift+Z</strong></span> or now more simply just <span class="keycap"><strong>z</strong></span>.
</p><p>
<span class="keycap"><strong>Ctrl</strong></span> + left or right click: Zoom in/out and center the map on the clicked location
</p><p>
<span class="keycap"><strong>Shift</strong></span> (and hold) + left mouse button: Draws a bounding box area on which to zoom in. The zoom action is performed when the left mouse button is released.
</p><p>
<span class="keycap"><strong>Shift</strong></span> + left click button: Jump Zoom In by up to factor of 3 standard zooms.
</p><p>
<span class="keycap"><strong>Shift</strong></span> + right click button: Jump Zoom Out by up to factor of 3 standard zooms.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="rulertool"></a>15.4. Ruler</h3></div></div></div><p>
This mode is entered by clicking on the toolbar icon: <span class="guiicon"><img src="figures/ruler_18.png"></span>
</p><p>
The ruler is used to measure either:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The bearing and distance between two points: Click on first point and then move the mouse point around - the values will be continually updated.
A second click will <span class="emphasis"><em>freeze</em></span> the ruler at that point.
</p></li><li class="listitem"><p>An area: <span class="keycap"><strong>Shift</strong></span> (and hold) + left mouse button: Draws a bounding box area. Area values are shown in the statusbar and on the viewport.
Releasing the mouse button will <span class="emphasis"><em>freeze</em></span> the area at that point.
The viewport label option is controlled by <a class="xref" href="index.html#prefs_advanced" title="16.3. Advanced">Advanced Preferences</a>.
</p></li></ul></div><p>
This mode can also be entered by the keyboard shortcut <span class="keycap"><strong>Ctrl+Shift+U</strong></span> or now more simply just <span class="keycap"><strong>r</strong></span>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="trw_tools"></a>15.5. TrackWaypoint Layer Tools</h3></div></div></div><p>
You must have a <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> Layer selected to use these tools.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="createwptool"></a>15.5.1. Create Waypoint</h4></div></div></div><p>
Enable this tool by clicking on the toolbar icon: <span class="guiicon"><img src="figures/addwp_18.png"></span>
</p><p>
Left click will open the new waypoint dialog (see <a class="xref" href="index.html#WptProps" title="6.7. Waypoint Properties">Section 6.7, “Waypoint Properties”</a>) using the specified position.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="track_edit"></a>15.5.2. Create/Edit Track</h4></div></div></div><p>
Enable this tool by clicking on the toolbar icon: <span class="guiicon"><img src="figures/addtr_18.png"></span>
</p><p>
General track edit/create tool.
The first left-click will create a new track and you will be asked to enter a name for the track.
If <span class="keycap"><strong>Shift</strong></span> is held, a track will be continued from a nearby trackpoint.
Subsequent left-clicks will add new trackpoints.
If <span class="keycap"><strong>Shift</strong></span> is held, the track will be joined to an existing track at the point selected.
If <span class="keycap"><strong>Ctrl</strong></span> is held, it will jump the new trackpoint position to a nearby existing trackpoint.
</p><p>
Right click or <span class="keycap"><strong>Backspace</strong></span>: undo one point.
</p><p>

</p><p>
Double click or <span class="keycap"><strong>Escape</strong></span>: to finish track creation.
Finishing the track is also available via the right click <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> and track menus.
</p><p>
One must finish the current track to be able to create another track.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="route_edit"></a>15.5.3. Edit Route</h4></div></div></div><p>
Enable this tool by clicking on the toolbar icon: <span class="guiicon"><img src="figures/vik_new_route_18.png"></span>
</p><p>
This operates in exactly the same way as the <a class="link" href="index.html#track_edit" title="15.5.2. Create/Edit Track">Edit Track</a> above.
</p><p>
One must finish the current route to be able to create another route.
</p><p>
One can switch between the <a class="link" href="index.html#route_edit" title="15.5.3. Edit Route">Edit Route</a> and <a class="link" href="index.html#route_finder" title="15.5.4. Create Route Using the Route Finder">Route Finder</a> tools while editing routes.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="route_finder"></a>15.5.4. Create Route Using the Route Finder</h4></div></div></div><p>
Enable this tool by clicking on the toolbar icon: <span class="guiicon"><img src="figures/route_finder_18.png"></span>
</p><p>
Requires an internet connection.
Left click to create a new trackpoint.
If it's the initial trackpoint you will be asked to enter a name for the route, otherwise the default routing engine will be queried to find a route to the new trackpoint.
Right click or <span class="keycap"><strong>Backspace</strong></span>: remove the last added route.
</p><p>
Double click or <span class="keycap"><strong>Escape</strong></span>: to finish route creation.
Finishing the track is also available via the right click <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> and track menus.
</p><p>
One must finish the current route to be able to create another route.
</p><p>
One can switch between the <a class="link" href="index.html#route_edit" title="15.5.3. Edit Route">Edit Route</a> and <a class="link" href="index.html#route_finder" title="15.5.4. Create Route Using the Route Finder">Route Finder</a> tools while editing routes.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="splitter"></a>15.5.5. Track Splitter</h4></div></div></div><p>
Enable this tool by clicking on the toolbar icon: <span class="guiicon"><img src="figures/splitter_18.png"></span>
</p><p>
Use this tool to split a track or route.
After enabling the tool, click on the track/route point of the track/route at the position where you want the split to occur.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2518"></a>15.5.6. Edit Waypoint</h4></div></div></div><p>
Enable this tool by clicking on the toolbar icon: <span class="guiicon"><img src="figures/edwp_18.png"></span>
</p><p>
Left Click/drag: select/move a waypoint.
If <span class="keycap"><strong>Ctrl</strong></span> is held at the same time, it will jump the waypoint position to a nearby existing trackpoint.
If <span class="keycap"><strong>Shift</strong></span> is held at the same time, it will jump the waypoint position to a nearby existing waypoint.
</p><p>Right-click on waypoint: opens a menu with waypoint actions (the
same menu accessed by right-clicking the waypoint in the layers panel)
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2527"></a>15.5.7. Edit Trackpoint</h4></div></div></div><p>
Enable this tool by clicking on the toolbar icon: <span class="guiicon"><img src="figures/edtr_18.png"></span>
</p><p>
Left click near a trackpoint (in screen pixel terms) to bring up the Track Point Edit dialog on that trackpoint.
Whilst the edit dialog is already open, left click again and drag enables moving of the trackpoint.
If <span class="keycap"><strong>Ctrl</strong></span> is held at the same time, it will jump the new trackpoint position to a nearby existing trackpoint.
</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="Trackpoint_edit"></a>15.5.7.1. Edit Trackpoint Dialog</h5></div></div></div><p>
Editing options in the Trackpoint Edit dialog include:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Edit the trackpoint name</p></li><li class="listitem"><p>Changing raw lat/long position, altitude and time</p></li><li class="listitem"><p>Forward (go to the next trackpoint)</p></li><li class="listitem"><p>Back (go to the previous trackpoint)</p></li><li class="listitem"><p>Delete</p></li><li class="listitem"><p>Insert. Inserts a point halfway to next trackpoint</p></li><li class="listitem"><p>Split. <a class="xref" href="index.html#trkpt_split" title="6.5.5.4. Split at Trackpoint">Split at Trackpoint</a></p></li></ul></div><p>
</p><p>
Several fields are read only for reference purposes, values are shown if the trackpoint has such information:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Speed and course.</p></li><li class="listitem"><p>'Between' values: Speed, Time Difference and Distance Difference. When moving between trackpoints (via the Back and Forward buttons) these values are calculated.</p></li><li class="listitem"><p>GPS precision factors.</p></li></ul></div><p>
</p><p>
</p><div class="figure"><a name="idm2562"></a><p class="title"><b>Figure 20. Trackpoint Edit Dialog: Example</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/Trackpoint_edit_dialog.png" alt="Trackpoint Edit Dialog: Example"></div></div></div></div><p><br class="figure-break">
One must have been going downhill here to get a reasonable speed by bicycle!
</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2566"></a>15.5.8. Show Picture</h4></div></div></div><p>
Enable this tool by clicking on the toolbar icon: <span class="guiicon"><img src="figures/showpic_18.png"></span>
</p><p>
Opens an image viewer with the picture associated with the waypoint.
By default this uses the default system image viewer.
For Linux you can override this with the setting in the <a class="xref" href="index.html#prefs_external" title="16.2. Export/External">Export/External Preferences</a>
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="georef_tools"></a>15.6. Georef Map Layer Tools</h3></div></div></div><p>
You must have a <a class="xref" href="index.html#GeoRef" title="11. GeoRef Layer">GeoRef</a> Map Layer selected to use these tools.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2577"></a>15.6.1. Georef zoom</h4></div></div></div><p>
Enable this tool by clicking on the toolbar icon: <span class="guiicon"><img src="figures/geozoom_18.png"></span>
</p><p>Changes the zoom level of the georeferenced map and changes the
Viking zoom level accordingly. Useful if you are trying to match GPS
data to a georeferenced map.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2583"></a>15.6.2. Georef move</h4></div></div></div><p>
Enable this tool by clicking on the toolbar icon: <span class="guiicon"><img src="figures/geomove_18.png"></span>
</p><p>
Drag to move the georeferenced map.
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="map_tool_dl"></a>15.7. Map Download</h3></div></div></div><p>
You must have a <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a> Layer selected to use this.
</p><p>
Enable this tool by clicking on the toolbar icon: <span class="guiicon"><img src="figures/mapdl_18.png"></span>
</p><p>
Click to download a single tile. Drag to download tiles in the dragged rectangle area.
</p><p>
Right-click to redownload tiles via the selected method. Right-click and drag to redownload tiles in the dragged rectangle area by the selected method.
The possible methods to redownload one or more tiles are:
</p><p>
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Bad</span></dt><dd><p>Only if the tile is corrupt in some way or missing, then this will download a new copy</p></dd><dt><span class="term">New</span></dt><dd><p>Refresh the tile according to the local map cache and if server has a newer version</p></dd><dt><span class="term">All</span></dt><dd><p>Redownload the tile</p></dd></dl></div><p>
</p><p><b>Map Tile Information. </b>
By right clicking on viewport and selecting <span class="guimenu">Show Tile Information</span> you can see the tile properties of this location for the current <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a> layer and current zoom level.
This includes the remote source URL for the tile and the cached version on the local filesystem with timestamp details.
</p><p>
</p><div class="figure"><a name="idm2618"></a><p class="title"><b>Figure 21. Map Tile Info Dialog: Example</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/map_tile_info_dialog.png" alt="Map Tile Info Dialog: Example"></div></div></div></div><p><br class="figure-break">
This is using MapQuest at Viking zoom level 128 over the Isle of Wight, UK.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="dem_tool_dl"></a>15.8. DEM Download</h3></div></div></div><p>
You must have a <a class="xref" href="index.html#DEM" title="10. DEM (Digital Elevation Model) Layer">DEM</a> Layer selected to use this.
</p><p>
Enable this tool by clicking on the toolbar icon: <span class="guiicon"><img src="figures/demdl_18.png"></span>
</p><p>
Click to download and import a DEM file.
</p><p><b>DEM File Information. </b>
By right clicking on viewport and selecting <span class="guimenu">Show DEM File Infomation</span> you can see the file properties of the DEM file for this location.
This includes the remote source URL for the file and the cached version on the local filesystem with timestamp details.
</p><p>
</p><div class="figure"><a name="idm2635"></a><p class="title"><b>Figure 22. DEM File Info Dialog: Example</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/DEM_file_info_dialog.png" alt="DEM File Info Dialog: Example"></div></div></div></div><p><br class="figure-break">
This is for block 51N, 003W - covering Bristol in the UK.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
    The Source URL is generated from the current configuration settings;
    it is not necessarily the URL that was used to acquire the DEM file, as that information is not saved.
  </p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm2641"></a>15.9. Webtools</h3></div></div></div><p>
Many services are available only via a web browser (Google Maps, OpenStreetMap Potlach editor, etc.).
</p><p>
Jumping from <span class="application">Viking</span> to such service can become annoying.
</p><p>
Viking allows you to open such service directly at the position currently viewed in <span class="application">Viking</span>.
</p><p>
This feature is called <span class="guilabel">Webtools</span>. It is also known as External Tools.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="prefs"></a>16. Preferences</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#idm2652">16.1. General</a></span></dt><dt><span class="section"><a href="index.html#prefs_external">16.2. Export/External</a></span></dt><dt><span class="section"><a href="index.html#prefs_advanced">16.3. Advanced</a></span></dt><dt><span class="section"><a href="index.html#prefs_osm">16.4. OpenStreetMap Traces</a></span></dt><dt><span class="section"><a href="index.html#prefs_mapnik">16.5. Mapnik</a></span></dt><dt><span class="section"><a href="index.html#prefs_routing">16.6. Routing</a></span></dt><dt><span class="section"><a href="index.html#prefs_startup">16.7. Startup</a></span></dt><dt><span class="section"><a href="index.html#prefs_dem_server">16.8. DEM Server</a></span></dt><dt><span class="section"><a href="index.html#prefs_toolbar">16.9. Toolbar</a></span></dt><dt><span class="section"><a href="index.html#prefs_trackprops">16.10. Track Properties Dialog</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm2652"></a>16.1. General</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2654"></a>16.1.1. Localisation</h4></div></div></div><p>You can select units displayed by Viking to best fit your usage.</p><div class="figure"><a name="idm2657"></a><p class="title"><b>Figure 23. Properties dialog: units part</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/properties_units.png" alt="Properties dialog: units part"></div></div></div></div><br class="figure-break"><p>Concerning degrees, you can select the way to display them:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">DDD</span></dt><dd><p>decimal degree</p></dd><dt><span class="term">DMM</span></dt><dd><p>partial sexagesimal display: degrees, minutes and decimal part of minutes</p></dd><dt><span class="term">DMS</span></dt><dd><p>sexagesimal display: degrees, minutes and seconds</p></dd></dl></div><p>
</p><div class="figure"><a name="idm2675"></a><p class="title"><b>Figure 24. Properties dialog: degree display options</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/properties_degree.png" alt="Properties dialog: degree display options"></div></div></div></div><br class="figure-break"></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2679"></a>16.1.2. Waypoint Icon Size</h4></div></div></div><p>An option exists to control the icon (symbol) size used for waypoints
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2682"></a>16.1.3. <span class="emphasis"><em>Home</em></span> Default Location: Latitude and Longitude</h4></div></div></div><p>You can set the <span class="emphasis"><em>Home</em></span> location directly by inputting the latitude and longitude in decimal degrees.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2687"></a>16.1.4. Default Zoom Level</h4></div></div></div><p>An option to set the default <a class="xref" href="index.html#zoom" title="2.8. Zoom Level">Zoom Level</a>.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2691"></a>16.1.5. Time Display</h4></div></div></div><p>This controls the reference timezone that times are shown in.</p><p><span class="emphasis"><em>Locale</em></span> is the current user's system preference. This was how all times were shown up to version 1.5.</p><p><span class="emphasis"><em>World</em></span> will attempt to determine the timezone at an object's position.</p><p><span class="emphasis"><em>UTC</em></span> enforces this standard timezone.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2700"></a>16.1.6. Tile's age</h4></div></div></div><p>This age is used to decided whether or not a new request to tile server must be done.
</p><p>Changing this value, you will increase or decrease the network load.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2704"></a>16.1.7. Default map layer directory</h4></div></div></div><p>This property sets the default directory of the tiles cache.
This value is used when you create a new <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a> layer.
</p><p>You are still able to change this value in each map layer properties.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2709"></a>16.1.8. Map Cache Memory Size</h4></div></div></div><p>This controls the amount of maps that are stored in memory, rather than having to reread from disk.
Generally if you have a system with lots of memory it's recommended to increase this value.
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="prefs_external"></a>16.2. Export/External</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2714"></a>16.2.1. KML Export Units</h4></div></div></div><p>Allows setting the units used when saved as the KML file type, such as Metric or Statue units</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2717"></a>16.2.2. KML Export Track</h4></div></div></div><p>Controls the whether the &lt;Track&gt; tag is used in the KML file. If not on then tracks are only saved as LineStrings.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2720"></a>16.2.3. KML Export Points</h4></div></div></div><p>Controls the whether placemarks are created for every track or route point.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>If more control is required over the export then use <span class="guimenu">Export Layer</span> → <span class="guisubmenu">Export via GPSBabel</span> to manually specify the save options</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2728"></a>16.2.4. GPX Track Order</h4></div></div></div><p>
	Other software may display tracks in a particular order (often the order saved into the file).
	This allows you to control the order they are saved when exporting to a GPX file.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2731"></a>16.2.5. GPX Waypoint Symbols</h4></div></div></div><p>Some GPS devices require waypoint symbols to be in a particular case.</p><p>E.g. On a Garmin Oregon 450 they must be in <span class="emphasis"><em>Title Case</em></span> to be recognized.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2736"></a>16.2.6. GPX Creator</h4></div></div></div><p>If not blank, then this setting overrides the default internal value that is used when writing to a GPX file.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2739"></a>16.2.7. Image Viewer (Not Windows)</h4></div></div></div><p>Allows setting the program used to view images associated with Waypoints.</p><p>By default this is set to <span class="application">xdg-open</span> which should open the system's default image viewer, however this can be overridden with this setting.</p><p>Note: for Windows systems, viewing images associated with Waypoints always uses the system's default image viewer.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2745"></a>16.2.8. External GPX programs</h4></div></div></div><p>Allows setting the programs invoked via the <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> Layer menu <span class="guimenu">Export Layer</span> → <span class="guisubmenu">Open With 'program'</span></p><p>Two options are given so that it can be configured for various uses such as:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>An OSM editor (default)</p></li><li class="listitem"><p>Some other user defined program</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2758"></a>16.2.9. GPSBabel</h4></div></div></div><p>This allows setting the specific location of GPSBabel.</p><p>Viking will need to be restarted for this setting to take effect.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2762"></a>16.2.10. Auto Read World Files</h4></div></div></div><p>If this is on, when a new image is selected for the GeoRef layer then the associated world file will be read to find the scale and positional properties.</p><p>The associated file is based on filename patterns; e.g. if the image is <code class="filename">filename.jpg</code> - then the world file may be <code class="filename">filename.jpgw</code> or <code class="filename">filename.jgw</code></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="gpx_simplify"></a>16.2.11. Auto Device GPX Simplify</h4></div></div></div><p>If this is on, GPX files will be simplified (using <span class="application">GPSBabel</span>) if they are saved into a special location (by default a Garmin device location in OS file system).</p><p>Extra parameters used in process such as the location and limits applied can be refined by <span class="emphasis"><em>export_device_*</em></span> values in <a class="xref" href="index.html#misc_settings" title="18.8. Miscellaneous Settings">Miscellaneous Settings</a>.</p><p>A warning message is displayed when this occurs so one can consider if manually managing the tracks is needed, e.g. see <a class="xref" href="index.html#filter" title="6.2.12. Filter">Filter</a> methods.</p><p>The main intention for this is to prevent writing GPX files that are only partially useful.
For instance on a GPS Etrex 20 device: if a track with 1000 points is saved to it, the device will only read in the first 500 points,
thus effectively making only 1/2 of the track available.
Hopefully a simplified track will be more useful to follow to your destination when one is out in the wilds, than only a section of it.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You will need to set the appropriate limits for your device, as this is not currently auto detected.</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="prefs_advanced"></a>16.3. Advanced</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2783"></a>16.3.1. Save File Reference Mode</h4></div></div></div><p>
	Files referenced within project files can be saved with either absolute or relative paths.
	Using relative paths can be useful when copying the project file and the associated files between different systems.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2786"></a>16.3.2. Ask for Name before Track Creation</h4></div></div></div><p>A setting to control whether an automatic name is used when creating a new track or route, or whether you are asked to enter a name.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2789"></a>16.3.3. Show Tooltip during Track Creation</h4></div></div></div><p>A setting to control whether the tooltip with the cumulative track or route distance is shown when creating tracks and routes.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2792"></a>16.3.4. Show Graph for TrackWaypoint Layer</h4></div></div></div><p>A setting to control for the selected <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layer whether a graph should be drawn when there is a singular track or route in the layer.
Otherwise the specific track or route must be selected in order to draw the associated graph.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2796"></a>16.3.5. The number of recent files</h4></div></div></div><p>
	The number of recent files shown in the <span class="guimenu">File</span> → <span class="guisubmenu">Open Recent File</span> menu.
	A value of -1 means all files. The new value applies to New Windows only (or on application restart).
</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm2802"></a>16.3.5.1. Open files in selected layer</h5></div></div></div><p>A setting to control whether non Viking format files (i.e. typically GPX or KML files) will open in the selected <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> Layer.
When no TrackWaypoint Layer is selected (or the layer is invisibile) then the file will be open in the default manner: at the top level.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm2806"></a>16.3.5.2. Show calendar day names</h5></div></div></div><p>A setting to control whether the calendar displays day names (Mon, Tue, etc...) or not.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm2809"></a>16.3.5.3. Ruler area label position</h5></div></div></div><p>A setting to control the position of the label drawn on the viewport that shows the area value. Includes a setting to turn off the label.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm2812"></a>16.3.5.4. Use Scroll to Zoom</h5></div></div></div><p>A setting to control if scroll events cause the viewport to zoom (rather than moving). Useful with mouse scroll wheels, but less intuitive for touchpads.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>GTK3 Build: Viking now detects the device emitting scroll events, so from trackpads/touchscreens these will always scroll the viewport. This setting is only now used for mouse scroll wheels.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm2817"></a>16.3.5.5. Invert Scroll Direction</h5></div></div></div><p>A setting to control the direction of scroll events. Especially useful with touchpads and can be used to override the desktop system's setting.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm2820"></a>16.3.5.6. Select Tool Double Click to Zoom</h5></div></div></div><p>A setting to enable the Select Tool double click behaviour as per the previous default tool (Pan Tool) behaviour. By default this is off, as typically one would use the scroll wheel to zoom. When off this means Viking does not need to wait to see if double clicks are going to occur and so can take immediate action (e.g. show a context menu without delay). Turning this on my be useful for touchpads (however the intention is to support Pinch Zoom behaviour) or perhaps if your scroll wheel is broken.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="idm2823"></a>16.3.5.7. Auto Select Trackpoint</h5></div></div></div><p>A setting to control whether when moving the mouse over the track graph on the main display, it updates the selected trackpoint in the viewport.
</p><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="idm2826"></a>16.3.5.7.1. Warn Unsaved Changes on Exit</h6></div></div></div><p>If you don't want Viking to warn about unsaved changes on exit then you can turn this off.</p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="idm2829"></a>16.3.5.7.2. Select Newly Created Layer</h6></div></div></div><p>A setting to control when a new layer is created that it is selected; otherwise the current selection is unchanged.</p></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="prefs_osm"></a>16.4. OpenStreetMap Traces</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2834"></a>16.4.1. OAuth Method</h4></div></div></div><p>
  Using the <a class="ulink" href="https://en.wikipedia.org/wiki/OAuth" target="_top">OAuth</a> method means that your OSM account details are no longer needed to be known by Viking.
  Instead specific tokens are generated for use only by Viking which are associated with your OSM account.
</p><p><span class="bold"><strong><span class="guibutton">Get New OSM Access Tokens</span></strong></span>
  Use this button to generate a new OSM Access Token Key and Secret.
  You will be redirected to the OSM website to confirm allowing Viking to access the GPX Traces features.
  The tokens returned by the OSM website will be stored in the Access Token Key + Access Token Secret preferences.
</p><p><span class="bold"><strong>Access Token Key + Access Token Secret</strong></span>:
These are the values used, however one typically does not need to manually change them.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2843"></a>16.4.2. HTTP Basic Authentication (Discouraged)</h4></div></div></div><p><span class="bold"><strong>OSM Username + Password</strong></span></p><p>Store your OSM details here, so that you don't need to enter it in every time in the <a class="xref" href="index.html#osm_upload" title="6.2.10.2. Upload To OSM">Upload To OSM</a> procedure.</p><p>This is not recommended and one should use the <a class="ulink" href="https://en.wikipedia.org/wiki/OAuth" target="_top">OAuth</a> method using access tokens described above.</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>
Your OSM password will be stored in plain text.
</p></td></tr></table></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>
This password is transferred <span class="bold"><strong>unencrypted</strong></span> in every request sent to the OpenStreetMap server. This is due to the use of OpenStreetMap's basic authentication method.
</p></td></tr></table></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>
When OAuth capability is built into Viking (the default), use of HTTP Basic Authentication can only be used if the <a class="xref" href="index.html#misc_settings" title="18.8. Miscellaneous Settings">Miscellaneous Settings</a> <span class="emphasis"><em>osm_basic_auth</em></span> is enabled.
</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="prefs_mapnik"></a>16.5. Mapnik</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If any changes to these settings are made, you will need to restart Viking to make them be applied.
</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2864"></a>16.5.1. Plugins Directory</h4></div></div></div><p>The location of Mapnik plugins. An attempt is made to automatically determine the initial value,
 however if this is wrong or Mapnik is upgraded then the directory can be set here.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2867"></a>16.5.2. Fonts Directory</h4></div></div></div><p>
The location of fonts for use with Mapnik. Normally it is best to simply use the System's font directory.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2870"></a>16.5.3. Recurse Fonts Directory</h4></div></div></div><p>Load fonts in any sub-directories of the main font directory.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2873"></a>16.5.4. Rerender Timeout</h4></div></div></div><p>The time in hours before any tile is rerendered.</p><p>This is useful in case the underlying source data for the tiles changes (e.g. OSM data is continually evolving).
 Viking normally has no way of knowing when the data has changed, so this simple timeout method is provided to maintain consistency of the tile images.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2877"></a>16.5.5. CartoCSS</h4></div></div></div><p>This allows setting the specific location of the <span class="emphasis"><em>carto</em></span> executable.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2881"></a>16.5.6. Threads</h4></div></div></div><p>
	The number of threads to use for Mapnik rendering tasks.
	By default the value is set to the 1 in case of any multi-threading rendering code chain crashes.
	Otherwise trying setting the value to the number of the CPUs of the system minus one (so as not to overload the system), in order to minimise the overall rendering times.
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="prefs_routing"></a>16.6. Routing</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2886"></a>16.6.1. Routing engine</h4></div></div></div><p>You can select the routing engine used by default, ie by features that do not propose a live selection, like <a class="xref" href="index.html#route_finder" title="15.5.4. Create Route Using the Route Finder">Route Finder</a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="prefs_startup"></a>16.7. Startup</h3></div></div></div><p>Naturally since these preferences effect the startup, the values will not be used until Viking is restarted.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2893"></a>16.7.1. Restore Window Setup</h4></div></div></div><p>When this is enabled, the main window size and layout (such as whether the statusbar or layers panel are shown) is restored to the values from last use.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2896"></a>16.7.2. Default Map Layer</h4></div></div></div><p>When this is enabled, a map layer is automatically added whenever Viking is opened and a Viking file is not to be loaded.</p><p>The <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a> layer used is defined by the map layer's default values.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2901"></a>16.7.3. Highlight Colour</h4></div></div></div><p>Sets the initial colour used for selected items, as used by
    <span class="guimenu">View</span> → <span class="guimenuitem">Set Highlight Color</span>.
  </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2907"></a>16.7.4. Startup Method</h4></div></div></div><p>Enables selection of how the startup position should be determined.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Home Location (default)</span></dt><dd><p>Position as set by the <span class="guilabel">Set the Default Location</span></p></dd><dt><span class="term">Last Location</span></dt><dd><p>Uses the last position viewed on the viewport</p></dd><dt><span class="term">Specified File</span></dt><dd><p>Load the file as specified below</p></dd><dt><span class="term">Auto Location</span></dt><dd><p>Uses the <a class="ulink" href="https://www.freedesktop.org/wiki/Software/GeoClue" target="_top">GeoClue</a> service if available
	or otherwise the web service <a class="ulink" href="https://www.hostip.info" target="_top">hostip.info</a> to attempt to determine your location via IP lookup
	</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2930"></a>16.7.5. Startup File</h4></div></div></div><p>Loads this specified file when the Startup method is set to <span class="guilabel">Specified File</span></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2934"></a>16.7.6. Check For New Version</h4></div></div></div><p>Periodically (no more than once every 14 days), check to see if there is a new version of Viking available.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="prefs_dem_server"></a>16.8. DEM Server</h3></div></div></div><p>Store your NASA Earth login details which uses HTTP Basic Authentication.</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>
Your password will be stored in plain text.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="prefs_toolbar"></a>16.9. Toolbar</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2944"></a>16.9.1. Append to Menu</h4></div></div></div><p>Allows setting the toolbar on the same vertical space as the menu, thus increasing vertical space for the map.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2947"></a>16.9.2. Icon Size</h4></div></div></div><p>Allows configuration of the icon size, including overiding the system's default preference to the setting desired just for Viking.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2950"></a>16.9.3. Icon Style</h4></div></div></div><p>Allows configuration of the icon style, including overiding the system's default preference to the setting desired just for Viking.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="prefs_toolbar_customize"></a>16.9.4. Customize</h4></div></div></div><p>Opens the Customize Toolbar dialog.</p><p>From this dialog the items in the toolbar can be added, removed and reordered. Reordering of items is performed by drag and drop.</p><div class="figure"><a name="idm2957"></a><p class="title"><b>Figure 25. Customize Toolbar dialog</b></p><div class="figure-contents"><div class="screenshot"><div><img src="figures/customize_toolbar_dialog.png" alt="Customize Toolbar dialog"></div></div></div></div><br class="figure-break"></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="prefs_trackprops"></a>16.10. Track Properties Dialog</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2963"></a>16.10.1. Track Properties Dialog</h4></div></div></div><p>A setting to control the location of the tabs (either to the side or on top).</p><p>Settings to control displaying any of the individual graph types.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Howto"></a>17. Howto's</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#howto_start">17.1. Getting Started</a></span></dt><dt><span class="section"><a href="index.html#idm3096">17.2. From 1st startup to GPS track (including offline maps)</a></span></dt><dt><span class="section"><a href="index.html#idm3271">17.3. OpenStreetMap project</a></span></dt><dt><span class="section"><a href="index.html#idm3310">17.4. Geotagging</a></span></dt><dt><span class="section"><a href="index.html#gpsd">17.5. GPS Real Time Location</a></span></dt><dt><span class="section"><a href="index.html#idm3389">17.6. What to Do if Viking Does Not Seem to Work</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="howto_start"></a>17.1. Getting Started</h3></div></div></div><p>
Viking from version 1.5 has several features to ease the start up process.
On the very first run, you will be asked if you want to enable these features which make use of an Internet connection.
If you select no or you have upgraded from an earlier version you can choose to enable any of the startup options via the <a class="xref" href="index.html#prefs_startup" title="16.7. Startup">Startup Preferences</a>.
</p><p>
Some other general use cases for using Viking, are as follows:
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm2974"></a>17.1.1. Go to an Area of Interest - Simple Ways</h4></div></div></div><p>
Viking's default location is a Manhattan, New York, USA, so you may need to pick another place that interests you - such as where you live.
</p><div class="procedure"><a name="idm2977"></a><p class="title"><b>Procedure 1. Method A</b></p><ul class="procedure"><li class="step"><p>
  The No Effort Approach
</p><p>
  If you have accepted Viking's defaults then it will attempt to automatically find your location via IP lookup methods.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You will need an internet connection for this to work!</p></td></tr></table></div></li></ul></div><div class="procedure"><a name="idm2984"></a><p class="title"><b>Procedure 2. Method B</b></p><ul class="procedure"><li class="step"><p>
  Use the online location address/place search.
</p><p>
  Use the <span class="guibutton">Go to Location</span> toolbar button or from the menus
  <span class="guimenu">View</span> → <span class="guimenuitem">Go to Location</span>
  or from the Goto tab on the left hand panel.
  You can change the search location provider if desired.
  Enter the name of place you wish to go to (you may need to specify the country to refine the search).
  Also you can enter a post code or a ZIP code instead.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You will need an internet connection for this search to work</p></td></tr></table></div></li></ul></div><div class="procedure"><a name="idm2995"></a><p class="title"><b>Procedure 3. Method C</b></p><ul class="procedure"><li class="step"><p>
Get data from files in GPX, TCX or KML format, which can be opened directly.
Use <span class="guimenu">File</span> → <span class="guimenuitem">Open</span>
This could be directly from a GPS device if supports a file system / mass storage mode.
</p><p>
  The file location for a GPS device is device and Operating System dependent.
  Assuming the device automounts (most Operating Systems/Desktop Enviroment do this automatically).
  For example with an Etrex 20, using (this is for Debian/Ubuntu) - use <span class="guimenu">File</span> → <span class="guimenuitem">Open</span> to browse to:
</p><p>
  <code class="filename">/media/username/GARMIN/Garmin/GPS/Current/Current.gpx</code>
</p><p>
  For Windows it is typically something like:
  <code class="filename">E:\GARMIN\Garmin\GPX\Current\Current.gpx</code>
</p><p>
Other file formats can be imported that are those supported by GPSBabel.
<span class="guimenu">File</span> → <span class="guimenuitem">Acquire</span> → <span class="guimenuitem">Import File With GPSBabel...</span>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
The viewport will be automatically moved and resized to view the contents of the file.
</p></td></tr></table></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm3017"></a>17.1.2. Go to an Area of Interest - More Advanced Ways</h4></div></div></div><div class="procedure"><a name="idm3019"></a><p class="title"><b>Procedure 4. Method A</b></p><ul class="procedure"><li class="step"><p>
	If you know the coordinates of where you want to view:
</p><p>
Use <span class="guimenu">View</span> and select from either <span class="guimenu">Go to Lat/Lon</span> or <span class="guimenu">Go to UTM</span> and then enter in the specific coordinates.
</p></li></ul></div><div class="procedure"><a name="idm3030"></a><p class="title"><b>Procedure 5. Method B</b></p><ul class="procedure"><li class="step"><p>Use the GPS Layer or <span class="guimenu">File</span> → <span class="guimenuitem">Acquire</span> → <span class="guimenuitem">From GPS</span>
to load data directly from a limited set of GPS Devices that are supported by <span class="application">GPSBabel</span>.
</p><p>You can specify the types of data to acquire: Tracks, Routes and/or Waypoints.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You must have write permission to the port used. For <span class="trademark">Unix</span>™ like OS:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>/dev/ttyS0 is the first serial port</p></li><li class="listitem"><p>/dev/ttyUSB0 is the first USB port</p></li><li class="listitem"><p>usb: is any USB port</p></li></ul></div><p>Depending on your distribution only one of the USB port types may work</p><p>For <span class="trademark">Windows</span>™:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>com1: is the first serial port</p></li><li class="listitem"><p>usb: is any USB port</p></li></ul></div></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Garmin and Magellan GPS devices supported by all versions of GPSBabel, later versions support more devices such as NaviGPS (Navilink protocol).</p><p>See <a class="ulink" href="https://www.gpsbabel.org/capabilities.html" target="_top">GPSBabel Capabilities</a> which includes the devices supported.</p></td></tr></table></div></li></ul></div><div class="procedure"><a name="idm3062"></a><p class="title"><b>Procedure 6. Method C</b></p><ul class="procedure"><li class="step"><p>
  Use a GPS's real time location:
</p><p>
  See <a class="xref" href="index.html#gpsd" title="17.5. GPS Real Time Location">Section 17.5, “GPS Real Time Location”</a> for more information.
</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm3068"></a>17.1.3. Add a Map Layer</h4></div></div></div><p>
  By default Viking will add a map layer for you that will automatically download map tile images, but you can of course change it or add additional map layers.
</p><p>
Use <span class="guimenu">Layers</span> → <span class="guimenuitem">New Map Layer</span>, and choose a suitable cache directory
where you would like to store your tracks and click <span class="guilabel">OK</span>. Zoom to a
comfortable level (I suggest 4 mpp) by clicking the left and right
mouse buttons on the gray area where your tracks are. Now from the menu
choose the <a class="xref" href="index.html#map_tool_dl" title="15.7. Map Download">Map Download</a> Tool. Click where you would like to download a
map. Regardless of what tool you are using, the middle mouse button
always pans. </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
You need an open internet connection when you are downloading maps.
</p></td></tr></table></div><p>
If you can no longer see your tracks or waypoints and only the map,
it is because the layer named <span class="emphasis"><em>Map</em></span> is <span class="emphasis"><em>ABOVE</em></span> your TrackWaypoint layer that your GPS data is in.
This means that it will be drawn last and on top of the other <a class="xref" href="index.html#gc_layers" title="2.1. Layers">Layers</a>.
Look at the  <a class="xref" href="index.html#gc_layers_panel" title="2.2. Layers Panel">Layers Panel</a> to the left which shows this order.
Select the <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a> layer from the list and click the down arrow button beneath the list until the Map layer is below the <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layer.
Your tracks will now be drawn over the map.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="GoHome"></a>17.1.4. Set Your Home Location</h4></div></div></div><p>
	You can save the current center position of the viewport as the default location AKA the Home Location by
	<span class="guimenu">Edit</span> → <span class="guimenuitem">Set the Default Location</span>.
</p><p>
	Then at any time you can return to this place by clicking on the <span class="guibutton">Home</span> icon on the toolbar.
</p><p>
    You can also set the default location via specifying the exact latitude and longitude in the <a class="xref" href="index.html#prefs" title="16. Preferences">Preferences</a>.
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm3096"></a>17.2. From 1st startup to GPS track (including offline maps)</h3></div></div></div><p>
The first you'll see is an empty map, because Viking in its default configuration will download maps only on demand.
Before fetching unneeded data, one can position to a location of interest, e.g. Stuttgart: <span class="guimenu">View</span> → <span class="guimenuitem">Go to Location</span>, enter <strong class="userinput"><code>Stuttgart</code></strong>.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm3103"></a>17.2.1. Fetching the maps</h4></div></div></div><p>
<span class="bold"><strong>Map</strong></span>
</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p><span class="guimenu">Layers</span> → <span class="guimenuitem">New Map Layer</span></p></li><li class="step"><p>in the layer properties dialogue choose e.g. <span class="guilabel">OpenStreetMap (Mapnik)</span>.</p></li><li class="step"><p>For the moment, we keep the default <span class="guilabel">Maps Directory</span> (the directory in
which the maps will be stored and can be used for offline usage).</p></li><li class="step"><p>Check <span class="guilabel">Autodownload maps</span> and keep the zoom level as <span class="guilabel">Use Viking
Zoom Level</span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
however, that these settings will play an important
role in the pre-fetch for offline usage discussed later
</p></td></tr></table></div></li></ol></div><p>You'll see a map of Stuttgart. Using the mouse wheel, you can
zoom in and out. The maps for the choosen resolution will be downloaded
automatically.
</p><p>
<span class="bold"><strong>DEM Layer (Height Map)</strong></span>
</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Zoom out to 512.</p></li><li class="step"><p><span class="guimenu">Layers</span> → <span class="guimenuitem">New DEM Layer</span></p></li><li class="step"><p>Keep the download source as is (SRTM Global 90m), hit <span class="guilabel">OK</span>.</p></li></ol></div><p>In the layer listing on the left, the <a class="xref" href="index.html#DEM" title="10. DEM (Digital Elevation Model) Layer">DEM</a> layer should reside
above the <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a> layer. If this is not the case, highlight the DEM layer
an shift it one up (using the arrow up button).
</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>highlight the DEM layer in the layer listing on the left</p></li><li class="step"><p>in the toolbar, check DEM layer download/import (the last symbol)</p></li><li class="step"><p>a left-click in the map window should then fetch the DEM data</p></li></ol></div><p>
This might take some time.
</p><p>
Sometimes, a tile does not show up correctly (you might see only a
black frame in the map window) because it got corrupted during
transfer. In order to correct this, you can delete the corresponding
datafile in the cache. </p><pre class="programlisting"> right-click the DEM layer properties</pre><p>
</p><p>
The <span class="guilabel">DEM Files</span> listing allows you to delete the specific tiles (alternatively do this from the command line).
</p><p>
You can also alter the Min. and Max. elevation in this dialogue.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm3155"></a>17.2.2. GPS Track with Height Profile</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Uncheck the <a class="xref" href="index.html#DEM" title="10. DEM (Digital Elevation Model) Layer">DEM</a> layer (the map is shown again)</p></li><li class="step"><p><span class="guimenu">Layers</span> → <span class="guimenuitem">New TrackWaypoint Layer</span></p><p>Ensure the new track layer is above the <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a> layer.</p></li><li class="step"><p>Expand the <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layer, select <span class="guimenuitem">Tracks</span></p></li><li class="step"><p>In the tools menu choose <span class="guiicon"><img src="figures/addtr_18.png"></span> <span class="guibutton">Create Track</span>
</p></li><li class="step"><p>Leftclick in the map window, enter a name</p></li><li class="step"><p>Click several times to generate a track (a right-click removes the last point).</p><p>Height data is set automatically since DEM data is available</p></li><li class="step"><p>Expand tracks in the layer menu, your track should show up, select it</p></li><li class="step"><p>Right click your track, select <span class="guimenuitem">Properties</span></p></li><li class="step"><p>Click the tab <span class="guilabel">Elevation-distance</span> - enjoy the plot</p></li></ol></div><p>
In order to save this setting for later usage
</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>click <span class="guilabel">OK</span> in the <span class="guilabel">Track Properties</span> dialog</p></li><li class="step"><p><span class="guimenu">File</span> → <span class="guimenuitem">Save As</span>, choose a name (you can open this <span class="emphasis"><em>view</em></span> later via <span class="guimenu">File</span> → <span class="guimenuitem">Open</span>).</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm3205"></a>17.2.3. Usecase: offline data for holiday</h4></div></div></div><p>
Suppose you want to have the <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a> and <a class="xref" href="index.html#DEM" title="10. DEM (Digital Elevation Model) Layer">DEM</a> data offline for your holiday in Italy near Bologna.
</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Start a new Viking session.</p></li><li class="step"><p><span class="guimenu">View</span> → <span class="guimenuitem">Go to Location</span>, enter Bologna</p></li><li class="step"><p><span class="guimenu">Layers</span> → <span class="guimenuitem">New Map Layer</span></p></li><li class="step"><p>Choose e.g. <span class="guilabel">OpenStreetMap (mapnik)</span>.</p></li><li class="step"><p>adapt the <span class="guilabel">maps directory</span> e.g. to <code class="filename">/home/user/.viking-map-holiday/</code>.
This allows you to delete the map stuff after holiday without purging the rest of your maps.
</p></li><li class="step"><p>check <span class="guilabel">autodownload map</span></p></li><li class="step"><p>keep <span class="guilabel">viking zoom level</span></p></li><li class="step"><p>zoom out to 1024</p></li><li class="step"><p>add a <a class="xref" href="index.html#DEM" title="10. DEM (Digital Elevation Model) Layer">DEM</a> layer (as discussed above)</p></li><li class="step"><p>download the DEM data</p></li></ol></div><p>In the <span class="application">Viking</span> version discussed here, the DEM data automatically
are stored in <code class="filename">/home/user/.viking-maps/</code>. You can move the corresponding
tiles into <code class="filename">.viking-map-holiday/</code> if you like.
</p><p>
<span class="bold"><strong>Download map data for all zoom levels</strong></span>
</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>uncheck the DEM layer for the map to show up</p></li><li class="step"><p>navigate the map to be centered at Bologna</p></li><li class="step"><p>choose the zoom such, that all regions of interest are displayed in the map window (e.g. 1024)</p></li><li class="step"><p>follow this sequence until you have all tiles for all zoom levels you need</p><ol type="a" class="substeps"><li class="step"><p>right-click the <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a> layer properties</p></li><li class="step"><p>set the zoomlevel explicitly one below the last (in the first cycle 512), hit OK</p></li><li class="step"><p>right click the map layer <span class="guimenuitem">Download Missing Onscreen Maps</span></p></li><li class="step"><p>wait until all tiles for that resolution have been downloaded</p></li></ol></li></ol></div><p>This may take some time and some hard disk capacity.</p><p>
Do not forget to save your configuration (as discussed above).
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm3271"></a>17.3. OpenStreetMap project</h3></div></div></div><p>
<a class="ulink" href="https://openstreetmap.org/" target="_top">OpenStreetMap (OSM)</a> is a collaborative project to create a free editable map of the world.
One of the sources of data for this project is GPS tracks.
Viking supports this project via the GPS Traces methods, both uploading and downloading such data.
</p><p>
  Authentication/authorization is required to use these services. See <a class="xref" href="index.html#prefs_osm" title="16.4. OpenStreetMap Traces">OpenStreetMap Traces Preferences</a>.
</p><p>
Also see <a class="ulink" href="https://wiki.openstreetmap.org/wiki/API_v0.6#GPS_Traces" target="_top">https://wiki.openstreetmap.org/wiki/API_v0.6#GPS_Traces</a> for further detail.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm3279"></a>17.3.1. Uploading data to OpenStreetMap</h4></div></div></div><p>
It is possible to upload data directly from Viking to OpenStreetMap.
</p><p><b>Upload a layer. </b>
One solution is to upload whole a <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layer. To do this,
simply select the layer and right click on it. Then, select <span class="guimenuitem">Upload to
OSM</span>.
</p><p><b>Upload a single track. </b>Another solution is to upload an individual track. Simply select the track and right click on it.
Then select <span class="guimenuitem">Upload to OSM</span>.
</p><p><b>Fill in the form. </b>
The filename is the name you want your upload has on the server. This information is displayed by the osm server.
The description is some descriptive information.
The tags field is a white space separated list of tags.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="osm_dl"></a>17.3.2. Downloading Traces from OpenStreetMap</h4></div></div></div><p>
It is possible to download GPS traces directly from OpenStreetMap into Viking.
This feature can be really useful for checking existing data before uploading new ones.
</p><p><b>Download all visible tracks. </b>One solution is to select
<span class="guimenu">File</span> → <span class="guisubmenu">Acquire</span> → <span class="guimenuitem">OSM traces...</span>.
Each request can get up to 5,000 points.
The dialog box allows setting which group of 5,000 points to get. These groups are known as <span class="emphasis"><em>Page Numbers</em></span> which start at 0.
Increasing the page number parameter allows one to request the subsequent sets of point groups.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="osm_my_dl"></a>17.3.3. Downloading Your Own Traces from OpenStreetMap</h4></div></div></div><p>
It is possible to download any of <span class="emphasis"><em>your personal</em></span> GPS traces previously uploaded to OpenStreetMap into Viking.
</p><p>
Initially this will return the list of your OSM Traces, from which you can select which specific traces to retrieve.
This list can be sorted on each column so that it easier to find an individual trace or select a group of traces by similar properties.
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm3310"></a>17.4. Geotagging</h3></div></div></div><p>
	This assumes you already have a <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a> layer enabled for ease of use (if not see above to get one).
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm3314"></a>17.4.1. Manual Positioning</h4></div></div></div><p>
	This is useful for instances when you already know exactly where the image was taken (no need for tracklog).
	Or maybe you want to adjust an automatically generated waypoint for the position of the subject of the image rather than the location that the photograph is taken from.
	ATM this process only works on an individual image, so it will be tedious for handling lots of images.
</p><p>
	First create a <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layer or use an existing one; and select it in the <a class="xref" href="index.html#gc_layers_panel" title="2.2. Layers Panel">Layers Panel</a>.
	NB Make sure this layer is above the <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a> layer in the Layers Panel list.
	Create a new waypoint (or move an existing one) to exact location desired:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Select the <a class="xref" href="index.html#createwptool" title="15.5.1. Create Waypoint">Create Waypoint</a> tool, then left click on the map at the location desired, choosing an image to associate with it in the new waypoint dialog</p></li><li class="listitem"><p>Select the <a class="xref" href="index.html#selecttool" title="15.1. Select (Version1.9+)">Select</a> tool, then left click on waypoint to be moved. Left click again and drag the waypoint to the location desired</p></li></ul></div><p>
	Then using the Select tool left click on waypoint to select it, then right click to access the Waypoint properties menu, then choose
	<span class="guimenu">Update Geotag on Image</span> → <span class="guisubmenu">Update</span>
</p><p>
	The <span class="guilabel">Update Geotag on Image</span> options are only available when a waypoint has an image associated with it.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm3333"></a>17.4.2. Automatic Positioning Against a Tracklog</h4></div></div></div><p>
	First you will need a tracklog with timestamps in it. Either load one from a previously saved file or freshly acquired from a GPS device -
	see <a class="link" href="index.html#howto_start" title="17.1. Getting Started">Getting Started</a>.
	It helps if this is the track that was recorded at the time you took some photographs!
</p><p>
	Select the track either from the layers panel on the left or via the viewport using the <a class="xref" href="index.html#selecttool" title="15.1. Select (Version1.9+)">Select</a> tool.
	Then right click on it and chose the <span class="guimenu">Geotag Images...</span> leading you to the <a class="xref" href="index.html#geotagging" title="6.9. Version1.3+: Geotag Images">Geotagging</a> Dialog.
</p><p>
	Load some images that where taken around the time the track log was recorded. Confirm the other options in the dialog - normally the defaults should be alright and select OK.
	If things are successful, new waypoints with thumbnail images of the photographs will appear.
	You should probably check they are really in the right place as often the timestamp of the camera may not be aligned to the GPS correctly leading to inferring incorrect locations.
</p><p><b>Option: Overwrite Waypoints. </b>
	This is particularly useful when one finds an attempt at geotagging gives wrong locations, often due to time offset issues.
	Simply try again with a new time offset (often 1 hour adjustments due to Daylight Savings or Summer Time times) and the old waypoints will be updated (instead of creating new ones).
</p><p>
	If you have multiple tracks in a <a class="xref" href="index.html#TrackWaypoint" title="6. TrackWaypoint Layer">TrackWaypoint</a> layer, then invoking the <span class="guimenu">Geotag Images...</span> action on the layer
	will search all the tracks to find location matches.
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="gpsd"></a>17.5. GPS Real Time Location</h3></div></div></div><p>
	Viking relies on <a class="ulink" href="https://gpsd.gitlab.io/gpsd" target="_top">GPSD</a> (via the GPSD service library client) to provide the current location from a real time feed from a GPS device. 
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
  At the time of writing the GPSD service itself is supported on the following platforms: "Presently Linux, OpenBSD and NetBSD are directly supported... Apple's OS X is supported in a limited fashion.". i.e. Explicitly <span class="emphasis"><em>not on Windows</em></span>.
</p><p>
  On Windows Viking provides a GPSD client to connect with the server (service daemon) instance of the GPSD which would be running on different (supported platform) machine. For instance notionally one could run a virtual machine instance of a BSD variant on the Windows host, run GPSD on this BSD instance and then make Viking connect to that GPSD instance.
</p><p>
  Running the GPSD service is outside the scope of Viking.
</p></td></tr></table></div><p>
	This assumes you already have a <a class="xref" href="index.html#Map" title="8. Map Layer">Map</a> layer enabled for ease of use (if not see above to get one).
</p><p>
	Turn on the GPS Device, ensure it has figured out it's location and plug it in to your computer.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm3362"></a>17.5.1. Set Up GPS Layer</h4></div></div></div><p>
	You will need a <a class="xref" href="index.html#GPS" title="7. GPS Layer">GPS</a> layer. One can be added via <span class="guimenu">Layers</span> → <span class="guisubmenu">Add GPS Layer</span>.
</p><p>
	Adjust the <span class="emphasis"><em>Realtime Tracking Mode</em></span> settings to interface with <a class="ulink" href="https://gpsd.gitlab.io/gpsd" target="_top">gpsd</a> as necessary. Normally the defaults should suffice.
</p><p>
  Current Linux distributions should run <span class="application">gpsd</span> automatically when a GPS Device is plugged in. Otherwise you may have to run <span class="application">gpsd</span> manually.
</p><p>
  The viewport should jump to the GPS location as by default Viking continually attempts to connect to GPSD.
  Otherwise right-click the layer and select <span class="guimenuitem">Start Realtime Tracking</span>.
</p><p>
  Troubleshooting checklist:
</p><div class="procedure"><ul class="procedure"><li class="step"><p>Confirm <span class="application">gpsd</span> is running.</p></li></ul></div><div class="procedure"><ul class="procedure"><li class="step"><p>Confirm on the GPS device it has a location.</p></li></ul></div><div class="procedure"><ul class="procedure"><li class="step"><p>Confirm the <span class="emphasis"><em>Realtime Tracking Mode</em></span> settings.</p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm3389"></a>17.6. What to Do if Viking Does Not Seem to Work</h3></div></div></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>
  The latest versions of Viking now captures logging messages, which can be accessed via a button in the middle of the statusbar, or via <span class="guimenu">View</span> → <span class="guimenuitem">Log</span>. The statusbar shows the number of log messages. The debug status itself can also be controlled from the GUI itself, use <span class="guimenu">Help</span> → <span class="guimenuitem">Debug</span> to toggle the setting in order to capture more messages. The log window displays the newest messages at the top.
</p></td></tr></table></div><p>
  For older versions of Viking, in order to get some information about what it is doing, start it in verbose debug mode via the command line:
</p><pre class="programlisting">viking -dV</pre><p>
</p><p>
NB For <span class="trademark">Windows</span>™ the process is slightly more involved as the output is typically not shown in the command prompt,
so you have to redirect the output to a file, e.g. open the command prompt and then:
</p><pre class="programlisting">
cd "C:\Program Files\Viking"
viking -dV 2&gt;1 &gt; %TMP%\viking.log
</pre><p>
Then close Viking before viewing the output file, such as:
</p><pre class="programlisting">notepad %TMP%\viking.log</pre><p>
</p><p>
For instance you can check the correct URLs Viking is using in requesting remote data for DEMs or map tiles in the verbose debug output.
E.g. Something like this for DEMs:
</p><pre class="screen">
** (viking:28778): DEBUG: curl_download_uri: uri=http://dds.cr.usgs.gov/srtm/version2_1/SRTM3/Eurasia/N48E008.hgt.zip
* About to connect() to dds.cr.usgs.gov port 80 (#0)
* Trying 152.61.128.95... * connected
* Connected to dds.cr.usgs.gov (152.61.128.95) port 80 (#0)
 GET /srtm/version2_1/SRTM3/Eurasia/N48E008.hgt.zip HTTP/1.1
User-Agent: viking/0.9.8 libcurl/7.18.2 GnuTLS/2.4.2 zlib/1.2.3.3 libidn/1.8
Host: dds.cr.usgs.gov
Accept: */*
 HTTP/1.1 200 OK
 Date: Sun, 26 Jul 2009 18:13:38 GMT
 Server: Apache
 Last-Modified: Tue, 21 Jul 2009 19:57:35 GMT
 ETag: eac3f8-1828f5-46f3caa76070a
 Accept-Ranges: bytes
 Content-Length: 1583349
 Content-Type: application/zip

* Connection #0 to host dds.cr.usgs.gov left intact
* Closing connection #0
** (viking:28778): DEBUG: dem_layer_add_file: /home/username/.viking-maps/srtm3-Eurasia/N48E008.hgt.zip
</pre><p>
Or for OSM Mapnik tile server:
</p><pre class="screen">
* About to connect() to tile.openstreetmap.org port 80 (#0)
*   Trying 193.63.75.28... * connected
* Connected to tile.openstreetmap.org (193.63.75.28) port 80 (#0)
 GET /13/4065/2748.png HTTP/1.1
User-Agent: viking/0.9.96 libcurl/7.20.1 GnuTLS/2.8.6 zlib/1.2.3.4 libidn/1.18
Host: tile.openstreetmap.org
Accept: */*

* HTTP 1.0, assume close after body
 HTTP/1.0 200 OK
 Date: Thu, 14 Oct 2010 22:18:42 GMT
 Server: Apache/2.2.8 (Ubuntu)
 ETag: "b66ff9d46474bab68262a3483428a232"
** (viking:16704): DEBUG: curl_get_etag_func: ETAG found: "b66ff9d46474bab68262a3483428a232"
 Content-Length: 17194
 Cache-Control: max-age=94805
 Expires: Sat, 16 Oct 2010 00:38:47 GMT
 Content-Type: image/png
 Age: 5153
 X-Cache: HIT from konqi.openstreetmap.org
 X-Cache-Lookup: HIT from konqi.openstreetmap.org:3128
 Via: 1.1 konqi.openstreetmap.org:3128 (squid/2.7.STABLE7)
 Connection: close
 
* Closing connection #0
* About to connect() to a.andy.sandbox.cloudmade.com port 80 (#0)
*   Trying 178.63.75.195... ** (viking:16704): DEBUG: curl_download_uri: uri=http://tile.openstreetmap.org/13/4065/2749.png
* About to connect() to tile.openstreetmap.org port 80 (#0)
*   Trying 193.63.75.28... * connected
* Connected to a.andy.sandbox.cloudmade.com (178.63.75.195) port 80 (#0)
 GET /tiles/cycle/13/4065/2747.png HTTP/1.1
User-Agent: viking/0.9.96 libcurl/7.20.1 GnuTLS/2.8.6 zlib/1.2.3.4 libidn/1.18
Host: a.andy.sandbox.cloudmade.com
Accept: */*

* connected
* Connected to tile.openstreetmap.org (193.63.75.28) port 80 (#0)
 GET /13/4065/2749.png HTTP/1.1
User-Agent: viking/0.9.96 libcurl/7.20.1 GnuTLS/2.8.6 zlib/1.2.3.4 libidn/1.18
Host: tile.openstreetmap.org
Accept: */*

* HTTP 1.0, assume close after body
 HTTP/1.0 200 OK
 Date: Thu, 14 Oct 2010 23:44:35 GMT
 Server: Apache/2.2.8 (Ubuntu)
 ETag: "8e520ad47ce9c1b63430554886eb5fab"
** (viking:16704): DEBUG: curl_get_etag_func: ETAG found: "8e520ad47ce9c1b63430554886eb5fab"
 Content-Length: 18094
 Cache-Control: max-age=87742
 Expires: Sat, 16 Oct 2010 00:06:57 GMT
 Content-Type: image/png
 X-Cache: MISS from konqi.openstreetmap.org
 X-Cache-Lookup: MISS from konqi.openstreetmap.org:3128
 Via: 1.1 konqi.openstreetmap.org:3128 (squid/2.7.STABLE7)
 Connection: close
</pre><p>
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="extend_viking"></a>18. Extending Viking</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#map_source">18.1. Map Sources</a></span></dt><dt><span class="section"><a href="index.html#search_provider">18.2. Go-to Search Engines</a></span></dt><dt><span class="section"><a href="index.html#idm3671">18.3. External Tools</a></span></dt><dt><span class="section"><a href="index.html#idm3702">18.4. Routing Engines</a></span></dt><dt><span class="section"><a href="index.html#idm3774">18.5. Remote File Datasources</a></span></dt><dt><span class="section"><a href="index.html#idm3830">18.6. System Extension File Locations</a></span></dt><dt><span class="section"><a href="index.html#config_file_loc">18.7. User Configuration File Location</a></span></dt><dt><span class="section"><a href="index.html#misc_settings">18.8. Miscellaneous Settings</a></span></dt><dt><span class="section"><a href="index.html#config_keys">18.9. Keyboard Shortcuts (Accelerator) Settings</a></span></dt></dl></div><p>Currently, <span class="application">Viking</span> has some extension points based on configuration files. The file format is heavily inspired by the GtkBuilder file format: you specify the class of the GObject to build and set its properties. Technically, it is a XML file containing a "objects" root element. Inside this element, you set a collection of "object".</p><p>Here is an example:
</p><pre class="programlisting">
&lt;objects&gt;
  &lt;object class="ClassName"&gt;
    &lt;property name="property_name1"&gt;Property value&lt;/property&gt;
    &lt;property name="property_name2"&gt;Property value&lt;/property&gt;
  &lt;/object&gt;
  ...
&lt;objects&gt;

</pre><p>
</p><p>You can find more examples as installed on your system and in the documentation part of the distribution. Typically these will be installed into one of the $XDG_DATA_DIR locations, such as <code class="filename">/usr/share/viking/</code> or <code class="filename">C:\Program Files\Viking\data</code> depending on the Operating System.</p><p>
	It is also possible to override the internal defaults e.g. to update any parameters should they change over time,
	by adding the values into your configuration file.
	When you define object group that already exists (and for Maps this means by a repeated Id key, but you may have to examine the source code to work out what the relevant Id values are) then you need to define all the other keys as well, otherwise they will be reset to the defaults.
      </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="map_source"></a>18.1. Map Sources</h3></div></div></div><p>It is possible to add new map sources. The file is <code class="filename">maps.xml</code> placed in your <a class="xref" href="index.html#config_file_loc" title="18.7. User Configuration File Location">User Configuration File Location</a></p><p>An example of the file is in the distribution <code class="filename">doc/examples/maps.xml</code>. Further examples and values are online in the <a class="ulink" href="https://sourceforge.net/p/viking/wikiallura/Maps/" target="_top">Maps Wiki</a></p><p>The <code class="classname">VikSlippyMapSource</code> allows declaration of any map source working like OpenStreetMap. It supports the following properties:
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">id</span></dt><dd><p>this is an integer and should be unique as it used to identify the map source</p></dd><dt><span class="term">name</span></dt><dd><p>a string (should be unique) that is used for the OSM style cache directory name when the Map Cache directory is the default (<code class="filename">~/.viking-maps</code>)</p></dd><dt><span class="term">label</span></dt><dd><p>the text displayed in the map's source selection dialog</p></dd><dt><span class="term">hostname</span></dt><dd><p>the server's hostname (eg. "tile.openstreetmap.org")</p></dd><dt><span class="term">url</span></dt><dd><p>the parametrized address of the tile, in the spirit of C printf format, with 3 "%d" fields for Z, X and Y (in that order) (eg. "/%d/%d/%d.png")</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The full parametrized address can just be put in the URL field and the hostname field doesn't need specifying.</p><p>e.g. "https://tile.openstreetmap.org/%d/%d/%d.png"</p></td></tr></table></div></dd><dt><span class="term">custom-http-headers (optional)</span></dt><dd><p>Custom HTTP headers to be added to the download request. The default is none.</p><p>Multiple headers can be specified by separating each part with an '\n'.</p><p>The header allows of substition of values of the positional Z, X and Y (in that order) values, as per the <span class="emphasis"><em>url</em></span> option above. Using multiple and/or different ordered values can be acheived via printf() positional argument specifiers. For example:</p><p><code class="literal">DNT: 1\nLine2: %d %d %d\nReordered: %3$d %1$d %2$d\nUser-Agent: Mozilla/5.0</code></p></dd><dt><span class="term">copyright (optional)</span></dt><dd><p>The copyright of the map source.</p></dd><dt><span class="term">license (optional)</span></dt><dd><p>The license of the map source.</p></dd><dt><span class="term">license-url (optional)</span></dt><dd><p>The URL of the license of the map source.</p></dd><dt><span class="term">zoom-min (optional)</span></dt><dd><p>The minimum Tiled Web Map zoom value supported by the tile server. The Default is 0 if not specified.</p></dd><dt><span class="term">zoom-max (optional)</span></dt><dd><p>The maximum Tiled Web Map zoom value supported by the tile server. The Default is 18 if not specified.</p></dd><dt><span class="term">lat-min (optional)</span></dt><dd><p>The minimum latitude value in degrees supported by the tile server. The Default is -90 degrees if not specified.</p></dd><dt><span class="term">lat-max (optional)</span></dt><dd><p>The maximum latitude value in degrees supported by the tile server. The Default is 90 degrees if not specified.</p></dd><dt><span class="term">lon-min (optional)</span></dt><dd><p>The minimum longitude value in degrees supported by the tile server. The Default is -180 degrees if not specified.</p></dd><dt><span class="term">lon-max (optional)</span></dt><dd><p>The maximum longitude value in degrees supported by the tile server. The Default is 180 degrees if not specified.</p></dd><dt><span class="term">file-extension (optional)</span></dt><dd><p>The file extension of the files on disk. The default is <span class="emphasis"><em>.png</em></span></p><p>If the tile source URL ends in something other than .png, then this parameter will need to match it.</p><p>This can also be useful in reading a tileset from other software which may name tiles in an alternative form,
                      e.g. for Mobile Atlas creator it names them <span class="emphasis"><em>.png.tile</em></span></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The file types actually usable are those supported by GDK Pixbuf Library, which includes at least PNG and JPEG.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Remember to include the beginning <span class="emphasis"><em>'.'</em></span> when specifying this parameter.</p></td></tr></table></div></dd><dt><span class="term">use-direct-file-access (optional)</span></dt><dd><p>Only use files on disk. The default is <span class="emphasis"><em>FALSE</em></span></p><p>This can also be useful for tilesets already on disk as it will avoid attempting to download any tiles.</p><p>Thus with this type the <span class="emphasis"><em>hostname</em></span> and <span class="emphasis"><em>url</em></span> parameters are not necessary and are ignored.</p></dd><dt><span class="term">offset-x (optional)</span></dt><dd><p>The offset of the map in the x plane (towards east) in metres. The default is 0.0 if not specified.</p><p>Use negative numbers to adjust in a westerly direction.</p><p>Typical usage would be aligning differing maps, e.g. aerial imagery may be offset from cadastral maps.</p><p>Currently this is a single value that applies to all zoom levels.</p></dd><dt><span class="term">offset-y (optional)</span></dt><dd><p>The offset of the map in the y plane (towards north) in metres. The default is 0.0 if not specified.</p><p>Use negative numbers to adjust in a southerly direction.</p></dd><dt><span class="term">switch-xy (optional)</span></dt><dd><p>Swap the X,Y values around in the URL parametrized ordering.</p><p>The default is false.</p></dd><dt><span class="term">check-file-server-time (optional)</span></dt><dd><p>Sends the timestamp of the tile to the server, so the server can decide whether it should send a new tile or not.</p><p>The default is false.</p></dd><dt><span class="term">use-etag (optional)</span></dt><dd><p>Use and compare the <a class="ulink" href="https://en.wikipedia.org/wiki/HTTP_ETag" target="_top">ETag</a> value in determining whether to download a newer tile. The default is false.</p><p>The ETag value is stored in a separate file in the same directory as the tile to enable checking the value across multiple runs of the program.</p></dd><dt><span class="term">referer (optional)</span></dt><dd><p>A URL to serve as referer for the HTTP request (eg. "http://hostname/")</p></dd><dt><span class="term">follow-location (optional)</span></dt><dd><p>The maximum number of redirects allowed. The default is 0, i.e. no redirection. Use -1 for an unlimited number of redirects.</p></dd><dt><span class="term">tilesize-x (optional)</span></dt><dd><p>The tile x size. The default is 256 pixels if not specified.</p></dd><dt><span class="term">tilesize-y (optional)</span></dt><dd><p>The tile y size. The default is 256 pixels if not specified.</p></dd><dt><span class="term">scale (optional)</span></dt><dd><p>The tile scale. The scale is 1 if not specified.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Use a value of 2 to represent high res tiles.
		Don't change the tilesize as the internal display size is still based on 256 pixels.
		</p></td></tr></table></div></dd></dl></div><p>
        </p><p></p><p>The <code class="classname">VikTmsMapSource</code> allows declaration of any TMS service. A TMS (Tile Map Service) is defined in <a class="ulink" href="https://wiki.osgeo.org/wiki/Tile_Map_Service_Specification" target="_top">Tile Map Service Specification</a>. The configuration supports the following properties (as per <code class="classname">VikSlippyMapSource</code> above):</p><p>
          </p><table border="0" summary="Simple list" class="simplelist"><tr><td>id</td></tr><tr><td>label</td></tr><tr><td>hostname</td></tr><tr><td>url</td></tr><tr><td>custom-http-headers (optional)</td></tr><tr><td>copyright (optional)</td></tr><tr><td>license (optional)</td></tr><tr><td>license-url (optional)</td></tr><tr><td>check-file-server-time (optional)</td></tr><tr><td>follow-location (optional)</td></tr><tr><td>referer (optional)</td></tr><tr><td>zoom-min (optional)</td></tr><tr><td>zoom-max (optional)</td></tr><tr><td>lat-min (optional)</td></tr><tr><td>lat-max (optional)</td></tr><tr><td>lon-min (optional)</td></tr><tr><td>lon-max (optional)</td></tr><tr><td>file-extension (optional)</td></tr><tr><td>scale (optional)</td></tr><tr><td>tilesize-x (optional)</td></tr><tr><td>tilesize-y (optional)</td></tr><tr><td>offset-x (optional)</td></tr><tr><td>offset-y (optional)</td></tr></table><p>
        </p><p></p><p>The <code class="classname">VikWmscMapSource</code> allows declaration of any WMS or WMS-C service. A WMS (Web Map Service) is defined in <a class="ulink" href="https://wiki.osgeo.org/wiki/WMS_Tile_Caching" target="_top">WMS Tile Caching</a>. The configuration supports the following properties (as per <code class="classname">VikSlippyMapSource</code> above):</p><p>
          </p><table border="0" summary="Simple list" class="simplelist"><tr><td>id</td></tr><tr><td>label</td></tr><tr><td>hostname</td></tr><tr><td>url</td></tr><tr><td>custom-http-headers (optional)</td></tr><tr><td>copyright (optional)</td></tr><tr><td>license (optional)</td></tr><tr><td>license-url (optional)</td></tr><tr><td>check-file-server-time (optional)</td></tr><tr><td>follow-location (optional)</td></tr><tr><td>referer (optional)</td></tr><tr><td>zoom-min (optional)</td></tr><tr><td>zoom-max (optional)</td></tr><tr><td>lat-min (optional)</td></tr><tr><td>lat-max (optional)</td></tr><tr><td>lon-min (optional)</td></tr><tr><td>lon-max (optional)</td></tr><tr><td>file-extension (optional)</td></tr><tr><td>scale (optional)</td></tr><tr><td>tilesize-x (optional)</td></tr><tr><td>tilesize-y (optional)</td></tr><tr><td>offset-x (optional)</td></tr><tr><td>offset-y (optional)</td></tr></table><p>
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="search_provider"></a>18.2. Go-to Search Engines</h3></div></div></div><p>It is possible to add new new search engines for the "Go-To" feature. The file is <code class="filename">goto_tools.xml</code>  placed in your <a class="xref" href="index.html#config_file_loc" title="18.7. User Configuration File Location">User Configuration File Location</a>.</p><p>An example of the file in the distribution <code class="filename">doc/examples/goto_tools.xml</code>.</p><p>Currently, there is a single object class available: <code class="classname">VikGotoXmlTool</code>. This feature allows one to declare any search engine using a XML format as result.</p><p>The related properties are:
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">label</span></dt><dd><p>the text displayed in the <span class="guilabel">Go-To</span> dialog</p></dd><dt><span class="term">url-format</span></dt><dd><p>the parametrized address of the query, in the spirit of C <code class="function">printf</code> format, with a single "%s" field (replaced by the query string)</p></dd><dt><span class="term">lat-path</span></dt><dd><p>XML path of the latitude (eg. <code class="literal">/root/parent/elem</code>)</p></dd><dt><span class="term">lat-attr (optional)</span></dt><dd><p>name of the attribute (of previous element) containing the latitude</p></dd><dt><span class="term">lon-path</span></dt><dd><p>XML path of the longitude (eg. <code class="literal">/root/parent/elem</code>)</p></dd><dt><span class="term">lon-attr (optional)</span></dt><dd><p>name of the attribute (of previous element) containing the longiude</p></dd></dl></div><p>
        </p><p>As a facility (or readability) it is possible to set both path and attribute name in a single property, like an XPath expression. To do so, simply set both info in lat-path (or lon-path) in the following format: <code class="literal">/root/parent/elem@attribute</code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm3671"></a>18.3. External Tools</h3></div></div></div><p>It is possible to add new external tools. The file is <code class="filename">external_tools.xml</code> placed in your <a class="xref" href="index.html#config_file_loc" title="18.7. User Configuration File Location">User Configuration File Location</a>.</p><p>An example of the file in the distribution <code class="filename">doc/examples/external_tools.xml</code>.</p><p>The <code class="classname">VikWebtoolCenter</code> allows one to declare any Webtool using a logic based on center coordinates and zoom level value.</p><p>The related properties are:
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">label</span></dt><dd><p>the text displayed in the menu entry</p></dd><dt><span class="term">url</span></dt><dd><p>the parametrized URL to open, in the spirit of C printf format, with 2 "%s" and a "%d" fields for X, Y and Z (zoom level) (eg. "http://hostname/?lat=%s&amp;lon=%s&amp;zoom=%d")</p></dd></dl></div><p>
        </p><p>The <code class="classname">VikWebtoolBounds</code> allows one to declare any Webtool using a logic based on bounds coordinates.</p><p>The related properties are:
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">label</span></dt><dd><p>the text displayed in the menu entry</p></dd><dt><span class="term">url</span></dt><dd><p>the parametrized address of the tile, in the spirit of C printf format, with 4 "%s" fields for left, right, bottom and top (eg. "http://hostname:8111/load_and_zoom?left=%s&amp;right=%s&amp;bottom=%s&amp;top=%s")</p></dd></dl></div><p>
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm3702"></a>18.4. Routing Engines</h3></div></div></div><p>It is possible to declare new routing engines. The file is <code class="filename">routing.xml</code> placed in your <a class="xref" href="index.html#config_file_loc" title="18.7. User Configuration File Location">User Configuration File Location</a>.</p><p>An example of the file in the distribution <code class="filename">doc/examples/routing.xml</code>.</p><p>The <code class="classname">VikRoutingWebEngine</code> allows one to declare a routing engine available via HTTP.</p><p>The related properties are:
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">id</span></dt><dd><p>a string, should be unique as it used to identify the routing engine</p></dd><dt><span class="term">label</span></dt><dd><p>the text displayed in the menu entry</p></dd><dt><span class="term">format</span></dt><dd><p>The <span class="application">GPSBabel</span> format code to interpret the service response. By default a GPX response is expected and processed internally. However if the service returns a different format then <span class="application">GPSBabel</span> is used to transform the text into something that Viking can understand. Only formats that <span class="application">GPSBabel</span> supports can be used: e.g. <span class="emphasis"><em>gtrnctr</em></span> (for Garmin Training Center .tcx files), etc...</p><p>Use <span class="command"><strong>gpsbabel --help</strong></span> on the command line to find out the supported file types and their codes to process them.</p><p>Some format codes are handled natively by Viking such as <span class="emphasis"><em>gpx</em></span> and <span class="emphasis"><em>kml</em></span>.</p><p>A special format code of <span class="emphasis"><em>viking-geojson-osrm</em></span> is available for handling responses by <a class="ulink" href="http://project-osrm.org/" target="_top">OSRM</a> route servers.</p></dd><dt><span class="term">url-base</span></dt><dd><p>the base URL of the web service (eg. "http://hostname/service?")</p></dd><dt><span class="term">url-start-ll</span></dt><dd><p>the part of the URL setting the starting point location, parametrized in the spirit of C printf format, with 2 "%s" for coordinates (eg. "&amp;start=%s,%s")</p></dd><dt><span class="term">url-stop-ll</span></dt><dd><p>the part of the URL setting the end point location, parametrized in the spirit of C printf format, with 2 "%s" for coordinates (eg. "&amp;stop=%s,%s")</p></dd><dt><span class="term">url-via-ll (optional)</span></dt><dd><p>the part of the URL setting via point location, parametrized in the spirit of C printf format, with 2 "%s" for coordinates (eg. "&amp;via=%s,%s")</p></dd><dt><span class="term">url-start-dir (optional)</span></dt><dd><p>the part of the URL setting the starting point location for direction based routing, parametrized in the spirit of C printf format, with one "%s" for direction (eg. "&amp;start=%s")</p></dd><dt><span class="term">url-stop-dir (optional)</span></dt><dd><p>the part of the URL setting the end point location for direction based routing, parametrized in the spirit of C printf format, with one "%s" for direction (eg. "&amp;stop=%s")</p></dd><dt><span class="term">url-ll-lat-first (optional)</span></dt><dd><p>The ordering of the lat/long terms in the Start, Stop and Via URL settings. By default this is TRUE.</p><p>For instance using Brouter services, the URL uses a pair of values which is longitude and then latitude. Thus setting this value to FALSE ensures the value substitution is performed in the necessary order.</p></dd><dt><span class="term">referer (optional)</span></dt><dd><p>A URL to serve as referer for the HTTP request (eg. "http://hostname/")</p></dd><dt><span class="term">follow-location (optional)</span></dt><dd><p>The maximum number of redirects allowed. The default is 0, i.e. no redirection. Use -1 for an unlimited number of redirects.</p></dd></dl></div><p>
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm3774"></a>18.5. Remote File Datasources</h3></div></div></div><p>It is possible to add web references expected to return a file which can then be opened directly or converted via GPSBabel.</p><p>The file is <code class="filename">datasources.xml</code> placed in your <a class="xref" href="index.html#config_file_loc" title="18.7. User Configuration File Location">User Configuration File Location</a>.</p><p>An example of the file is in the source distribution <code class="filename">doc/examples/datasources.xml</code>.</p><p>The <code class="classname">VikWebtoolDatasource</code> allows one to declare any URL using logic based on coordinates.</p><p>The related properties are:
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">label</span></dt><dd><p>the text displayed in the menu entry</p></dd><dt><span class="term">url</span></dt><dd><p>the parametrized URL to open in the spirit of C printf format, with up to 9 "%s" values. e.g. <code class="literal">http://hostname/getfile?lat=%s&amp;lon=%s</code></p><p>The order and meaning of these parameters is given by the url_format_code below</p></dd><dt><span class="term">url_format_code</span></dt><dd><p>A string describing the parametrized URL substitution parameters, each character represents how to translate each term.</p><p>B = Bottom of the current view i.e. minimum latitude</p><p>L = Left of the current view i.e. minimum longitude</p><p>T = Top of the current view i.e. maximum latitude</p><p>R = Right of the current view i.e. maximum longitude</p><p>A = center lAtitude of the current view</p><p>O = center lOngitude of the current view</p><p>Z = OSM Zoom value of the current view. See <a class="ulink" href="https://wiki.openstreetmap.org/wiki/Zoom_levels" target="_top">Zoom Levels</a></p><p>P = selected Point's latitude</p><p>N = selected poiNt's longitude</p><p>S = A user specified input string requested from the user via a dialog box</p><p>Thus for the url example above then the format code should be <span class="emphasis"><em>AO</em></span></p></dd><dt><span class="term">file_type</span></dt><dd><p>This value is passed on for the -i parameter in interfacing with GPSBabel.</p><p>If it is not defined then the returned file is interpreted internally as a GPX file.</p><p>Possible values such as 'kml', 'mapsource' etc.. can be used. See <a class="ulink" href="https://www.gpsbabel.org/capabilities.html" target="_top">GPSBabel File Formats</a> for the full list.</p></dd><dt><span class="term">babel_filter_args</span></dt><dd><p>This value is passed on for the filter arguments interfacing with GPSBabel.</p><p>E.g. "-x nuketypes,routes" can be used to filter all routes from the results.</p></dd><dt><span class="term">input_label</span></dt><dd><p>This value is used when requesting input from the user.</p><p>It is the label of the text input box.</p></dd></dl></div><p>
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm3830"></a>18.6. System Extension File Locations</h3></div></div></div><p>Note that, on <span class="trademark">UNIX</span>™ like systems, the extension files (<code class="filename">maps.xml</code>, <code class="filename">goto_tools.xml</code>, <code class="filename">datasources.xml</code>, <code class="filename">external_tools.xml</code>, <code class="filename">routing.xml</code>) are also searched in <code class="filename">/etc/viking</code> and <code class="filename">/usr/share/viking</code> directories (or related in your system).</p><p>The <code class="envar">$XDG_DATA_DIRS</code> environment variable can be used to change these directories.</p><p>The <code class="envar">$XDG_DATA_HOME</code> environment variable is also used (if set) to look for these extension files.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="config_file_loc"></a>18.7. User Configuration File Location</h3></div></div></div><p>Viking looks for its configuration files (<code class="filename">viking.prefs</code>, <code class="filename">viking.ini</code>, <code class="filename">viking.ini</code> and <code class="filename">keys.rc</code>) in a specific directory, searching legacy locations first before trying new locations. Thus if you upgrade Viking it will continue to use your existing setup.</p><p>For <span class="trademark">UNIX</span>™ like systems:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Up to v1.8</span></dt><dd><p><code class="filename">~/.viking/</code></p><p>(typically <code class="filename">/home/<em class="replaceable"><code>username</code></em>/.viking</code>)</p></dd><dt><span class="term">From v1.9 onwards</span></dt><dd><p><a class="ulink" href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html" target="_top">XDG Base Directory compliant</a></p><p>Typically <code class="filename">~/config/viking/</code></p></dd></dl></div><p>For <span class="trademark">Windows</span>™ systems:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">v1.8 or earlier</span></dt><dd><p><code class="filename">C:\Users\<em class="replaceable"><code>username</code></em>\.viking</code></p></dd><dt><span class="term">v1.9 onwards</span></dt><dd><p><code class="filename">C:\Users\<em class="replaceable"><code>username</code></em>\AppData\Local\viking</code></p></dd></dl></div><p>For <span class="trademark">Mac</span>™:</p><p><code class="filename">/Library/Application Support/Viking</code></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
            If you've upgraded <span class="application">Viking</span> to v1.9 and want it to use the new location, you will have to manually move the existing directory (when <span class="application">Viking</span> is not running). e.g. in the command line: <span class="command"><strong>mv ~/.viking ~/.config/viking</strong></span>
          </p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="misc_settings"></a>18.8. Miscellaneous Settings</h3></div></div></div><p>Various individual values are automatically saved between <span class="application">Viking</span> sessions in the <code class="filename">viking.ini</code> file placed in your <a class="xref" href="index.html#config_file_loc" title="18.7. User Configuration File Location">User Configuration File Location</a>.</p><p>This file is not intended to be manually edited, but since it is a plain text file it can be changed if desired.</p><p>Some values in this file are <span class="emphasis"><em>read only</em></span>, in the sense that there is no way to set it other than by manually entering in the keys and values (the key will not exist in the file otherwise). This allows some fine tuning of <span class="application">Viking</span> behaviours, without resorting to recompiling the code. However is it not expected that these values should need to be changed for a normal user, hence no GUI options for these have been provided.</p><p>Here is the list of the <span class="emphasis"><em>read only</em></span> keys and their default values.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>curl_cainfo=NULL</p><p>See <a class="ulink" href="https://curl.haxx.se/libcurl/c/CURLOPT_CAINFO.html" target="_top">CURLOPT_CAINFO</a></p></li><li class="listitem"><p>For <span class="trademark">UNIX</span>™ like systems: curl_ssl_verifypeer=1</p><p>For <span class="trademark">Windows</span>™ systems: curl_ssl_verifypeer=0</p><p>See <a class="ulink" href="https://curl.haxx.se/libcurl/c/CURLOPT_SSL_VERIFYPEER.html" target="_top">CURLOPT_SSL_VERIFYPEER</a></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If you encounter issues downloading from https sources, setting this to 0 should get HTTPS connections to work. For <span class="trademark">UNIX</span>™ like operating systems SSL Certificate management is typically handled system wide and trusted certficate issuers updated regularly. Whereas for Viking under Windows this is only done at installation/version update time and so may become out of date or encounter unknown sources and thus more likely to raise verification failures. Hence this is why is is turned off by default on <span class="trademark">Windows</span>™ - especially to ensure the default Maps of OpenTopoMap work without manual user intervention.</p></td></tr></table></div></li><li class="listitem"><p>curl_user_agent=NULL</p><p>Override the default HTTP User-Agent (which is otherwise generated automatically from a combination of Viking's name, the version and curl information) set in all download requests with the value specified.</p><p>Also see <a class="ulink" href="https://curl.se/libcurl/c/CURLOPT_USERAGENT.html" target="_top">CURLOPT_USERAGENT</a></p><p>NB The User Agent for individual map downloads can be set via the map property <span class="emphasis"><em>custom-http-headers</em></span></p></li><li class="listitem"><p>geoclue_accuracy_level=4</p><p>Set the integer value for the accuracy level request to the GeoClue service. Values to match the <a class="ulink" href="https://www.freedesktop.org/software/geoclue/docs/libgeoclue/libgeoclue-gclue-enums.html#GClueAccuracyLevel" target="_top">GClueAccuracyLevel</a>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>0 = GCLUE_ACCURACY_LEVEL_NONE</p></li><li class="listitem"><p>1 = GCLUE_ACCURACY_LEVEL_COUNTRY</p></li><li class="listitem"><p>4 = GCLUE_ACCURACY_LEVEL_CITY</p></li><li class="listitem"><p>5 = GCLUE_ACCURACY_LEVEL_NEIGHBORHOOD</p></li><li class="listitem"><p>6 = GCLUE_ACCURACY_LEVEL_STREET</p></li><li class="listitem"><p>8 = GCLUE_ACCURACY_LEVEL_EXACT</p></li></ul></div></li><li class="listitem"><p>gpx_tidy_points=true</p><p>ATM Only attempts to remove a suspicious first point of a GPX track
	                (as opposed to any points within a track).</p></li><li class="listitem"><p>gpx_tidy_points_max_speed=340</p><p>Over this speed (in metres per second) for the first pair of points - the first point is removed.</p></li><li class="listitem"><p>layers_create_trw_auto_default=false</p><p>Create new TrackWaypoint layers without showing the layer properties dialog first.</p></li><li class="listitem"><p>layers_panel_calendar_markup_mode=3</p><p>0=No markups. 1=Day marked. 2=Day marked and tooltips created. 3=Auto (timed tooltip creation, so if too slow it reverts to 1).</p><p>
              If the following message is shown in the message log:</p><div class="blockquote"><blockquote class="blockquote"><p><span class="emphasis"><em>vik_layers_panel_calendar_update: detail level reduced as taking too long</em></span></p></blockquote></div><p>then consider setting this value to 2 - although with the caveat that calendar refreshes may introduce noticable delays.
            </p></li><li class="listitem"><p>maps_max_tiles=1000</p></li><li class="listitem"><p>maps_min_shrinkfactor=0.0312499</p></li><li class="listitem"><p>maps_max_shrinkfactor=8.0000001</p></li><li class="listitem"><p>maps_real_min_shrinkfactor=0.0039062499</p></li><li class="listitem"><p>maps_scale_inc_down=4</p></li><li class="listitem"><p>maps_scale_inc_up=2</p></li><li class="listitem"><p>maps_scale_smaller_zoom_first=true</p></li><li class="listitem"><p>modifications_ignore_visibility_toggle=false</p><p>Particularly if one often views large .vik files,
              then changing the visibility of items may be considered just part of the viewing process.
              Thus maybe you don't want to be notified on exit about such things -
              in this case you can set this value to true.
            </p></li><li class="listitem"><p>srtm_http_base_url=https://dds.cr.usgs.gov/srtm/version2_1/SRTM3</p><p>Allows using an alternative service for acquiring DEM SRTM files.
	    Note that the layout on the server needs to be split into Continent directories.</p></li><li class="listitem"><p>mapnik_buffer_size=128 (in pixels)</p></li><li class="listitem"><p>osm_basic_auth=false</p><p>Set to true to force the use of HTTP Basic Authentication even when OAuth is available</p></li><li class="listitem"><p>background_max_threads=10</p></li><li class="listitem"><p>background_max_threads_local=<span class="emphasis"><em>Number of CPUs</em></span></p></li><li class="listitem"><p>window_default_tool=Select</p><p>Options are: Pan, Zoom, Ruler or Select</p></li><li class="listitem"><p>window_menubar=true</p></li><li class="listitem"><p>window_copy_centre_full_format=false</p></li><li class="listitem"><p>window_move_scroll_timeout=5 (milliseconds)</p><p>Time to wait between move scroll events before redrawing</p></li><li class="listitem"><p>window_zoom_scroll_timeout=150 (milliseconds)</p><p>Time to wait between zoom scroll events before redrawing</p></li><li class="listitem"><p>window_pinch_gesture_factor=1.5</p><p>Sensitivity factor for pinch zooming. Best to use keep this value somewhere between 0.5 and 3.0 - a higher value is more sensitive.</p></li><li class="listitem"><p>version_check_period_days=14</p></li><li class="listitem"><p>trackwaypoint_start_end_distance_diff=100.0</p></li><li class="listitem"><p>gps_statusbar_format=GSA</p><p>This string is in the Message Format Code</p></li><li class="listitem"><p>geoclue_statusbar_format=SA</p><p>This string is in the Message Format Code</p></li><li class="listitem"><p>trkpt_selected_statusbar_format=KEATDN</p><p>This string is in the Message Format Code</p></li><li class="listitem"><p>utils_nearest_tz_factor=1.0</p></li><li class="listitem"><p>viewport_history_size=20</p></li><li class="listitem"><p>viewport_history_diff_dist=500</p><p>In metres.</p><p>
	      Go Back or Go Forward requests over this range from the last history location will move back to that position.
	      If within this range it will skip over this location and move on to the next saved history location.
	    </p></li><li class="listitem"><p>viewport_scale=1</p><p>
	      If Viking doesn't automatically detect a high resolution display, you can force the setting here - typically by setting this to 2.
	    </p></li><li class="listitem"><p>external_diary_program=<a class="ulink" href="https://rednotebook.sourceforge.io/" target="_top">rednotebook</a></p><p>Or in Windows it uses <code class="filename">C:/Progra~1/Rednotebook/rednotebook.exe</code> - This string value must use Unix separators and not have spaces.</p></li><li class="listitem"><p>external_astro_program=<a class="ulink" href="https://stellarium.org/" target="_top">stellarium</a></p><p>Or in Windows use <code class="filename">C:/Progra~1/Stellarium/stellarium.exe</code> - This string value must use Unix separators and not have spaces.
	          Needs to be version 0.15.0 or greater (otherwise due to this <a class="ulink" href="https://bugs.launchpad.net/stellarium/+bug/1410529" target="_top">Bug</a> means this does not actually work).</p></li><li class="listitem"><p>external_text_program=<span class="application">gedit</span></p><p>Or in Windows it uses <span class="application">notepad</span> - This string value must use Unix separators and not have spaces.</p></li><li class="listitem"><p>bfilter_simplify=100</p></li><li class="listitem"><p>bfilter_compress=0.001</p></li><li class="listitem"><p>list_date_format=%Y-%m-%d %H:%M</p><p>A <a class="ulink" href="https://pubs.opengroup.org/onlinepubs/007908799/xsh/strftime.html" target="_top">date format description</a> as passed on to strftime().
	          Note that when displayed in tables sorting by this column simply uses the text value, rather than the underlying date/time value.
	    </p></li><li class="listitem"><p>export_device_path=OS Specific</p><p>UNIX = "/media/<span class="italic">user</span>/GARMIN/Garmin/GPX"</p><p>WINDOWS = ":/Garmin/GPX"</p></li><li class="listitem"><p>export_device_trackpoint_limit=10000 (Typical Garmin Edge limit)</p><p>Older Garmins limits are typically much lower - Etrex 20/30 is 500</p></li><li class="listitem"><p>export_device_routepoint_limit=250</p></li><li class="listitem"><p>kmz_default_maps_dir=<span class="italic">Empty</span></p><p>You may want to use something like: "/media/<span class="italic">user</span>/GARMIN/Garmin/CustomMaps"</p></li><li class="listitem"><p>geotag_photo_dir="/home/<span class="italic">user</span>/Pictures"</p><p>Override the base search location for photographs</p><p>A matching dated directory corresponding to the track is attempted of the format /geotag_photo_dir/YYYY/MM/DD</p></li><li class="listitem"><p>gpx_comment_time_format="%d-%B-%y %H:%M:%S"</p><p>The fallback format used in generating timestamps for waypoints from their comment</p></li><li class="listitem"><p>use_env_browser=false</p><p>By default Viking uses the low level function gtk_show_uri_on_window() function to open URLs, which typically results in opening a new instance of a web browser.</p><p>This can be overridden by setting this configuration value to true and setting the environment variable <code class="envar">BROWSER</code> to invoke the desired browser, optionally including command line parameters to invoke the desired behaviour; such as "firefox --new-tab".</p><p>One could even have a more complicated string to run a specific version with a specific profile, e.g.
              <span class="command"><strong>BROWSER="/home/rob/Downloads/firefox/firefox -P 'Nightly' --new-tab" viking</strong></span>
            </p><p>Note that if you set <code class="envar">BROWSER</code>, other programs may also use this value.</p><p>This is not applicable on Windows as currently Viking uses the low level function ShellExecute() method to open URLs.</p></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm4089"></a>18.8.1. Message Format Code</h4></div></div></div><p>Currently for ease of implementation the message format code is a string of characters.</p><p>Each character represents what should be inserted in relation to a Trackpoint.</p><p>One day it might evolve into something more user friendly with a frontend to control it, perhaps allowing arbitrary text too. However for now at least some control is offered :)</p><p>
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Character Code</span></dt><dd><p>G = Some text to display at the start of the message - <span class="emphasis"><em>GPSD</em></span></p><p>K = Some text to display at the start of the message - <span class="emphasis"><em>Trkpt</em></span></p><p>A = Altitude of a Trackpoint</p><p>S = Speed of a Trackpoint</p><p>B = Vertical Speed (Climb)</p><p>C = Course of a Trackpoint</p><p>L = Location of a Trackpoint</p><p>T = Time of a Trackpoint</p><p>M = Time diff of a Trackpoint from the previous trackpoint</p><p>X = Number of satellites used in the trackpoint fix</p><p>D = Distance of the trackpoint from the start of a track (following along the track)</p><p>F = Distance of the trackpoint from the finish (end) of a track (following along the track)</p><p>P = Distance difference of the trackpoint from the previous trackpoint</p><p>N = Name of track to which the trackpoint belongs</p><p>E = Name of the trackpoint</p></dd><dt><span class="term">Output Notes</span></dt><dd><p>If the output has <span class="emphasis"><em>*</em></span> after it, then the value has been calculated via interpolation (such as speed when the Trackpoint does not contain a speed value).</p><p>If the output has <span class="emphasis"><em>**</em></span> after it, then difficulties were encountered in trying to work out the value so probably a default of 0 will be shown.</p></dd></dl></div><p>
	  </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="config_keys"></a>18.9. Keyboard Shortcuts (Accelerator) Settings</h3></div></div></div><p>This is held in the file <code class="filename">keys.rc</code> in your <a class="xref" href="index.html#config_file_loc" title="18.7. User Configuration File Location">User Configuration File Location</a>.</p><p>It is in the standard GTK Accelerator map format. Values are automatically read in and saved between <span class="application">Viking</span> sessions.</p><p>This file is not intended to be manually edited, but since it is a plain text file it can be changed if desired.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="recommends"></a>19. Recommended Programs</h2></div></div></div><p><b>gpsbabel. </b>Viking uses <a class="ulink" href="https://gpsbabel.org/" target="_top">GPSBabel</a> for several important functions, such as:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Importing Files from many formats (including KML)</p></li><li class="listitem"><p>Exporting Files to various formats</p></li><li class="listitem"><p>Transfer Data to/from GPS Devices via serial connections</p></li></ul></div><p>Thus these will not be available if the program can not be found.</p><p>For <span class="trademark">Unix</span>™ like systems this will search the system path to find the program, as it is typically installed via the System's package manager.</p><p>
	From Viking 1.6 onwards <a class="ulink" href="https://gpsbabel.org/" target="_top">GPSBabel</a> is not deployed automatically on <span class="trademark">Windows</span>™ systems.
	If <a class="ulink" href="https://gpsbabel.org/" target="_top">GPSBabel</a> is not installed in a typical <span class="trademark">Windows</span>™ location that Viking can find,
	then the <a class="ulink" href="https://gpsbabel.org/" target="_top">GPSBabel</a> preference can be set to specify the exact location. See <a class="xref" href="index.html#prefs_external" title="16.2. Export/External">Export/External Preferences</a>.
</p><p>Viking will need to be restarted to use the new <a class="ulink" href="https://gpsbabel.org/" target="_top">GPSBabel</a> location preference.</p><p><b>unbuffer. </b>Viking uses unbuffer command to optimize conversion calls.</p><p>This mainly applies to <span class="trademark">Unix</span>™ like systems when invoking <a class="ulink" href="https://gpsbabel.org/" target="_top">GPSBabel</a> commands.</p><p><b>gpsd (not available for <span class="trademark">Windows</span>™). </b>Viking can use <a class="ulink" href="https://gpsd.gitlab.io/gpsd" target="_top">gpsd</a> to get the current location.</p><p><b>togpx. </b>Viking will use <a class="ulink" href="https://github.com/tyrasd/togpx" target="_top">togpx</a> to open GeoJSON files if the program is available on the system.</p><p><b>togeojson. </b>Viking will use <a class="ulink" href="https://github.com/mapbox/togeojson" target="_top">togeojson</a> to export to GeoJSON files if the program is available on the system.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="commandline"></a>20. Command Line</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#idm4177">20.1. Overview</a></span></dt><dt><span class="section"><a href="index.html#idm4244">20.2. Details</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm4177"></a>20.1. Overview</h3></div></div></div><p>
Viking being a Graphical User Interface program only has a few command line options.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm4244"></a>20.2. Details</h3></div></div></div><p>
Note that the ordering of files can be important depending on their file type.
Subsequent non Viking project files are loaded into the previous Viking project, with the files being processed left to right.
Some examples:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">viking file1.gpx file2.gpx file3.gpx</code></p><p> Here all GPX files are loaded into a new Viking project in one window.</p></li><li class="listitem"><p><code class="literal">viking file1.vik file2.vik</code></p><p> Each Viking project file is opened in a new window.</p></li><li class="listitem"><p><code class="literal">viking file1.vik file2.gpx file3.gpx</code></p><p> The GPX files are loaded into the Viking project in one window.</p></li><li class="listitem"><p><code class="literal">viking file2.gpx file3.gpx file1.vik</code></p><p> The GPX files are loaded into a new Viking project in a one window and the Viking project is loaded seperately in a seperate window.</p></li></ul></div><div class="table"><a name="idm4264"></a><p class="title"><b>Table 1. Command Line Reference</b></p><div class="table-contents"><table class="table" summary="Command Line Reference" border="1"><colgroup><col><col><col></colgroup><thead><tr><th align="left">Short Option</th><th align="left">Long Option</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">-h</td><td align="left">--help</td><td align="left">Show the command line options and then exit.</td></tr><tr><td align="left">-V</td><td align="left">--verbose</td><td align="left">Run in verbose mode. Some information about what Viking is doing is shown in stdout.</td></tr><tr><td align="left">-d</td><td align="left">--debug</td><td align="left">Run in debug mode. Even more information about what Viking is doing is shown in stdout.
This also enables some extra information features in the GUI itself, primarily of interest to developers.
  </td></tr><tr><td align="left">-v</td><td align="left">--version</td><td align="left">Show the version and then exit.</td></tr><tr><td align="left">N/A</td><td align="left">--latitude</td><td align="left">Set the initial position to the specified latitude in decimal degrees.</td></tr><tr><td align="left">N/A</td><td align="left">--longitude</td><td align="left">Set the initial position to the specified longitude in decimal degrees.</td></tr><tr><td align="left">-z</td><td align="left">--zoom</td><td align="left">Set the initial zoom level. The value is the OSM zoom level (0 - 22).</td></tr><tr><td align="left">-m</td><td align="left">--map</td><td align="left">Add a map layer by specifying the map id. The value needs to match one of the internal ids or an id from the <a class="xref" href="index.html#map_source" title="18.1. Map Sources">Map Source Extensions</a>.
   Specifying a value of 0 will use the map layer default.</td></tr><tr><td align="left">-e</td><td align="left">--external</td><td align="left">The GPX files specified on the command line will be loaded in as <span class="emphasis"><em>external files</em></span> as per the <a class="xref" href="index.html#open_gpx_external" title="3.7. Open GPX as External Layer">Section 3.7, “Open GPX as External Layer”</a> method.</td></tr></tbody></table></div></div><br class="table-break"><div class="variablelist"><dl class="variablelist"><dt><span class="term"></span></dt><dd><p>Internal Map Ids:</p></dd><dt><span class="term"></span></dt><dd><p>OSM Mapnik = 13</p></dd><dt><span class="term"></span></dt><dd><p>OSM Cycle = 17</p></dd><dt><span class="term"></span></dt><dd><p>OSM Transport = 20</p></dd><dt><span class="term"></span></dt><dd><p>OSM Humanitarian = 22</p></dd></dl></div><p>
An example to open at a specified location with an OSM Mapnik map layer:
</p><pre class="screen">viking --latitude 51.4 --longitude -1.3 --zoom 12 --map 13</pre><p>
If a file is also specified on the command line, the command line location and zoom parameters will take precendence.
</p><p>
  Viking supports <a class="ulink" href="https://tools.ietf.org/html/rfc5870" target="_top">RFC5870</a>, the 'geo' URI scheme.
  Every 'file' on the command line is checked to see if in fact it is a geo URI.
  Thus the above example in geo URI format is:
</p><pre class="screen">viking geo:51.4,-1.3?z=12 --map 13</pre><p>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
As a special combination when both <span class="emphasis"><em>-V and -d</em></span> are both enabled at the same time, Viking will not delete some of the temporary files created during the program run.
This is especially useful to monitor results of download requests (which need to be interpreted) if they suddenly start failing, as the file will have often more detailed information about the failure mode.
</p></td></tr></table></div><p>
Viking being a GTK+ program means some options are processed by GTK+ itself such as --display. Use the following to find out what they are for your system:
</p><pre class="screen">viking --help-gtk</pre><p>
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="attrib"></a>21. Attributions</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="index.html#idm4347">21.1. coords.c + coords.h</a></span></dt><dt><span class="section"><a href="index.html#idm4352">21.2. strtod.c</a></span></dt><dt><span class="section"><a href="index.html#idm4359">21.3. kdtree - 0.5.6</a></span></dt><dt><span class="section"><a href="index.html#idm4369">21.4. fpconv</a></span></dt><dt><span class="section"><a href="index.html#idm4379">21.5. GtkHTML 4.10.0</a></span></dt><dt><span class="section"><a href="index.html#idm4388">21.6. libheatmap</a></span></dt><dt><span class="section"><a href="index.html#idm4398">21.7. Data: cities15000.txt</a></span></dt><dt><span class="section"><a href="index.html#idm4408">21.8. Data: Response to online request made in vikgoto.c</a></span></dt><dt><span class="section"><a href="index.html#idm4414">21.9. Artwork: Icons</a></span></dt></dl></div><p>
This document contains licenses and notices for open source software used in this product.
The source code used in this product is available on the project website <a class="ulink" href="http://viking.sf.net" target="_top">http://viking.sf.net</a>
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm4347"></a>21.1. coords.c + coords.h</h3></div></div></div><p>Available under license:</p><pre class="screen">
** Copyright © 2001 by Jef Poskanzer <code class="email">&lt;<a class="email" href="mailto:jef@acme.com">jef@acme.com</a>&gt;</code>.
** All rights reserved.
**
** Redistribution and use in source and binary forms, with or without
** modification, are permitted provided that the following conditions
** are met:
** 1. Redistributions of source code must retain the above copyright
**    notice, this list of conditions and the following disclaimer.
** 2. Redistributions in binary form must reproduce the above copyright
**    notice, this list of conditions and the following disclaimer in the
**    documentation and/or other materials provided with the distribution.
**
** THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
** ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
** IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
** ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
** FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
** DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
** OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
** HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
** LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
** OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
** SUCH DAMAGE.
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm4352"></a>21.2. strtod.c</h3></div></div></div><p>Source: <a class="ulink" href="http://www.jbox.dk/sanos/" target="_top">http://www.jbox.dk/sanos/</a></p><p>Version: Sanos 1.3.2</p><p>Available under license:</p><pre class="screen">
// Copyright (C) 2002 Michael Ringgaard. All rights reserved.
//
// Redistribution and use in source and binary forms, with or without
// modification, are permitted provided that the following conditions
// are met:
// 
// 1. Redistributions of source code must retain the above copyright 
//    notice, this list of conditions and the following disclaimer.  
// 2. Redistributions in binary form must reproduce the above copyright
//    notice, this list of conditions and the following disclaimer in the
//    documentation and/or other materials provided with the distribution.  
// 3. Neither the name of the project nor the names of its contributors
//    may be used to endorse or promote products derived from this software
//    without specific prior written permission. 
// 
// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
// ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
// ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
// FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
// DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
// OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
// HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
// LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
// OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF 
// SUCH DAMAGE.
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm4359"></a>21.3. kdtree - 0.5.6</h3></div></div></div><p>A simple C library for working with KD-Trees.</p><p>Source: <a class="ulink" href="https://github.com/jtsiomb/kdtree" target="_top">https://github.com/jtsiomb/kdtree</a></p><p>Files used: <code class="filename">kdtree.c + kdtree.h</code></p><p>Available under license:</p><pre class="screen">
Copyright (C) 2007-2011 John Tsiombikas  <code class="email">&lt;<a class="email" href="mailto:nuclear@member.fsf.org">nuclear@member.fsf.org</a>&gt;</code>

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.
3. The name of the author may not be used to endorse or promote products
   derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO
EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
OF SUCH DAMAGE.
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm4369"></a>21.4. fpconv</h3></div></div></div><p>Converts floating point numbers to an optimal decimal string representation without loss of precision.</p><p>Source: <a class="ulink" href="https://github.com/night-shift/fpconv" target="_top">https://github.com/night-shift/fpconv</a></p><p>Available under <a class="ulink" href="https://opensource.org/licenses/MIT" target="_top">MIT license</a></p><p>Files used: <code class="filename">fpconv.c + fpconv.h</code></p><p>Version SHA:dfeb7e938fb85fb5eca130b84f856705ced75012 (August 2013)</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm4379"></a>21.5. GtkHTML 4.10.0</h3></div></div></div><p>An extract from GtkHTML for URI functions.</p><p>Source: <a class="ulink" href="https://git.gnome.org/browse/gtkhtml" target="_top">https://git.gnome.org/browse/gtkhtml</a></p><p>Available under <a class="ulink" href="https://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html" target="_top">GPL2</a> or later.</p><p>Files used: <code class="filename">gtkhtml.c + gtkhtml-private.h</code></p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm4388"></a>21.6. libheatmap</h3></div></div></div><p>A heatmap generation library.</p><p>Source: <a class="ulink" href="https://github.com/lucasb-eyer/libheatmap" target="_top">https://github.com/lucasb-eyer/libheatmap</a></p><p>Available under <a class="ulink" href="https://opensource.org/licenses/MIT" target="_top">MIT license</a></p><p>Files used: <code class="filename">heatmap.c + heatmap.h</code></p><p>Version SHA:0e22cbdaf4b4790beca2313c329db2332f2609eb (Nov 2017)</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm4398"></a>21.7. Data: cities15000.txt</h3></div></div></div><p>Source: <a class="ulink" href="https://download.geonames.org/export/dump/" target="_top">https://download.geonames.org/export/dump/</a></p><p>This is used in a lookup of positions to timezones.</p><p>Unneccesary fields in the dataset (for Viking) have been removed and the resultant file is <code class="filename">data/latlontz.txt</code></p><p>Available under license:</p><pre class="screen">
This work is licensed under a Creative Commons Attribution 3.0 License,
see <a class="ulink" href="http://creativecommons.org/licenses/by/3.0/" target="_top">http://creativecommons.org/licenses/by/3.0/</a>
The Data is provided "as is" without warranty or any representation of accuracy, timeliness or completeness.</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm4408"></a>21.8. Data: Response to online request made in vikgoto.c</h3></div></div></div><p>Use of geoPlugin services making use of geolocation data is under condition of acceptance of the <a class="ulink" href="http://creativecommons.org/licenses/by-sa/3.0/" target="_top">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p><p>This product includes GeoLite data created by MaxMind, available from <a class="ulink" href="http://www.maxmind.com" target="_top">http://www.maxmind.com</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm4414"></a>21.9. Artwork: Icons</h3></div></div></div><p>Some icons have been used courtesy of <a class="ulink" href="https://uxwing.com" target="_top">https://uxwing.com</a></p><p>Available under <a class="ulink" href="https://opensource.org/licenses/MIT" target="_top">MIT license</a></p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="re01.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"> </td><td width="40%" align="right" valign="top"> viking</td></tr></table></div></body></html>
